if (self.CavalryLogger) { CavalryLogger.start_js(["JpmtG"]); }

__d("ProductFeedsQE",[],(function a(b,c,d,e,f,g){f.exports={UNIVERSE:{CATALOG_ONBOARDING_VIDEO:"catalog_onboarding_video",PRODUCT_CATALOG_FEED_RULES:"product_catalog_feed_rules",PRODUCT_CATALOG_QUALITY_SCORE:"product_catalog_quality_score"},EXPERIMENT:{CAT_MANAGER_RAPIDO_UPLOADS:"cat_manager_rapido_uploads",PRODUCT_GRID_VIEW:"product_grid_view",PRODUCT_CATALOG_FEED_PREVIEW:"product_catalog_feed_preview"},GROUP:{TEST:"test",CONTROL:"control"}}}),null);
__d("CodeMirror4AddonFoldFoldgutter",["CodeMirror4","CodeMirror4AddonFoldFoldcode"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("CodeMirror4");c("CodeMirror4AddonFoldFoldcode");"use strict";h.defineOption("foldGutter",false,function(t,u,v){__p&&__p();if(v&&v!=h.Init){t.clearGutter(t.state.foldGutter.options.gutter);t.state.foldGutter=null;t.off("gutterClick",p);t.off("change",q);t.off("viewportChange",r);t.off("fold",s);t.off("unfold",s);t.off("swapDoc",o)}if(u){t.state.foldGutter=new j(k(u));o(t);t.on("gutterClick",p);t.on("change",q);t.on("viewportChange",r);t.on("fold",s);t.on("unfold",s);t.on("swapDoc",o)}});var i=h.Pos;function j(t){this.options=t;this.from=this.to=0}function k(t){if(t===true)t={};if(t.gutter==null)t.gutter="CodeMirror-foldgutter";if(t.indicatorOpen==null)t.indicatorOpen="CodeMirror-foldgutter-open";if(t.indicatorFolded==null)t.indicatorFolded="CodeMirror-foldgutter-folded";return t}function l(t,u){var v=t.findMarksAt(i(u));for(var w=0;w<v.length;++w)if(v[w].__isFold&&v[w].find().from.line==u)return true}function m(t){if(typeof t=="string"){var u=document.createElement("div");u.className=t+" CodeMirror-guttermarker-subtle";return u}else return t.cloneNode(true)}function n(t,u,v){__p&&__p();var w=t.state.foldGutter.options,x=u;t.eachLine(u,v,function(y){var z=null;if(l(t,x))z=m(w.indicatorFolded);else{var A=i(x,0),B=w.rangeFinder||h.fold.auto,C=B&&B(t,A);if(C&&C.from.line+1<C.to.line)z=m(w.indicatorOpen)}t.setGutterMarker(y,w.gutter,z);++x})}function o(t){var u=t.getViewport(),v=t.state.foldGutter;if(!v)return;t.operation(function(){n(t,u.from,u.to)});v.from=u.from;v.to=u.to}function p(t,u,v){var w=t.state.foldGutter.options;if(v!=w.gutter)return;t.foldCode(i(u,0),w.rangeFinder)}function q(t){var u=t.state.foldGutter,v=t.state.foldGutter.options;u.from=u.to=0;clearTimeout(u.changeUpdate);u.changeUpdate=setTimeout(function(){o(t)},v.foldOnChangeTimeSpan||600)}function r(t){__p&&__p();var u=t.state.foldGutter,v=t.state.foldGutter.options;clearTimeout(u.changeUpdate);u.changeUpdate=setTimeout(function(){__p&&__p();var w=t.getViewport();if(u.from==u.to||w.from-u.to>20||u.from-w.to>20)o(t);else t.operation(function(){if(w.from<u.from){n(t,w.from,u.from);u.from=w.from}if(w.to>u.to){n(t,u.to,w.to);u.to=w.to}})},v.updateViewportTimeSpan||400)}function s(t,u){var v=t.state.foldGutter,w=u.line;if(w>=v.from&&w<v.to)n(t,w,w+1)}}),null);
__d("CodeMirror4AddonFoldXml-fold",["CodeMirror4"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("CodeMirror4");"use strict";var i=h.Pos;function j(x,y){return x.line-y.line||x.ch-y.ch}var k="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",l=k+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",m=new RegExp("<(/?)(["+k+"]["+l+"]*)","g");function n(x,y,z,A){this.line=y;this.ch=z;this.cm=x;this.text=x.getLine(y);this.min=A?A.from:x.firstLine();this.max=A?A.to-1:x.lastLine()}function o(x,y){var z=x.cm.getTokenTypeAt(i(x.line,y));return z&&/\btag\b/.test(z)}function p(x){if(x.line>=x.max)return;x.ch=0;x.text=x.cm.getLine(++x.line);return true}function q(x){if(x.line<=x.min)return;x.text=x.cm.getLine(--x.line);x.ch=x.text.length;return true}function r(x){__p&&__p();for(;;){var y=x.text.indexOf(">",x.ch);if(y==-1)if(p(x))continue;else return;if(!o(x,y+1)){x.ch=y+1;continue}var z=x.text.lastIndexOf("/",y),A=z>-1&&!/\S/.test(x.text.slice(z+1,y));x.ch=y+1;return A?"selfClose":"regular"}}function s(x){__p&&__p();for(;;){var y=x.ch?x.text.lastIndexOf("<",x.ch-1):-1;if(y==-1)if(q(x))continue;else return;if(!o(x,y+1)){x.ch=y;continue}m.lastIndex=y;x.ch=y;var z=m.exec(x.text);if(z&&z.index==y)return z}}function t(x){__p&&__p();for(;;){m.lastIndex=x.ch;var y=m.exec(x.text);if(!y)if(p(x))continue;else return;if(!o(x,y.index+1)){x.ch=y.index+1;continue}x.ch=y.index+y[0].length;return y}}function u(x){__p&&__p();for(;;){var y=x.ch?x.text.lastIndexOf(">",x.ch-1):-1;if(y==-1)if(q(x))continue;else return;if(!o(x,y+1)){x.ch=y;continue}var z=x.text.lastIndexOf("/",y),A=z>-1&&!/\S/.test(x.text.slice(z+1,y));x.ch=y+1;return A?"selfClose":"regular"}}function v(x,y){__p&&__p();var z=[];for(;;){var A=t(x),B,C=x.line,D=x.ch-(A?A[0].length:0);if(!A||!(B=r(x)))return;if(B=="selfClose")continue;if(A[1]){for(var E=z.length-1;E>=0;--E)if(z[E]==A[2]){z.length=E;break}if(E<0&&(!y||y==A[2]))return{tag:A[2],from:i(C,D),to:i(x.line,x.ch)}}else z.push(A[2])}}function w(x,y){__p&&__p();var z=[];for(;;){var A=u(x);if(!A)return;if(A=="selfClose"){s(x);continue}var B=x.line,C=x.ch,D=s(x);if(!D)return;if(D[1])z.push(D[2]);else{for(var E=z.length-1;E>=0;--E)if(z[E]==D[2]){z.length=E;break}if(E<0&&(!y||y==D[2]))return{tag:D[2],from:i(x.line,x.ch),to:i(B,C)}}}}h.registerHelper("fold","xml",function(x,y){__p&&__p();var z=new n(x,y.line,0);for(;;){var A=t(z),B;if(!A||z.line!=y.line||!(B=r(z)))return;if(!A[1]&&B!="selfClose"){var y=i(z.line,z.ch),C=v(z,A[2]);return C&&{from:y,to:C.from}}}});h.findMatchingTag=function(x,y,z){__p&&__p();var A=new n(x,y.line,y.ch,z);if(A.text.indexOf(">")==-1&&A.text.indexOf("<")==-1)return;var B=r(A),C=B&&i(A.line,A.ch),D=B&&s(A);if(!B||!D||j(A,y)>0)return;var E={from:i(A.line,A.ch),to:C,tag:D[2]};if(B=="selfClose")return{open:E,close:null,at:"open"};if(D[1])return{open:w(A,D[2]),close:E,at:"close"};else{A=new n(x,C.line,C.ch,z);return{open:E,close:v(A,D[2]),at:"open"}}};h.findEnclosingTag=function(x,y,z){var A=new n(x,y.line,y.ch,z);for(;;){var B=w(A);if(!B)break;var C=new n(x,y.line,y.ch,z),D=v(C,B.tag);if(D)return{open:B,close:D}}};h.scanForClosingTag=function(x,y,z,A){var B=new n(x,y.line,y.ch,A?{from:0,to:A}:null);return v(B,z)}}),null);
__d("CodeMirror4AddonLint",["CodeMirror4"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("CodeMirror4");"use strict";var i="CodeMirror-lint-markers";function j(A,B){__p&&__p();var C=document.createElement("div");C.className="CodeMirror-lint-tooltip";C.appendChild(B.cloneNode(true));document.body.appendChild(C);function D(A){if(!C.parentNode)return h.off(document,"mousemove",D);C.style.top=Math.max(0,A.clientY-C.offsetHeight-5)+"px";C.style.left=A.clientX+5+"px"}h.on(document,"mousemove",D);D(A);if(C.style.opacity!=null)C.style.opacity=1;return C}function k(A){if(A.parentNode)A.parentNode.removeChild(A)}function l(A){if(!A.parentNode)return;if(A.style.opacity==null)k(A);A.style.opacity=0;setTimeout(function(){k(A)},600)}function m(A,B,C){__p&&__p();var D=j(A,B);function E(){h.off(C,"mouseout",E);if(D){l(D);D=null}}var F=setInterval(function(){__p&&__p();if(D)for(var G=C;;G=G.parentNode){if(G==document.body)return;if(!G){E();break}}if(!D)return clearInterval(F)},400);h.on(C,"mouseout",E)}function n(A,B,C){this.marked=[];this.options=B;this.timeout=null;this.hasGutter=C;this.onMouseOver=function(D){z(A,D)}}function o(A,B){if(B instanceof Function)return{getAnnotations:B};if(!B||B===true)B={};if(!B.getAnnotations)B.getAnnotations=A.getHelper(h.Pos(0,0),"lint");if(!B.getAnnotations)throw new Error("Required option 'getAnnotations' missing (lint addon)");return B}function p(A){var B=A.state.lint;if(B.hasGutter)A.clearGutter(i);for(var C=0;C<B.marked.length;++C)B.marked[C].clear();B.marked.length=0}function q(A,B,C,D){__p&&__p();var E=document.createElement("div"),F=E;E.className="CodeMirror-lint-marker-"+B;if(C){F=E.appendChild(document.createElement("div"));F.className="CodeMirror-lint-marker-multiple"}if(D!=false)h.on(F,"mouseover",function(G){m(G,A,F)});return E}function r(A,B){if(A=="error")return A;else return B}function s(A){var B=[];for(var C=0;C<A.length;++C){var D=A[C],E=D.from.line;(B[E]||(B[E]=[])).push(D)}return B}function t(A){var B=A.severity;if(!B)B="error";var C=document.createElement("div");C.className="CodeMirror-lint-message-"+B;C.appendChild(document.createTextNode(A.message));return C}function u(A){var B=A.state.lint,C=B.options;if(C.async)C.getAnnotations(A,v,C);else v(A,C.getAnnotations(A.getValue(),C.options))}function v(A,B){__p&&__p();p(A);var C=A.state.lint,D=C.options,E=s(B);for(var F=0;F<E.length;++F){var G=E[F];if(!G)continue;var H=null,I=C.hasGutter&&document.createDocumentFragment();for(var J=0;J<G.length;++J){var K=G[J],L=K.severity;if(!L)L="error";H=r(H,L);if(D.formatAnnotation)K=D.formatAnnotation(K);if(C.hasGutter)I.appendChild(t(K));if(K.to)C.marked.push(A.markText(K.from,K.to,{className:"CodeMirror-lint-mark-"+L,__annotation:K}))}if(C.hasGutter)A.setGutterMarker(F,i,q(I,H,G.length>1,C.options.tooltips))}if(D.onUpdateLinting)D.onUpdateLinting(B,E,A)}function w(A){var B=A.state.lint;clearTimeout(B.timeout);B.timeout=setTimeout(function(){u(A)},B.options.delay||500)}function x(A,B){var C=B.target||B.srcElement;m(B,t(A),C)}var y=[0,0,0,5,0,-5,5,0,-5,0];function z(A,B){__p&&__p();if(!/\bCodeMirror-lint-mark-/.test((B.target||B.srcElement).className))return;for(var C=0;C<y.length;C+=2){var D=A.findMarksAt(A.coordsChar({left:B.clientX+y[C],top:B.clientY+y[C+1]},"client"));for(var E=0;E<D.length;++E){var F=D[E],G=F.__annotation;if(G)return x(G,B)}}}h.defineOption("lint",false,function(A,B,C){__p&&__p();if(C&&C!=h.Init){p(A);A.off("change",w);h.off(A.getWrapperElement(),"mouseover",A.state.lint.onMouseOver);delete A.state.lint}if(B){var D=A.getOption("gutters"),E=false;for(var F=0;F<D.length;++F)if(D[F]==i)E=true;var G=A.state.lint=new n(A,o(A,B),E);A.on("change",w);if(G.options.tooltips!=false)h.on(A.getWrapperElement(),"mouseover",G.onMouseOver);u(A)}});h.defineExtension("performLint",function(){if(this.state.lint)u(this)})}),null);
__d("DynamicItemsMaybePlural.react",["fbt","DynamicItems$FbtEnum","DynamicItemsAllCaps$FbtEnum","DynamicItemsCapitalized$FbtEnum","DynamicItemsPlural$FbtEnum","DynamicItemsPluralAllCaps$FbtEnum","DynamicItemsPluralCapitalized$FbtEnum","ProductsContextTypes","React","keyMirror"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("keyMirror")({normal:null,allCaps:null,capitalized:null}),l=function l(o){__p&&__p();var p=void 0,q=o.vertical,r=o.count,s=o.capitalization,t=r!==1;if(t&&s===k.normal)p=h._({"auto_offers":"auto offers","commerce":"products","destinations":"destinations","flights":"flights","home_listings":"home listings","home_service_providers":"home service providers","hotels":"hotels","vehicle_offers":"vehicle offers","vehicles":"vehicles"},[h["enum"](q,c("DynamicItemsPlural$FbtEnum"))]);else if(!t&&s===k.normal)p=h._({"auto_offers":"auto offer","commerce":"product","destinations":"destination","flights":"flight","home_listings":"home listing","home_service_providers":"home service provider","hotels":"hotel","vehicle_offers":"vehicle_offers","vehicles":"vehicle"},[h["enum"](q,c("DynamicItems$FbtEnum"))]);else if(t&&s===k.capitalized)p=h._({"auto_offers":"Auto Offers","commerce":"Products","destinations":"Destinations","flights":"Flights","home_listings":"Home Listings","home_service_providers":"Home service providers","hotels":"Hotels","vehicle_offers":"Vehicle Offers","vehicles":"Vehicles"},[h["enum"](q,c("DynamicItemsPluralCapitalized$FbtEnum"))]);else if(!t&&s===k.capitalized)p=h._({"auto_offers":"Auto Offer","commerce":"Product","destinations":"Destination","flights":"Flight","home_listings":"Home Listing","home_service_providers":"Home Service Provider","hotels":"Hotel","vehicle_offers":"Vehicle Offer","vehicles":"Vehicle"},[h["enum"](q,c("DynamicItemsCapitalized$FbtEnum"))]);else if(t&&s===k.allCaps)p=h._({"auto_offers":"AUTO OFFERS","commerce":"PRODUCTS","destinations":"DESTINATIONS","flights":"FLIGHTS","home_listings":"HOME LISTINGS","home_service_providers":"HOME SERVICE PROVIDERS","hotels":"HOTELS","vehicle_offers":"VEHICLE OFFERS","vehicles":"VEHICLES"},[h["enum"](q,c("DynamicItemsPluralAllCaps$FbtEnum"))]);else if(!t&&s===k.allCaps)p=h._({"auto_offers":"AUTO OFFER","commerce":"PRODUCT","destinations":"DESTINATION","flights":"FLIGHT","home_listings":"HOME LISTING","home_service_providers":"HOME SERVICE PROVIDER","hotels":"HOTEL","vehicle_offers":"VEHICLE OFFER","vehicles":"VEHICLE"},[h["enum"](q,c("DynamicItemsAllCaps$FbtEnum"))]);return c("React").createElement("span",null,p)};i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.render=function(){"use strict";return c("React").createElement(l,babelHelpers["extends"]({},this.props,{vertical:this.context.vertical}))};function m(){"use strict";i.apply(this,arguments)}m.defaultProps={capitalization:k.normal};m.contextTypes=c("ProductsContextTypes");var n=function n(o){return!o.vertical?c("React").createElement(m,o):c("React").createElement(l,babelHelpers["extends"]({},o,{vertical:o.vertical}))};n.defaultProps={capitalization:k.normal};f.exports=n}),null);
__d("ProductFeedRuleActions",["AdsDataAtom","ProductsActionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={batchLoaded:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({rules:j,type:c("ProductsActionTypes").FEED.RULE.BATCH_LOADED})},batchLoadError:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({errors:j,type:c("ProductsActionTypes").FEED.RULE.BATCH_LOAD_ERROR})},deleteBatch:function i(j){c("AdsDataAtom").handleUpdateFromViewAction({productFeedRuleIDs:j,type:c("ProductsActionTypes").FEED.RULE.DELETE_BATCH})},batchDeleted:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({productFeedRuleIDs:j,type:c("ProductsActionTypes").FEED.RULE.BATCH_DELETED})},update:function i(j,k){c("AdsDataAtom").handleUpdateFromViewAction({ruleData:k,productFeedRuleID:j,type:c("ProductsActionTypes").FEED.RULE.UPDATE})},batchDeleteError:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({errors:j,type:c("ProductsActionTypes").FEED.RULE.BATCH_DELETE_ERROR})},ruleUpdated:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({productFeedRuleID:j,type:c("ProductsActionTypes").FEED.RULE.UPDATED})},updateError:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({errors:j,type:c("ProductsActionTypes").FEED.RULE.UPDATE_ERROR})},reload:function i(j){c("AdsDataAtom").handleUpdateFromViewAction({productFeedRuleID:j,type:c("ProductsActionTypes").FEED.RULE.RELOAD})},create:function i(j,k){c("AdsDataAtom").handleUpdateFromViewAction({productFeedID:j,ruleData:k,type:c("ProductsActionTypes").FEED.RULE.CREATE})},batchCreated:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({productFeedID:j,type:c("ProductsActionTypes").FEED.RULE.BATCH_CREATED})},batchCreateError:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({productFeedID:j,type:c("ProductsActionTypes").FEED.RULE.BATCH_CREATE_ERROR})}};f.exports=h}),null);
__d("ProductFeedRuleListActions",["ProductsActionTypes","AdsDataAtom"],(function a(b,c,d,e,f,g){"use strict";var h={productFeedRuleListLoaded:function i(j,k){c("AdsDataAtom").handleUpdateFromServerResponse({productFeedID:j,productFeedRules:k,type:c("ProductsActionTypes").FEED.RULE.LIST.LOADED})},productFeedRuleListLoadError:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({productFeedID:j,type:c("ProductsActionTypes").FEED.RULE.LIST.LOAD_ERROR})}};f.exports=h}),null);
__d("ProductFeedRuleListDataManager",["fbt","AdsBaseListDataManager","GraphAPI","ProductsAPIConfig","ProductFeedRuleListActions"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=["id"];i=babelHelpers.inherits(l,c("AdsBaseListDataManager"));j=i&&i.prototype;l.prototype.loadFor=function(n){c("GraphAPI")(c("ProductsAPIConfig").version).object("product_feed",n).edge("rules").batched().get({fields:k}).done(this.__handleSuccess.bind(this,["load"],n,null),this.__handleError.bind(this,["load"],n,null))};l.prototype.__onBatchLoaded=function(n){n.forEach(function(o,p){c("ProductFeedRuleListActions").productFeedRuleListLoaded(p,o.data)})};l.prototype.__onBatchLoadError=function(n){n.forEach(function(o,p){c("ProductFeedRuleListActions").productFeedRuleListLoadError(p)})};l.prototype.__getObjectTypeLabel=function(){return h._("Product Catalog")};function l(){i.apply(this,arguments)}var m=new l();f.exports=m}),null);
__d("ProductFeedRuleListStore",["AdsBaseListStore","AdsLoadState_LEGACY","ProductsActionTypes","ProductFeedRuleListDataManager"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AdsBaseListStore"));i=h&&h.prototype;j.prototype.getDataManager=function(){return c("ProductFeedRuleListDataManager")};j.prototype.__onDispatch=function(l){var m=l.action;switch(m.actionType){case c("ProductsActionTypes").FEED.RULE.BATCH_CREATED:if(this.__invalidate(m.productFeedID))this.__emitChange();break;case c("ProductsActionTypes").FEED.RULE.LIST.LOADED:this.__handleDataFor(m.productFeedID,m.productFeedRules,c("AdsLoadState_LEGACY").LOADED);break;case c("ProductsActionTypes").FEED.RULE.LIST.LOAD_ERROR:this.__handleDataFor(m.productFeedID,null,c("AdsLoadState_LEGACY").ERROR);break}};function j(){h.apply(this,arguments)}var k=new j();f.exports=k}),null);
__d("ProductFeedRuleField",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({ID:"id",ATTRIBUTE:"attribute",PARAMS:"params",RULE_TYPE:"rule_type"});f.exports=h}),null);
__d("ProductFeedRuleDataManager",["fbt","AdsBaseDataManager","GraphAPI","Set","ProductsAPIConfig","ProductFeedRuleActions","ProductFeedRuleField"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=[c("ProductFeedRuleField").ID,c("ProductFeedRuleField").ATTRIBUTE,c("ProductFeedRuleField").PARAMS,c("ProductFeedRuleField").RULE_TYPE];i=babelHelpers.inherits(l,c("AdsBaseDataManager"));j=i&&i.prototype;l.prototype.loadAll=function(n){n.forEach(function(o){return this.load(o)}.bind(this))};l.prototype.load=function(n){c("GraphAPI")(c("ProductsAPIConfig").version).object("product_feed_rule",n).batched().get({fields:k}).done(this.__handleSuccess.bind(this,["load"],n,null),this.__handleError.bind(this,["load"],n,null))};l.prototype.update=function(n,o){c("GraphAPI")(c("ProductsAPIConfig").version).object("product_feed_rule",n).batched().post(o).done(function(p){return this.__handleSuccess(["update"],n,null,{id:n,ruleData:o})}.bind(this),function(p){return this.__handleError(["update"],n,null,p)}.bind(this))};l.prototype.create=function(n,o){c("GraphAPI")(c("ProductsAPIConfig").version).object("product_feed",n).edge("rules").post(o).done(function(p){return this.__handleSuccess(["create"],n,null,p)}.bind(this),function(p){return this.__handleError(["create"],n,null,p)}.bind(this))};l.prototype["delete"]=function(n){c("GraphAPI")(c("ProductsAPIConfig").version).object("product_feed_rule",n).batched().remove().done(this.__handleSuccess.bind(this,["delete"],n,null),this.__handleError.bind(this,["delete"],n,null))};l.prototype.__onBatchDeleted=function(n){c("ProductFeedRuleActions").batchDeleted(Array.from(n.keys()))};l.prototype.__onBatchDeleteError=function(n){c("ProductFeedRuleActions").batchDeleteError(n)};l.prototype.__onBatchLoaded=function(n){c("ProductFeedRuleActions").batchLoaded(n)};l.prototype.__onBatchLoadError=function(n){c("ProductFeedRuleActions").batchLoadError(n)};l.prototype.__onBatchUpdated=function(n){n.forEach(function(o,p){return c("ProductFeedRuleActions").ruleUpdated(p)})};l.prototype.__onBatchUpdateError=function(n){c("ProductFeedRuleActions").updateError(n)};l.prototype.__onBatchCreated=function(n){__p&&__p();for(var o=new(c("Set"))(n.keys()),p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;c("ProductFeedRuleActions").batchCreated(s)}};l.prototype.__onBatchCreateError=function(n){__p&&__p();for(var o=new(c("Set"))(n.keys()),p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;c("ProductFeedRuleActions").batchCreateError(s)}};l.prototype.__getObjectTypeLabel=function(){return h._("Product Feed")};function l(){i.apply(this,arguments)}var m=new l();f.exports=m}),null);
__d("ProductFeedRuleStore",["AdsBaseDataStore","AdsLoadState_LEGACY","ImmutableObject","ProductFeedRuleDataManager","ProductFeedRuleField","ProductsActionTypes","Map"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AdsBaseDataStore"));i=h&&h.prototype;j.prototype.getDataManager=function(){return c("ProductFeedRuleDataManager")};j.prototype.__onDispatch=function(l){__p&&__p();var m=l.action;switch(m.actionType){case c("ProductsActionTypes").FEED.RULE.BATCH_LOADED:m.rules.forEach(function(n,o){__p&&__p();var p={},q=n[c("ProductFeedRuleField").PARAMS];if(q!==undefined&&q.length!=0)for(var r=q,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u;p[v.key]=v.value}m.rules.set(o,{id:n[c("ProductFeedRuleField").ID],attribute:n[c("ProductFeedRuleField").ATTRIBUTE],ruleType:n[c("ProductFeedRuleField").RULE_TYPE],params:p})});this.__handleData(m.rules,c("AdsLoadState_LEGACY").LOADED);break;case c("ProductsActionTypes").FEED.RULE.BATCH_LOAD_ERROR:this.__handleData(m.errors,c("AdsLoadState_LEGACY").ERROR);break;case c("ProductsActionTypes").FEED.RULE.CREATE:this.$ProductFeedRuleStoreClass2(m.productFeedID,m.ruleData);break;case c("ProductsActionTypes").FEED.RULE.UPDATE:this.$ProductFeedRuleStoreClass3(m.productFeedRuleID,m.ruleData);break;case c("ProductsActionTypes").FEED.RULE.UPDATE_ERROR:case c("ProductsActionTypes").FEED.RULE.RELOAD:if(this.__invalidate(m.productFeedRuleID))this.__emitChange();break;case c("ProductsActionTypes").FEED.RULE.DELETE_BATCH:this.$ProductFeedRuleStoreClass4(m.productFeedRuleIDs);break;case c("ProductsActionTypes").FEED.RULE.BATCH_DELETE_ERROR:if(this.__invalidateAll(m.ids))this.__emitChange();break}};j.prototype.$ProductFeedRuleStoreClass2=function(l,m){var n;c("ProductFeedRuleDataManager").create(l,(n={},n[c("ProductFeedRuleField").ATTRIBUTE]=m.attribute,n[c("ProductFeedRuleField").PARAMS]=m.params,n[c("ProductFeedRuleField").RULE_TYPE]=m.ruleType,n))};j.prototype.$ProductFeedRuleStoreClass4=function(l){l.forEach(function(m){return this.__delete(m)}.bind(this))};j.prototype.$ProductFeedRuleStoreClass3=function(l,m){var n,o=(n={},n[c("ProductFeedRuleField").PARAMS]=m.params,n),p=this.getCached(l);this.__handleData(new(c("Map"))([[l,c("ImmutableObject").set(p,o)]]),c("AdsLoadState_LEGACY").LOADED);c("ProductFeedRuleDataManager").update(l,o)};function j(){h.apply(this,arguments)}var k=new j();f.exports=k}),null);
__d("GoogleProductFeedProperties",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADDITIONAL_IMAGE_LINK:"additional_image_link",AGE_GROUP:"age_group",AVAILABILITY:"availability",BRAND:"brand",CHECKOUT_URL:"checkout_url",COLOR:"color",CONDITION:"condition",CUSTOM_LABEL_0:"custom_label_0",CUSTOM_LABEL_1:"custom_label_1",CUSTOM_LABEL_2:"custom_label_2",CUSTOM_LABEL_3:"custom_label_3",CUSTOM_LABEL_4:"custom_label_4",DESCRIPTION:"description",EXPIRATION_DATE:"expiration_date",GENDER:"gender",GOOGLE_PRODUCT_CATEGORY:"google_product_category",GTIN:"gtin",ID:"id",IMAGE_LINK:"image_link",ITEM_GROUP_ID:"item_group_id",INVENTORY:"inventory",LINK:"link",MATERIAL:"material",MPN:"mpn",PATTERN:"pattern",PRICE:"price",PRODUCT_TYPE:"product_type",SALE_PRICE:"sale_price",SALE_PRICE_EFFECTIVE_DATE:"sale_price_effective_date",SHIPPING:"shipping",SHIPPING_COUNTRY:"shipping_country",SHIPPING_PRICE:"shipping_price",SHIPPING_REGION:"shipping_region",SHIPPING_SERVICE:"shipping_service",SHIPPING_WEIGHT:"shipping_weight",SIZE:"size",START_DATE:"start_date",SUMMARY:"summary",TITLE:"title",OFFER_ADDRESS:"address",OFFER_AVAILABILITY_AREA:"availability_area",OFFER_AVAILABILITY_RADIUS:"availability_radius",SHORT_DESCRIPTION:"short_description",VARIANT:"variant",VARIANT_LABEL:"variant_label",VARIANT_OPTIONS:"variant_options",VARIANT_VALUE:"variant_value",VENDOR_ID:"vendor_id",VIDEO:"video",VIDEO_IDS:"video_ids",VISIBILITY:"visibility",APPLINK:"applink"})}),null);
__d("ProductFeedColumnMappingStatus",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({COLUMN_DELETED:"column_deleted"});f.exports=h}),null);
__d("ProductFeedDisplayFields",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";var i={id:{DESCRIPTION:h._("A unique identifier for this item (which can be a variant for a product)."),POSSIBLE_VALUES:["1","2","3","4"]},availability:{DESCRIPTION:h._("Whether or not the item is in stock. Accepted values are: {in stock} - Item will ship immediately. {out of stock} - No plan to restock. {preorder} - Will be available in future. {available for order} - Ships in 1-2 weeks. {discontinued} - Item is discontinued",[h.param("in stock",c("React").createElement("b",null,"in stock")),h.param("out of stock",c("React").createElement("b",null,"out of stock")),h.param("preorder",c("React").createElement("b",null,"preorder")),h.param("available for order",c("React").createElement("b",null,"available for order")),h.param("discontinued",c("React").createElement("b",null,"discontinued"))]),POSSIBLE_VALUES:["in stock","out of stock","available for order","discontinued"],OPTIONS_LABELS:{IN_STOCK:h._("in stock"),OUT_OF_STOCK:h._("out of stock"),PREORDER:h._("preorder"),AVAILABLE_FOR_ORDER:h._("available for order"),DISCONTINUED:h._("discontinued"),UNKNOWN:h._("unknown")}},title:{DESCRIPTION:h._("The title of the item."),POSSIBLE_VALUES:["Dog bowl In Blue","Stainless Steel Dog Collar","Absorbent Puppy Mat","Chewable Dog toy"]},description:{DESCRIPTION:h._("A short paragraph describing the item."),POSSIBLE_VALUES:["This is a solid plastic dog bowl in marine blue.","This is a sleek stainless steel dog collar.","This is an absorbent dog mat, perfect for doggy training.","This is a light, easy to carry chew toy for your puppy or dog"]},link:{DESCRIPTION:h._("Link to the merchant's site where you can buy the item."),POSSIBLE_VALUES:["http://www.example.com/bowls/db-1.html","http://www.example.com/bowls/db-2.html","http://www.example.com/bowls/db-3.html","http://www.example.com/bowls/db-4.html"]},image_link:{DESCRIPTION:h._("Link to an image of the item. This is the image used in the feed."),POSSIBLE_VALUES:["http://images.example.com/DB_1.png","http://images.example.com/DB_2.png","http://images.example.com/DB_3.png","http://images.example.com/DB_4.png"]},price:{DESCRIPTION:h._("The cost of the item and currency. Currency should be specified as the ISO 4217 currency code e.g. 9.99 USD"),POSSIBLE_VALUES:["1.99 GBP","2.99 GBP","3.99 GBP","4.99 GBP"]},condition:{DESCRIPTION:h._("The condition of the product. Accepted values are {token available for order}, {token refurbished}, or {token used}",[h.param("token available for order",c("React").createElement("b",null,"new")),h.param("token refurbished",c("React").createElement("b",null,"refurbished")),h.param("token used",c("React").createElement("b",null,"used"))]),POSSIBLE_VALUES:["new","refurbished","used"],OPTIONS_LABELS:{PC_NEW:h._("new"),PC_REFURBISHED:h._("refurbished"),PC_USED:h._("used"),UNKNOWN:h._("unknown")}},brand:{DESCRIPTION:h._("Brand of the product. Note: Either {gtin}, {mpn}, or {brand} are required.",[h.param("gtin",c("React").createElement("b",null,"gtin")),h.param("mpn",c("React").createElement("b",null,"mpn")),h.param("brand",c("React").createElement("b",null,"brand"))]),POSSIBLE_VALUES:["Example Brand 1","Example Brand 2","Example Brand 3","Example Brand 4"]},google_product_category:{DESCRIPTION:h._("Category of the product item. e.g. Apparel & Accessories > Clothing > Dresses"),POSSIBLE_VALUES:["Baby & Toddler > Baby Bathing","Animals & Pet Supplies > Pet Supplies","Cameras & Optics > Photography","Electronics > Arcade Equipment"]},product_type:{DESCRIPTION:h._("Retailer defined category of the product item. Max size: 750"),POSSIBLE_VALUES:["Bowls & Dining > Food & Water Bowls","Electronics > Audio Accessories","Furniture > Beds","Hardware > Building Materials"]},gender:{DESCRIPTION:h._("Gender the product item is targeted towards"),POSSIBLE_VALUES:["male","female","unisex"],OPTIONS_LABELS:{MALE:h._("male"),FEMALE:h._("female"),UNISEX:h._("unisex"),UNKNOWN:h._("unknown")}},age_group:{DESCRIPTION:h._("The age group the product is meant for. Accepted values are {newborn}, {infant}, {toddler} or {kids}, and {adult}.",[h.param("newborn","newborn"),h.param("infant","infant"),h.param("toddler","toddler"),h.param("kids","kids"),h.param("adult","adult")]),POSSIBLE_VALUES:["newborn","infant","toddler","kids","adult"],OPTIONS_LABELS:{NEWBORN:h._("newborn"),INFANT:h._("infant"),TODDLER:h._("toddler"),KIDS:h._("kids"),ADULT:h._("adult"),UNKNOWN:h._("unknown")}},sale_price:{DESCRIPTION:h._("The discounted price if the item is on sale. Currency should be specified as the ISO 4217 currency code. Specified as 9.99 USD"),POSSIBLE_VALUES:["10.99 USD","5.99 USD","9.00 USD","1.50 USD"]},color:{DESCRIPTION:h._("The color of the item."),POSSIBLE_VALUES:["Aquamarine","Maroon","Pink","Navy Blue"]},mpn:{DESCRIPTION:h._("Manufacturer's ID for the product item."),POSSIBLE_VALUES:[]},item_group_id:{DESCRIPTION:h._("Is this item a variant of a product? If so, all of the items in a group should share an item_group_id. e.g. the Red Polo Shirt is a variant of Polo Shirt. This maps to retailer_product_group_id after the product has been imported."),POSSIBLE_VALUES:[]},shipping_price:{DESCRIPTION:h._("The price of the item for shipping. Currency should follow ISO 4217 currency codes."),POSSIBLE_VALUES:["10.00 USD","0.99 USD"]},shipping_weight:{DESCRIPTION:h._("The weight of the item for shipping. We only accept the following units of weight: {lb}, {oz}, {g} or {kg}.",[h.param("lb",c("React").createElement("b",null,"lb")),h.param("oz",c("React").createElement("b",null,"oz")),h.param("g",c("React").createElement("b",null,"g")),h.param("kg",c("React").createElement("b",null,"kg"))]),POSSIBLE_VALUES:["lb","oz","g","kg"]},additional_image_link:{DESCRIPTION:h._("More images. You can include up to 10 additional images. If you supply multiple images, send them as comma separated URLs."),POSSIBLE_VALUES:[]},expiration_date:{DESCRIPTION:h._("The expiration date of the product in the catalog. If the product is expired, it'll be excluded from all the proudct sets and will not be shown in the ads."),POSSIBLE_VALUES:[]},material:{DESCRIPTION:h._("The material or fabric that a product is made out of. For example, a jacket might have values like leather, denim, or cotton."),POSSIBLE_VALUES:[]}},j={custom_label_0:null,custom_label_1:null,custom_label_2:null,custom_label_3:null,custom_label_4:null};for(var k in j)i[k]={DESCRIPTION:h._("Can contain additional information about the item.")};f.exports={ProductFeedDisplayFields:i,CustomLabels:j}}),null);
__d("ProductFeedColumnMappingSelector.react",["cx","fbt","ix","React","Image.react","GoogleProductFeedProperties","ProductFeedDisplayFields","ProductFeedColumnMappingStatus","SUIBusinessTheme","SUISelector.react","SUISelectorOption.react","SUISelectorSeparator.react","SUISimplePopover.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ProductFeedDisplayFields").CustomLabels,n=c("ProductFeedDisplayFields").ProductFeedDisplayFields,o=function o(r,s){return r.localeCompare(s)};function p(r,s,t){var u=Object.values(c("GoogleProductFeedProperties")).map(function(z){return String(z)}).filter(function(z){return Object.keys(m).indexOf(z)<0}).filter(function(z){return z!==c("GoogleProductFeedProperties").VIDEO}).sort(o).concat(Object.keys(m)),v=u.filter(function(z){return t.indexOf(z)<0}),w=v.filter(function(z){return r.indexOf(z)>=0}).sort(o),x=v.filter(function(z){return s.indexOf(z)>=0}).sort(o),y=v.filter(function(z){return w.indexOf(z)<0&&x.indexOf(z)<0}).sort(o);return{unmappedFieldsSorted:w.concat(x).concat(y),mappedFieldsSorted:t.sort(o)}}k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;q.prototype.render=function(){var r=this.props,s=r.columnsMissing,t=r.columnsMissingWarning,u=r.deletedColumns,v=r.feedFieldName,w=r.includeDeleteColumnOption,x=r.mappedFields,y=r.selectedField,z=p(s,t,x),A=z.unmappedFieldsSorted,B=z.mappedFieldsSorted,C=A.map(function(E){return this.renderSelectorOption(String(E),this.props.hasTooltip)}.bind(this)).concat(c("React").createElement(c("SUISelectorSeparator.react"),{key:1}));if(w){var D=u.indexOf(v)>=0;C=C.concat(c("React").createElement(c("SUISelectorOption.react"),{key:c("ProductFeedColumnMappingStatus").COLUMN_DELETED,value:c("ProductFeedColumnMappingStatus").COLUMN_DELETED,selected:D},c("React").createElement(c("SUISimplePopover.react"),{content:i._("This column won't be included in your feed."),contentWidthUseSparingly:218,showIcon:false},c("React").createElement("span",{className:"_2iyg"+(D?" _2iyh":"")},i._("Delete This Column"))))).concat(c("React").createElement(c("SUISelectorSeparator.react"),{key:2}))}C=C.concat(B.map(function(E){return this.renderSelectorOption(String(E),this.props.hasTooltip)}.bind(this)));return c("React").createElement(c("SUISelector.react"),{maxHeight:240,placeholder:i._("Select Column"),theme:c("SUIBusinessTheme"),value:y,width:this.props.fullWidth?"100%":"auto",onChange:this.props.onMappingChange},C)};q.prototype.renderSelectorOption=function(r,s){var t=n[r]?n[r].DESCRIPTION:i._("The property {property_name} of the item.",[i.param("property_name",r)]),u=this.props,v=u.mappedFields,w=u.columnsMissing,x=u.columnsMissingWarning,y=u.selectedField,z=v.indexOf(r)>=0,A=undefined;if(v.indexOf(r)<0)A=w.indexOf(r)>=0?j("96830"):x.indexOf(r)>=0?j("26949"):null;return c("React").createElement(c("SUISelectorOption.react"),{key:r,value:r,icon:A?c("React").createElement(c("Image.react"),{src:A}):null,disabled:z,selected:z},c("React").createElement(c("SUISimplePopover.react"),{content:t,contentWidthUseSparingly:218,showIcon:false},c("React").createElement("span",{className:"_2iyg"+(y===r?" _2iyh":"")},r)))};function q(){k.apply(this,arguments)}q.defaultProps={columnsMissing:[],columnsMissingWarning:[],deletedColumns:[],feedFieldName:"",fullWidth:false,hasTooltip:true,includeDeleteColumnOption:false,mappedFields:[]};f.exports=q}),null);
__d("ProductFeedLetterCaseType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({TO_UPPER:"to_upper",TO_LOWER:"to_lower",CAPITALIZE_ALL:"capitalize_all",CAPITALIZE_FIRST:"capitalize_first"})}),null);
__d("ProductFeedColumnMappingRuleParams.react",["cx","fbt","ProductFeedColumnMappingSelector.react","React","SUIText.react","SUITextInput.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=Object.freeze({MAP_FROM:"map_from"}),k=function k(l){var m=l.rule,n=l.isEditMode,o=l.onRuleChange,p=m.params[j.MAP_FROM]||"";return c("React").createElement("div",{className:"_g7u"},c("React").createElement("div",{className:"_s3g"},n&&l.isFeedRulesQE?c("React").createElement(c("SUITextInput.react"),{defaultValue:p,errorMessage:p===""?i._("Please enter a value"):undefined,onChange:function q(r){var s;return o(babelHelpers["extends"]({},m,{params:(s={},s[j.MAP_FROM]=r,s)}))}}):c("React").createElement(c("SUIText.react"),{size:"body2_DEPRECATED",weight:!n?"bold":undefined},p)))};f.exports=k}),null);
__d("ProductFeedRuleTextInput.react",["fbt","ProductsConfig","React","SUITextInput.react","emptyFunction"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(k){if(k==="")return h._("Please enter a value");var l=c("ProductsConfig").smart_import.MAX_VALUE_MAPPING_LENGTH;if(k.length>l)return h._("Value exceeded maximum length of {max_length} characters",[h.param("max_length",l)]);return undefined},j=function j(k){return c("React").createElement(c("SUITextInput.react"),{defaultValue:k.defaultValue,errorMessage:i(k.defaultValue),onChange:k.onChange!=undefined?k.onChange:c("emptyFunction")})};f.exports=j}),null);
__d("ProductFeedUploadField",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({ID:"id",END_TIME:"end_time",ERROR_COUNT:"error_count",INPUT_METHOD:"input_method",URL:"url",FILENAME:"filename",NUM_DETECTED_ITEMS:"num_detected_items",NUM_PERSISTED_ITEMS:"num_persisted_items",NUM_INVALID_ITEMS:"num_invalid_items",NUM_DELETED_ITEMS:"num_deleted_items",PROGRESSES:"progresses",START_TIME:"start_time",WARNING_COUNT:"warning_count"});f.exports=h}),null);
__d("ProductFeedUploadUtils",["fbt","AdsLoadStateUtils_LEGACY","GoogleProductFeedProperties","LoadObject","ProductAgeGroup","ProductCondition","ProductFeedUploadField","ProductGender","ProductItemAvailabilities","ProductsConfig","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={getOptionsForEnumField:function j(k){switch(k){case c("GoogleProductFeedProperties").AVAILABILITY:return{"enum":c("ProductItemAvailabilities"),"default":c("ProductItemAvailabilities").AVAILABLE_FOR_ORDER};case c("GoogleProductFeedProperties").GENDER:return{"enum":c("ProductGender"),"default":c("ProductGender").UNKNOWN};case c("GoogleProductFeedProperties").AGE_GROUP:return{"enum":c("ProductAgeGroup"),"default":c("ProductAgeGroup").UNKNOWN};case c("GoogleProductFeedProperties").CONDITION:return{"enum":c("ProductCondition"),"default":c("ProductCondition").UNKNOWN};default:return null}},isUploadFinished:function j(k){return!!(k&&k.end_time)},timeSinceUploadFinishedInSecs:function j(k){if(!k||!k.end_time)return null;var l=Date.now(),m=new Date(k.end_time).getTime();return(l-m)/1e3},isUploadingOrIndexing:function j(k,l){var m,n=i.timeSinceUploadFinishedInSecs(k);if(n==null)return true;var o=((m=c("ProductsConfig").catalog_manager_config.INDEXING_TIME_IN_SECS)!=null?m[l||"default"]:m)||c("ProductsConfig").catalog_manager_config.INDEXING_TIME_IN_SECS["default"];return n<o},shouldDisplayBarAfterUpload:function j(k,l,m){if(k)if(!l.isLoading()&&l.hasValue()){var n=l.getValueEnforcing();if(n!=undefined&&n.latest_upload&&n.latest_upload.num_persisted_items>0)if(m!=undefined&&m.product_count==0)return true}return false},hasUploadFailed:function j(k){return!!(k[c("ProductFeedUploadField").END_TIME]&&k[c("ProductFeedUploadField").NUM_DETECTED_ITEMS]===0)},getUploadFailedMessages:function j(){return{title:h._("Please check your connection and try again."),description:h._("Couldn't Upload File")}}};f.exports=i}),null);
__d("ProductFeedFallbackRuleParams.react",["cx","fbt","ProductFeedRuleTextInput.react","ProductFeedUploadUtils","React","SUISelector.react","SUISelectorOption.react","SUIText.react","ProductFeedDisplayFields"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("ProductFeedDisplayFields").ProductFeedDisplayFields,m=Object.freeze({USER_DEFAULT_VALUE:"user_default_value"});j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(o){k.constructor.call(this,o);this.$ProductFeedFallbackRuleParams1=function(p){var q;this.props.onRuleChange(babelHelpers["extends"]({},this.props.rule,{params:(q={},q[m.USER_DEFAULT_VALUE]=p,q)}))}.bind(this)}n.prototype.render=function(){var o=this.props,p=o.isEditMode,q=o.rule,r=q.attribute,s=q.params,t=c("ProductFeedUploadUtils").getOptionsForEnumField(r),u=s[m.USER_DEFAULT_VALUE]||(t!=null?t["default"]:""),v=t!=null?c("React").createElement(c("SUISelector.react"),{onChange:this.$ProductFeedFallbackRuleParams1,value:u},Object.keys(t["enum"]).map(function(w){return c("React").createElement(c("SUISelectorOption.react"),{value:t["enum"][w],key:w},l[r]?l[r].OPTIONS_LABELS[w]:i._("The property {property_name} of the item.",[i.param("property_name",w)]))})):c("React").createElement(c("ProductFeedRuleTextInput.react"),{defaultValue:u,onChange:this.$ProductFeedFallbackRuleParams1});return c("React").createElement("div",{className:"_g7u"},c("React").createElement("div",{className:"_s3g"},p?v:c("React").createElement(c("SUIText.react"),{size:"body2_DEPRECATED",weight:!p?"bold":undefined},u)))};f.exports=n}),null);
__d("ProductFeedLetterCaseRuleParams.react",["cx","fbt","ProductFeedColumnMappingSelector.react","ProductFeedLetterCaseType","React","SUISelector.react","SUISelectorOption.react","SUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k=[c("ProductFeedLetterCaseType").CAPITALIZE_ALL,c("ProductFeedLetterCaseType").CAPITALIZE_FIRST,c("ProductFeedLetterCaseType").TO_LOWER,c("ProductFeedLetterCaseType").TO_UPPER],l=Object.freeze({TYPE:"type"}),m=(j={},j[c("ProductFeedLetterCaseType").TO_UPPER]=i._("All uppercase"),j[c("ProductFeedLetterCaseType").TO_LOWER]=i._("All lowercase"),j[c("ProductFeedLetterCaseType").CAPITALIZE_ALL]=i._("Title case"),j[c("ProductFeedLetterCaseType").CAPITALIZE_FIRST]=i._("Capitalize First Word"),j),n=function n(o){var p=o.rule,q=o.isEditMode,r=o.onRuleChange;return c("React").createElement("div",{className:"_g7u"},q?c("React").createElement(c("SUISelector.react"),{onChange:function s(t){return r(babelHelpers["extends"]({},p,{params:{type:t}}))},value:p.params[l.TYPE]},k.map(function(s){return c("React").createElement(c("SUISelectorOption.react"),{value:s,key:s},m[s])})):c("React").createElement(c("SUIText.react"),{size:"body2_DEPRECATED",weight:"bold"},m[p.params[l.TYPE]]))};f.exports=n}),null);
__d("ProductFeedRulesSettingsMappingInput.react",["ix","cx","Image.react","ProductFeedRuleTextInput.react","React","SUIButton.react","SUIGlyphIcon.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){__p&&__p();k.constructor.call(this,m);this.$ProductFeedRulesSettingsMappingInput3=function(){this.props.onChange(this.state.valueFrom,this.state.valueTo)}.bind(this);this.$ProductFeedRulesSettingsMappingInput1=function(n){this.setState(function(o,m){return babelHelpers["extends"]({},o,{valueFrom:n})},this.$ProductFeedRulesSettingsMappingInput3)}.bind(this);this.$ProductFeedRulesSettingsMappingInput2=function(n){this.setState(function(o,m){return babelHelpers["extends"]({},o,{valueTo:n})},this.$ProductFeedRulesSettingsMappingInput3)}.bind(this);this.state={valueFrom:m.valueFrom,valueTo:m.valueTo}}l.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_s2y"},c("React").createElement(c("ProductFeedRuleTextInput.react"),{defaultValue:this.state.valueFrom,onChange:this.$ProductFeedRulesSettingsMappingInput1})),c("React").createElement("div",{className:"_s38"},c("React").createElement(c("Image.react"),{src:h("122343")})),c("React").createElement("div",{className:"_s2y"},c("React").createElement(c("ProductFeedRuleTextInput.react"),{defaultValue:this.state.valueTo,onChange:this.$ProductFeedRulesSettingsMappingInput2})),this.props.showDelete?c("React").createElement("div",{className:"_s3e"},c("React").createElement(c("SUIButton.react"),{icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("122717")}),borderedSides:[],label:"Delete",labelIsHidden:true,width:32,onClick:this.props.onDelete})):undefined)};f.exports=l}),null);
__d("ProductFeedRulesSettingsParamsInput.react",["ix","cx","fbt","ProductFeedRulesSettingsMappingInput.react","ProductsConfig","React","SUIButton.react","SUIGlyphIcon.react","immutable","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("immutable").Set,n=c("immutable").fromJS;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(p){l.constructor.call(this,p);this.$ProductFeedRulesSettingsParamsInput3=function(){this.setState(function(q,p){var r=m(q.ruleParams.keys()).max();return{ruleParams:q.ruleParams.set(r!==undefined?r+1:0,{key:"",value:""})}},function(){return this.props.onChange(this.$ProductFeedRulesSettingsParamsInput4(this.state.ruleParams))}.bind(this))}.bind(this);this.state={ruleParams:n(Object.keys(p.ruleParams).length===0?{"":""}:p.ruleParams).mapEntries(function(q,r){var s=q[0],t=q[1];return[r,{key:s,value:t}]})}}o.prototype.render=function(){var p=c("ProductsConfig").smart_import.MAX_NUM_VALUE_MAPPING_FIELDS,q=this.state.ruleParams.count()===p;return c("React").createElement("div",null,c("React").createElement("div",null,this.state.ruleParams.map(function(r,s){return c("React").createElement("div",{key:s,className:"_4ray"},c("React").createElement(c("ProductFeedRulesSettingsMappingInput.react"),{valueFrom:r.key,valueTo:r.value,onChange:function(t,u){return this.$ProductFeedRulesSettingsParamsInput1(s,t,u)}.bind(this),onDelete:function(){return this.$ProductFeedRulesSettingsParamsInput2(s)}.bind(this),showDelete:this.state.ruleParams.count()>1}))}.bind(this)).toArray()),c("React").createElement("div",{className:"_s3f"},c("React").createElement(c("SUIButton.react"),{icon:c("React").createElement(c("SUIGlyphIcon.react"),{disabled:q,srcDefault:h("123418"),srcDisabled:h("126622")}),label:"Add",labelIsHidden:true,width:32,borderedSides:[],onClick:this.$ProductFeedRulesSettingsParamsInput3,disabled:q,tooltip:this.state.ruleParams.count()===p?j._("You can replace up to {max_numeber} values at a time",[j.param("max_numeber",p)]):undefined})))};o.prototype.$ProductFeedRulesSettingsParamsInput1=function(p,q,r){this.setState(function(s,t){return{ruleParams:s.ruleParams.set(p,{key:q,value:r})}},function(){return this.props.onChange(this.$ProductFeedRulesSettingsParamsInput4(this.state.ruleParams))}.bind(this))};o.prototype.$ProductFeedRulesSettingsParamsInput2=function(p){this.setState(function(q,r){return{ruleParams:q.ruleParams["delete"](p)}},function(){return this.props.onChange(this.$ProductFeedRulesSettingsParamsInput4(this.state.ruleParams))}.bind(this))};o.prototype.$ProductFeedRulesSettingsParamsInput4=function(p){var q={};p.forEach(function(r){q[r.key]=r.value});return q};f.exports=o}),null);
__d("ProductFeedValueMappingRuleParams.react",["ix","cx","fbt","Image.react","ProductFeedColumnMappingSelector.react","ProductFeedRulesSettingsParamsInput.react","React","SUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k=function k(l){var m=l.rule,n=l.isEditMode,o=l.onRuleChange;return c("React").createElement("div",{className:"_g7u"},n?c("React").createElement(c("ProductFeedRulesSettingsParamsInput.react"),{ruleParams:m.params,onChange:function p(q){return o(babelHelpers["extends"]({},m,{params:q}))}}):[Object.keys(m.params).map(function(p,q){return c("React").createElement("div",{key:q},c("React").createElement(c("SUIText.react"),{size:"body2_DEPRECATED",style:{marginRight:8},weight:"bold"},"'"+p+"'"),c("React").createElement("div",{className:"_s38"},c("React").createElement(c("Image.react"),{src:h("122343")})),c("React").createElement(c("SUIText.react"),{size:"body2_DEPRECATED",weight:"bold"},"'"+m.params[p]+"'"))})])};f.exports=k}),null);
__d("ProductFeedRuleParamsOrMessage.react",["fbt","invariant","ProductFeedRuleType","ProductFeedColumnMappingRuleParams.react","ProductFeedFallbackRuleParams.react","ProductFeedLetterCaseRuleParams.react","ProductFeedValueMappingRuleParams.react","React","SUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=function j(k){__p&&__p();var l=k.rule,m=l.ruleType,n=l.attribute;if(n===""&&m==="")return c("React").createElement("div",null);if(n!==""&&m==="")return c("React").createElement(c("SUIText.react"),{shade:"light"},h._("Select rule type"));Object.values(c("ProductFeedRuleType")).indexOf(m)>=0||i(0);switch(m){case c("ProductFeedRuleType").MAPPING_RULE:return c("React").createElement(c("ProductFeedColumnMappingRuleParams.react"),k);case c("ProductFeedRuleType").LETTER_CASE_RULE:return c("React").createElement(c("ProductFeedLetterCaseRuleParams.react"),k);case c("ProductFeedRuleType").REGEX_REPLACE_RULE:case c("ProductFeedRuleType").VALUE_MAPPING_RULE:return c("React").createElement(c("ProductFeedValueMappingRuleParams.react"),k);case c("ProductFeedRuleType").FALLBACK_RULE:return c("React").createElement(c("ProductFeedFallbackRuleParams.react"),k);default:return c("React").createElement("div",null)}};f.exports=j}),null);
__d("ProductFeedRulePreview.react",["ix","cx","fbt","ProductCatalogBusinessEventName","ProductCatalogBusinessEventsLoggerHelper","ProductFeedRuleType","React","SUIButton.react","SUIGlyphIcon.react","SUIModal.react","SUIModalFooter.react","SUIModalHeader.react","SUIText.react","ScrollableArea.react","ProductFeedDisplayFields","immutable","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ProductFeedDisplayFields").ProductFeedDisplayFields,n=c("immutable").Map,o=function o(q){var r=q.rule,s=r.attribute,t=r.ruleType,u=r.params;return c("React").createElement("div",{className:"_x-6"},c("React").createElement("div",{className:"_3qy4"},c("React").createElement("div",{className:"_3qy8"},c("React").createElement(c("SUIText.react"),{shade:"medium",weight:"bold"},j._("ORIGINAL VALUE FOR \"{original_property_name}\"",[j.param("original_property_name",t===c("ProductFeedRuleType").MAPPING_RULE?u.map_from:s)]))),c("React").createElement("div",{className:"_3qyf"},c("React").createElement(c("SUIText.react"),{shade:"medium",weight:"bold"},j._("NEW VALUE FOR \"{new_property_name}\"",[j.param("new_property_name",s)])))),c("React").createElement(c("ScrollableArea.react"),{width:780,height:200,shadow:false},q.previewSamples.map(function(v){return n({before:v.propertiesBefore[s],after:v.propertiesAfter[s]})}).toSet().map(function(v,w){return c("React").createElement("div",{key:w,className:"_3qy6"},c("React").createElement("div",{className:"_3qy8"},c("React").createElement(c("SUIText.react"),null,v.get("before"))),c("React").createElement("div",{className:"_3qyf"},c("React").createElement(c("SUIText.react"),null,v.get("after"))))})))};k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.state={isShown:false},this.$ProductFeedRulePreview2=function(){this.setState({isShown:false})}.bind(this),this.$ProductFeedRulePreview3=function(){c("ProductCatalogBusinessEventsLoggerHelper").getFeedOverviewLogger(this.props.feedID).setEvent(c("ProductCatalogBusinessEventName").FEED_SETTINGS_RULES_PREVIEW_CLICK).setActionData({attribute:this.props.rule.attribute,ruleType:this.props.rule.ruleType}).log();this.setState({isShown:true})}.bind(this),this.$ProductFeedRulePreview4=function(){return this.$ProductFeedRulePreview1}.bind(this),this.$ProductFeedRulePreview5=function(v){this.$ProductFeedRulePreview1=v}.bind(this),r}p.prototype.render=function(){var q=this.props.isDisabled,r=m[this.props.rule.attribute];return c("React").createElement("div",{className:"_3qy3"},c("React").createElement(c("SUIButton.react"),{disabled:q,icon:c("React").createElement(c("SUIGlyphIcon.react"),{disabled:q,srcDefault:h("122868"),srcDisabled:h("126072")}),tooltip:j._("Preview"),onClick:this.$ProductFeedRulePreview3,ref:this.$ProductFeedRulePreview5}),c("React").createElement(c("SUIModal.react"),{causalElementRef:this.$ProductFeedRulePreview4,onHide:this.$ProductFeedRulePreview2,isShown:this.state.isShown,width:800,header:c("React").createElement(c("SUIModalHeader.react"),{title:j._("Feed Rule Preview")}),label:j._("Feed Rule Preview"),footer:c("React").createElement(c("SUIModalFooter.react"),{leftContent:c("React").createElement(c("SUIText.react"),{shade:"light"},j._("Note, this is just sample of results.")),primaryButton:c("React").createElement(c("SUIButton.react"),{layerAction:"cancel",use:"confirm",label:j._("Done")})})},r?c("React").createElement("div",{className:"_x-7"},c("React").createElement(c("SUIText.react"),{className:"_x-8",shade:"medium",size:"body2_DEPRECATED",weight:"bold"},'"'+this.props.rule.attribute.toUpperCase()+'":'),c("React").createElement(c("SUIText.react"),{className:"_x-9"},r.DESCRIPTION)):undefined,c("React").createElement(o,{rule:this.props.rule,previewSamples:this.props.previewSamples})))};f.exports=p}),null);
__d("ProductFeedRulePreviewSamplesActions",["AdsDataAtom","ProductsActionTypes"],(function a(b,c,d,e,f,g){"use strict";var h={feedRulePreviewSamplesLoaded:function i(j,k,l){c("AdsDataAtom").handleUpdateFromServerResponse({feedID:j,ruleData:k,previewSamples:l,type:c("ProductsActionTypes").FEED.RULE_PREVIEW_SAMPLES.LOADED})},feedRulePreviewSamplesLoadError:function i(j,k,l){c("AdsDataAtom").handleUpdateFromServerResponse({feedID:j,ruleData:k,error:l,type:c("ProductsActionTypes").FEED.RULE_PREVIEW_SAMPLES.LOAD_ERROR})}};f.exports=h}),null);
__d("ProductFeedRulePreviewSamplesDataManager",["GraphAPI","ProductFeedRulePreviewSamplesActions","ProductsAPIConfig","immutable","ProductCatalogDataManagerHelpers"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").List,i=c("ProductCatalogDataManagerHelpers").parseObject;j.prototype.load=function(k,l){c("GraphAPI")(c("ProductsAPIConfig").version).object("product_feed",k).edge("rule_preview_samples").get({attribute:l.attribute,rule_type:l.ruleType,params:l.params}).done(function(m){return c("ProductFeedRulePreviewSamplesActions").feedRulePreviewSamplesLoaded(k,l,h(m.data).map(function(n){return{propertiesBefore:i(n.properties_before),propertiesAfter:i(n.properties_after)}}))},function(m){return c("ProductFeedRulePreviewSamplesActions").feedRulePreviewSamplesLoadError(k,l,m)})};function j(){}f.exports=new j()}),null);
__d("ProductFeedRulePreviewSamplesStore",["AdsDataAtom","FluxLoadObjectStore","immutable","LoadObject","ProductFeedRulePreviewSamplesDataManager","ProductsActionTypes","ProductFeedUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("ProductFeedUtils").isValidRule;h=babelHelpers.inherits(k,c("FluxLoadObjectStore"));i=h&&h.prototype;k.prototype.reduce=function(l,m){var n=m.action;switch(n.type){case c("ProductsActionTypes").FEED.RULE_PREVIEW_SAMPLES.LOADED:return this.__handleOne(l,this.$ProductFeedRulePreviewSamplesStore1(n.feedID,n.ruleData),n.previewSamples);case c("ProductsActionTypes").FEED.RULE_PREVIEW_SAMPLES.LOAD_ERROR:return this.__handleOne(l,this.$ProductFeedRulePreviewSamplesStore1(n.feedID,n.ruleData),n.error);default:return l}};k.prototype.__load=function(l){c("ProductFeedRulePreviewSamplesDataManager").load(l.get("feedID"),l.get("ruleData").toJS())};k.prototype.$ProductFeedRulePreviewSamplesStore1=function(l,m){return c("immutable").Map({feedID:l,ruleData:c("immutable").Map(babelHelpers["extends"]({},m,{params:c("immutable").Map(m.params)}))})};k.prototype.getPreviewSamples=function(l,m){return j(m)?this.get(this.$ProductFeedRulePreviewSamplesStore1(l,m)):c("LoadObject").empty()};function k(){h.apply(this,arguments)}f.exports=new k(c("AdsDataAtom"))}),null);
__d("ProductFeedRulePreviewContainer.react",["FluxContainer","ProductFeedRulePreview.react","ProductFeedRulePreviewSamplesStore","React","immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("immutable").List;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.getStores=function(){return[c("ProductFeedRulePreviewSamplesStore")]};k.calculateState=function(l,m){var n=m.feedID,o=m.rule,p=c("ProductFeedRulePreviewSamplesStore").getPreviewSamples(n,o);return babelHelpers["extends"]({},l,{isLoading:p.isLoading(),previewSamples:p.getValue()||j()})};k.prototype.render=function(){var l=this.state,m=l.previewSamples,n=l.isLoading;return c("React").createElement(c("ProductFeedRulePreview.react"),{feedID:this.props.feedID,rule:this.props.rule,isDisabled:n||m.isEmpty(),previewSamples:m})};function k(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(k,{withProps:true})}),null);
__d("ProductFeedRuleSettings.react",["ix","cx","fbt","GoogleProductFeedProperties","Image.react","ProductFeedRuleType","ProductFeedLetterCaseType","ProductFeedRuleParamsOrMessage.react","ProductFeedRulePreviewContainer.react","ProductsConfig","React","SUIButton.react","SUIGlyphIcon.react","SUISelector.react","SUISelectorOption.react","SUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=[c("ProductFeedRuleType").LETTER_CASE_RULE,c("ProductFeedRuleType").MAPPING_RULE,c("ProductFeedRuleType").VALUE_MAPPING_RULE];if(c("ProductsConfig").gk.product_catalog_enable_fallback_rule)l.push(c("ProductFeedRuleType").FALLBACK_RULE);if(c("ProductsConfig").gk.product_catalog_enable_regex_rule)l.push(c("ProductFeedRuleType").REGEX_REPLACE_RULE);var m=(k={},k[c("ProductFeedRuleType").MAPPING_RULE]={name:j._("Map to column"),defaultParams:{}},k[c("ProductFeedRuleType").VALUE_MAPPING_RULE]={name:j._("Replace"),defaultParams:{}},k[c("ProductFeedRuleType").LETTER_CASE_RULE]={name:j._("Change capitalization"),defaultParams:{type:c("ProductFeedLetterCaseType").CAPITALIZE_FIRST}},k[c("ProductFeedRuleType").FALLBACK_RULE]={name:j._("Use default value"),defaultParams:{}},k[c("ProductFeedRuleType").REGEX_REPLACE_RULE]={name:j._("Replace regex"),defaultParams:{"[Cc]olou?r":"Color"}},k),n=function n(p){__p&&__p();var q=p.rule,r=p.isEditMode,s=p.onRuleChange;if(!r&&q.ruleType==="")return c("React").createElement("div",null);if(r&&q.attribute==="")return c("React").createElement(c("SUIText.react"),{shade:"light"},j._("Select column you'd like to apply to"));var t=l.filter(function(u){return!(u===c("ProductFeedRuleType").FALLBACK_RULE&&(q.attribute===c("GoogleProductFeedProperties").TITLE||q.attribute===c("GoogleProductFeedProperties").DESCRIPTION))});return c("React").createElement("div",null,r?c("React").createElement(c("SUISelector.react"),{onChange:function u(v){return s(babelHelpers["extends"]({},q,{ruleType:v,params:m[v].defaultParams}))},value:q.ruleType===""?undefined:q.ruleType,placeholder:j._("Select")},t.map(function(u){return c("React").createElement(c("SUISelectorOption.react"),{value:u,key:u},m[u].name)})):c("React").createElement(c("SUIText.react"),{size:"body2_DEPRECATED"},m[q.ruleType].name))},o=function o(p){var q=p.rule,r=p.isEditMode,s=p.onRuleChange,t=p.feedID,u=p.isPendingToDelete,v=p.isFeedRulesQE;return c("React").createElement("div",{className:"_s2x"+(u?" _13g3":"")},c("React").createElement("div",{className:"_60lt"},v?c("React").createElement(n,{rule:q,isEditMode:r,onRuleChange:s}):c("React").createElement(c("Image.react"),{className:"_s38",src:h("125549")})),c("React").createElement("div",{className:"_60lu"},c("React").createElement(c("ProductFeedRuleParamsOrMessage.react"),{isFeedRulesQE:v,rule:p.rule,isEditMode:p.isEditMode,onRuleChange:p.onRuleChange})),c("React").createElement("div",{className:"_60lv"},p.isEditMode&&p.onRuleDelete!==undefined&&(!u||v)?c("React").createElement("div",{className:"_13g1"},c("React").createElement(c("SUIButton.react"),{icon:c("React").createElement(c("SUIGlyphIcon.react"),{disabled:u,srcDefault:h("123684"),srcDisabled:h("126888")}),label:"Delete",disabled:u,labelIsHidden:true,width:32,onClick:function w(){if(p.onRuleDelete!==undefined)p.onRuleDelete(p.rule)}})):undefined,v?c("React").createElement(c("ProductFeedRulePreviewContainer.react"),{feedID:t,rule:q}):undefined))};f.exports=o}),null);
__d("ProductFeedRulesSettings.react",["ix","cx","fbt","ProductFeedRuleType","ProductFeedColumnMappingSelector.react","ProductFeedRuleSettings.react","React","SUIButton.react","SUIGlyphIcon.react","SUIText.react","SUITooltip.react","immutable","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("immutable").List,n=c("immutable").Set;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$ProductFeedRulesSettings1=function(){if(this.props.onRuleCreate!==undefined)this.props.onRuleCreate({id:"",params:{},ruleType:"",attribute:""})}.bind(this),this.$ProductFeedRulesSettings3=function(u){if(this.props.onRuleChange!==undefined)this.props.onRuleChange(u)}.bind(this),q}o.prototype.$ProductFeedRulesSettings2=function(p,q){p.forEach(function(r){return this.$ProductFeedRulesSettings3(babelHelpers["extends"]({},r,{attribute:q,params:{}}))}.bind(this))};o.prototype.render=function(){var p=this.props,q=p.rules,r=p.feedID,s=p.isFeedRulesQE,t=this.props.isEditMode&&this.props.onRuleChange!==undefined,u=s?q:q.filter(function(x){return x.ruleType===c("ProductFeedRuleType").MAPPING_RULE}),v=u.toOrderedMap().groupBy(function(x){return x.attribute}),w=v.count(function(x,y){return y===""})>0;return c("React").createElement("table",{className:"_gea"},c("React").createElement("thead",{className:s?"_geb":""},c("React").createElement("tr",null,c("React").createElement("th",{width:"216px"},s?c("React").createElement(c("SUIText.react"),{weight:"bold"},j._("COLUMN")):undefined),c("React").createElement("th",{width:"496px"},s?c("React").createElement("div",null,c("React").createElement(c("SUIText.react"),{weight:"bold"},j._("RULE"))):undefined))),c("React").createElement("tbody",null,!t&&v.isEmpty()&&s?c("React").createElement("tr",{className:"_s2x"},c("React").createElement("td",{colSpan:"4"},c("React").createElement(c("SUIText.react"),{shade:"light"},j._("No feed rules created for this feed")))):v.map(function(x,y){return c("React").createElement("tr",{key:y},c("React").createElement("td",{className:"_1ydc"+(s?" _1ydd":"")+(x.every(function(z){return this.props.ruleIDsToDelete.has(z.id)}.bind(this))?" _13g3":"")},t?c("React").createElement(c("ProductFeedColumnMappingSelector.react"),{hasTooltip:false,selectedField:y===""?undefined:y,onMappingChange:function(z){return this.$ProductFeedRulesSettings2(x,z)}.bind(this)}):c("React").createElement(c("SUIText.react"),{size:"body2_DEPRECATED"},y)),c("React").createElement("td",{className:"_1ydc"+(s?" _1ydd":"")},x.map(function(z){return c("React").createElement(c("ProductFeedRuleSettings.react"),{feedID:r,key:z.id,rule:z,isFeedRulesQE:s,isEditMode:this.props.isEditMode,onRuleChange:this.$ProductFeedRulesSettings3,onRuleDelete:this.props.onRuleDelete,isPendingToDelete:this.props.ruleIDsToDelete.has(z.id)})}.bind(this)).toList()))}.bind(this)).toList(),s&&t&&this.props.onRuleCreate!==undefined?c("React").createElement("tr",null,c("React").createElement("td",null,c("React").createElement(c("SUIButton.react"),{style:{marginTop:8},icon:c("React").createElement(c("SUIGlyphIcon.react"),{disabled:w,srcDefault:h("123418"),srcDisabled:h("126622")}),disabled:w,label:j._("New rule"),onClick:this.$ProductFeedRulesSettings1})),v.isEmpty()?c("React").createElement("td",{colSpan:"3"},c("React").createElement(c("SUIText.react"),{shade:"light"},j._("Create rules to be applied for future uploads for this feed"))):undefined):undefined))};o.defaultProps={ruleIDsToDelete:n()};f.exports=o}),null);
__d("ProductFeedRulesSuggestionsActions",["AdsDataAtom","ProductsActionTypes"],(function a(b,c,d,e,f,g){"use strict";var h={emitChange:function i(){c("AdsDataAtom").handleUpdateFromViewAction({type:c("ProductsActionTypes").FEED.RULE.SUGGESTION.EMIT_CHANGE})},loaded:function i(j,k){c("AdsDataAtom").handleUpdateFromServerResponse({id:j,suggestions:k,type:c("ProductsActionTypes").FEED.RULE.SUGGESTION.LOADED})},loadError:function i(j,k){c("AdsDataAtom").handleUpdateFromServerResponse({id:j,error:k,type:c("ProductsActionTypes").FEED.RULE.SUGGESTION.LOAD_ERROR})}};f.exports=h}),null);
__d("ProductFeedRulesSuggestionsDataManager",["GraphAPI","ProductFeedRulesSuggestionsActions","ProductsAPIConfig","immutable","ProductCatalogDataManagerHelpers"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").List,i=c("ProductCatalogDataManagerHelpers").parseObject,j=["type","params","attribute"];k.prototype.load=function(l){c("GraphAPI")(c("ProductsAPIConfig").version).object("product_feed_upload_error",l).edge("suggested_rules").get({fields:j}).done(function(m){return c("ProductFeedRulesSuggestionsActions").loaded(l,h(m.data).map(function(n){return{id:"",attribute:n.attribute,ruleType:n.type,params:i(n.params)}}))},function(m){return c("ProductFeedRulesSuggestionsActions").loadError(l,m)})};function k(){}f.exports=new k()}),null);
__d("ProductFeedRulesSuggestionsStore",["AdsDataAtom","FluxLoadObjectStore","LoadObject","ProductFeedRulesSuggestionsDataManager","ProductsActionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxLoadObjectStore"));i=h&&h.prototype;j.prototype.reduce=function(k,l){var m=l.action;switch(m.type){case c("ProductsActionTypes").FEED.RULE.SUGGESTION.LOADED:return this.__handleOne(k,m.id,m.suggestions);case c("ProductsActionTypes").FEED.RULE.SUGGESTION.LOAD_ERROR:return this.__handleOne(k,m.id,m.error);case c("ProductsActionTypes").FEED.RULE.SUGGESTION.EMIT_CHANGE:this.__emitChange();return k;default:return k}};j.prototype.__load=function(k){c("ProductFeedRulesSuggestionsDataManager").load(k)};function j(){h.apply(this,arguments)}f.exports=new j(c("AdsDataAtom"))}),null);
__d("ProductFeedUploadErrorField",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COLUMN_NUMBER:"column_number",DESCRIPTION:"description",ERROR_TYPE:"error_type",ID:"id",PROPERTY_NAMES:"property_names",ROOT_PROPERTY_NAMES:"root_property_names",ROW_NUMBER:"row_number",SEVERITY:"severity",SUMMARY:"summary",TOTAL_COUNT:"total_count"})}),null);
__d("ProductFeedRulesSuggestionsContainer.react",["ix","cx","fbt","AdsLoadStateUtils_LEGACY","AdsQE","AdsQEStore","FluxContainer","Image.react","ProductCatalogBusinessEventName","ProductCatalogBusinessEventsLoggerHelper","ProductFeedRuleActions","ProductFeedRuleListStore","ProductFeedRuleStore","ProductFeedRulesSettings.react","ProductFeedRulesSuggestionsActions","ProductFeedRulesSuggestionsStore","ProductFeedUploadErrorField","ProductFeedsQE","ProductsConfig","ProductsContextTypes","React","SUIButton.react","SUILink.react","SUISpinner.react","SUIText.react","immutable","ProductFeedUtils","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=c("immutable").Map,n=c("immutable").List,o=c("ProductFeedUtils").getHighlightedFieldsText,p=c("ProductFeedUtils").getIncorrectErrorProperties,q=c("ProductFeedUtils").isValidRule,r=function r(t){return"/feeds/"+t+"/settings"};k=babelHelpers.inherits(s,c("React").Component);l=k&&k.prototype;function s(){__p&&__p();var t,u;"use strict";for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=l.constructor).call.apply(t,[this].concat(w)),this.$ProductFeedRulesSuggestionsContainer1=function(){__p&&__p();var y=this.state.suggestions.first();this.$ProductFeedRulesSuggestionsContainer2(c("ProductCatalogBusinessEventName").FEED_OVERVIEW_RULES_SAVE_CLICK,y?{attribute:y.attribute,ruleType:y.ruleType}:undefined);this.setState(function(z,A){z.suggestions.forEach(function(B){var C=z.exsistingRules.find(function(D){return D.attribute===B.attribute&&D.ruleType===B.ruleType});if(C)c("ProductFeedRuleActions").update(C.id,B);else c("ProductFeedRuleActions").create(A.feedID,B)});return babelHelpers["extends"]({},z)})}.bind(this),u}s.getStores=function(){"use strict";return[c("AdsQEStore"),c("ProductFeedRuleListStore"),c("ProductFeedRuleStore"),c("ProductFeedRulesSuggestionsStore")]};s.calculateState=function(t,u,v){"use strict";var w=t||{isLoading:true,allSuggestionsExist:false,suggestions:m(),exsistingRules:n(),isFeedRulesQE:false},x=c("ProductFeedRuleListStore").getFor(u.feedID),y=c("ProductFeedRuleStore").getAll(x.list),z=n(c("AdsLoadStateUtils_LEGACY").getLoadedValues(y)),A=c("ProductFeedRulesSuggestionsStore").get(u.error.id),B=(A.getValue()||n()).toMap().mapKeys(function(E){return E.toString()}).map(function(E,F){return babelHelpers["extends"]({},E,{id:F})}),C=c("AdsQEStore").get(c("ProductFeedsQE").UNIVERSE.PRODUCT_CATALOG_FEED_RULES,v.catalogID),D=false;if(!B.isEmpty())D=true;return babelHelpers["extends"]({},w,{exsistingRules:z,suggestions:B,isFeedRulesQE:D,isLoading:c("AdsLoadStateUtils_LEGACY").isLoading(x)||c("AdsLoadStateUtils_LEGACY").anyLoading(y)||!A.hasValue()||C.isLoading(),allSuggestionsExist:B.every(function(E){return z.find(function(F){return F.attribute===E.attribute&&F.ruleType===E.ruleType&&m(F.params).equals(m(E.params))})!==undefined})})};s.prototype.render=function(){"use strict";var t=this.state,u=t.suggestions,v=t.allSuggestionsExist;if(u.isEmpty()||!this.state.isFeedRulesQE)return c("React").createElement("div",null);return c("React").createElement("div",{className:"_60fo"},c("React").createElement("table",{className:"_60fp"},c("React").createElement("tbody",null,c("React").createElement("tr",null,c("React").createElement("td",{className:"_60fq"},v?c("React").createElement(c("Image.react"),{className:"_3wet",src:h("122579")}):c("React").createElement(c("Image.react"),{className:"_3wet",src:h("123227")}),c("React").createElement(c("SUIText.react"),{className:"_3weu",shade:"medium",size:"body2_DEPRECATED",style:{marginLeft:8},weight:"bold"},v?j._("Rules saved:"):j._("Suggested Fix:"))),c("React").createElement("td",{className:"_60fr"},v?c("React").createElement(c("SUIText.react"),{color:"secondary",size:"body2_DEPRECATED"},j._("This rule will be applied the next time you upload this feed file.")):c("React").createElement(c("SUIText.react"),{color:"secondary",size:"body2_DEPRECATED"},j._("Save this feed rule for all future uploads of this feed."))),c("React").createElement("td",{className:"_1yfi"},c("React").createElement("div",{className:"_60fs"},this.state.isLoading?c("React").createElement(c("SUISpinner.react"),null):undefined,!v?c("React").createElement(c("SUIButton.react"),{label:j._("Save"),use:"confirm",onClick:this.$ProductFeedRulesSuggestionsContainer1,style:{marginLeft:8},disabled:!u.every(q)||this.state.isLoading}):c("React").createElement(c("SUILink.react"),{onClick:this.$ProductFeedRulesSuggestionsContainer3.bind(this)},c("React").createElement(c("SUIText.react"),{color:"interactive",size:"body2_DEPRECATED"},j._("Edit rules")))))))),c("React").createElement(c("ProductFeedRulesSettings.react"),{feedID:this.props.feedID,isEditMode:false,rules:u.toList(),isFeedRulesQE:this.state.isFeedRulesQE}))};s.prototype.$ProductFeedRulesSuggestionsContainer3=function(){"use strict";this.context.router.push(r(this.props.feedID))};s.prototype.$ProductFeedRulesSuggestionsContainer2=function(event,t){"use strict";c("ProductCatalogBusinessEventsLoggerHelper").getFeedOverviewLogger(this.props.feedID).setEvent(event).setActionData(t).log()};s.contextTypes=babelHelpers["extends"]({},c("ProductsContextTypes"),{router:Object});f.exports=c("FluxContainer").create(s,{withProps:true,withContext:true})}),null);
__d("ProductFeedUploadErrorNotifierContainer.react",["ix","cx","AdsQE","AdsQEStore","FluxContainer","Image.react","ProductFeedRulesSuggestionsStore","ProductFeedsQE","ProductsConfig","ProductsContextTypes","React","immutable","fbglyph"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("immutable").List;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.getStores=function(){"use strict";return[c("AdsQEStore"),c("ProductFeedRulesSuggestionsStore")]};m.calculateState=function(n,o,p){"use strict";var q=n||{isLoading:true,isActive:false,isFeedRulesQE:false},r=c("ProductFeedRulesSuggestionsStore").get(o.error.id),s=c("AdsQEStore").get(c("ProductFeedsQE").UNIVERSE.PRODUCT_CATALOG_FEED_RULES,p.catalogID),t=!(r.getValue()||l()).isEmpty(),u=false;if(t)u=true;return babelHelpers["extends"]({},q,{isActive:t,isFeedRulesQE:u,isLoading:r.isLoading()||s.isLoading()})};m.prototype.render=function(){"use strict";var n=this.state,o=n.isLoading,p=n.isActive,q=n.isFeedRulesQE;if(o||!p||!q)return c("React").createElement("div",null);return c("React").createElement(c("Image.react"),{className:"_60rp",src:h("133399")})};function m(){"use strict";j.apply(this,arguments)}m.contextTypes=c("ProductsContextTypes");f.exports=c("FluxContainer").create(m,{withProps:true,withContext:true})}),null);
__d("ProductFeedUploadErrorSeverity",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FATAL:"fatal",WARNING:"warning"})}),null);
__d("ProductFeedUploadErrorExpandableItem.react",["cx","fbt","DynamicItemsMaybePlural.react","DynamicItemsPlural$FbtEnum","Expandable.brands","Layout.react","NumberFormat","ProductCatalogBusinessEventName","ProductCatalogBusinessEventsLoggerHelper","ProductFeedRulesSuggestionsContainer.react","ProductFeedUploadErrorField","ProductFeedUploadErrorNotifierContainer.react","ProductFeedUploadErrorSeverity","ProductFeedUploadErrorTypes","ProductsContextTypes","React","SUIBusinessTheme","SUIText.react","ProductFeedUtils"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("Layout.react").Column,m=c("Layout.react").FillColumn,n=c("ProductFeedUtils").getIncorrectErrorProperties,o=c("ProductFeedUtils").getHighlightedFieldsText,p=[c("ProductFeedUploadErrorTypes").IMAGE_INVALID_CONTENT,c("ProductFeedUploadErrorTypes").IMAGE_NOT_DOWNLOADABLE,c("ProductFeedUploadErrorTypes").IMAGE_SMALL_DIMENSIONS];j=babelHelpers.inherits(q,c("React").Component);k=j&&j.prototype;q.prototype.render=function(){__p&&__p();var r,s=this,t=this.props,u=t.error,v=t.expanded,w=t.table,x=u[c("ProductFeedUploadErrorField").TOTAL_COUNT],y=c("React").createElement(c("SUIText.react"),{color:"secondary",size:"header4",theme:c("SUIBusinessTheme")},u[c("ProductFeedUploadErrorField").SUMMARY]),z=n(u[c("ProductFeedUploadErrorField").PROPERTY_NAMES]);if(x>0)(function(){var A=null;if(p.indexOf(u[c("ProductFeedUploadErrorField").ERROR_TYPE])<0)if(s.props.errorType==c("ProductFeedUploadErrorSeverity").FATAL)A=x?i._("({number_of_rejected_products} {product or products from the given vertical} rejected)",[i.param("number_of_rejected_products",c("NumberFormat").formatInteger(x)),i.param("product or products from the given vertical",c("React").createElement(c("DynamicItemsMaybePlural.react"),{count:x}))]):i._({"auto_offers":"auto offers rejected","commerce":"products rejected","destinations":"destinations rejected","flights":"flights rejected","home_listings":"home listings rejected","home_service_providers":"home service providers rejected","hotels":"hotels rejected","vehicle_offers":"vehicle offers rejected","vehicles":"vehicles rejected"},[i["enum"](s.context.vertical,c("DynamicItemsPlural$FbtEnum"))]);else A=x?i._("({number_of_affected_products} {product or products from the given vertical} affected)",[i.param("number_of_affected_products",c("NumberFormat").formatInteger(x)),i.param("product or products from the given vertical",c("React").createElement(c("DynamicItemsMaybePlural.react"),{count:x}))]):i._({"auto_offers":"auto offers affected","commerce":"products affected","destinations":"destinations affected","flights":"flights affected","home_listings":"home listings affected","home_service_providers":"home service providers affected","hotels":"hotels affected","vehicle_offers":"vehicle offers affected","vehicles":"vehicles affected"},[i["enum"](s.context.vertical,c("DynamicItemsPlural$FbtEnum"))]);var B=z.length;y=c("React").createElement(c("Layout.react"),{className:"_3z15"},c("React").createElement(m,null,c("React").createElement(c("SUIText.react"),{color:"secondary",size:"header4",theme:c("SUIBusinessTheme")},u[c("ProductFeedUploadErrorField").SUMMARY],B>0?c("React").createElement("span",null,": ",z.map(function(C,D){return c("React").createElement("span",{key:D},c("React").createElement(c("SUIText.react"),{weight:"bold"},C),D!==B-1?", ":null)})):undefined)),c("React").createElement(l,null,s.$ProductFeedUploadErrorExpandableItem1()?undefined:c("React").createElement(c("ProductFeedUploadErrorNotifierContainer.react"),{error:u}),c("React").createElement(c("SUIText.react"),{className:"_13ai",shade:"light",theme:c("SUIBusinessTheme")},A)))})();return c("React").createElement(c("Expandable.brands"),{className:"_2bgl",expanded:v,onClick:function(v){return v?this.$ProductFeedUploadErrorExpandableItem2(u):undefined}.bind(this),header:y},c("React").createElement("div",{className:"_2bgo"},this.$ProductFeedUploadErrorExpandableItem3(u[c("ProductFeedUploadErrorField").DESCRIPTION],z),!this.$ProductFeedUploadErrorExpandableItem1()&&this.props.feedID!==undefined&&c("React").createElement(c("ProductFeedRulesSuggestionsContainer.react"),{error:u,feedID:this.props.feedID}),w))};q.prototype.$ProductFeedUploadErrorExpandableItem1=function(){return this.props.feedID===undefined};q.prototype.$ProductFeedUploadErrorExpandableItem2=function(r){if(!this.$ProductFeedUploadErrorExpandableItem1())c("ProductCatalogBusinessEventsLoggerHelper").getFeedOverviewLogger(this.props.feedID||"").setEvent(c("ProductCatalogBusinessEventName").FEED_OVERVIEW_ERROR_EXPAND_CLICK).setActionData({errorID:r[c("ProductFeedUploadErrorField").ID],errorType:r[c("ProductFeedUploadErrorField").ERROR_TYPE],errorSeverity:r[c("ProductFeedUploadErrorField").SEVERITY]}).log()};q.prototype.$ProductFeedUploadErrorExpandableItem3=function(r,s){return c("React").createElement(c("SUIText.react"),{className:"_2bgp",color:"secondary",size:"header4",theme:c("SUIBusinessTheme")},o(r,s))};function q(){j.apply(this,arguments)}q.contextTypes=c("ProductsContextTypes");f.exports=q}),null);
__d("ProductFeedUploadErrorSampleField",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({ID:"id",RETAILER_ID:"retailer_id",PROPERTIES:"properties",ROW_NUMBER:"row_number"});f.exports=h}),null);
__d("ProductFeedUploadErrorsSection.react",["ix","cx","invariant","Image.react","ProductFeedUploadErrorSeverity","React","SUIBusinessTheme","SUIText.react","fbglyph","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){__p&&__p();var n=void 0,o=void 0;switch(this.props.errorType){case c("ProductFeedUploadErrorSeverity").FATAL:n="_5qwb";o=h("118811");break;case c("ProductFeedUploadErrorSeverity").WARNING:n="_5qwc";o=h("132176");break;default:j(0)}return c("React").createElement("div",{className:c("joinClasses")(this.props.className)},c("React").createElement("div",{className:"_5qw9"},c("React").createElement("div",{className:"_4lq5"},c("React").createElement(c("Image.react"),{className:"_9kb",src:o})),c("React").createElement("div",{className:"_4lq5"},c("React").createElement(c("SUIText.react"),{size:"header4",theme:c("SUIBusinessTheme")},this.props.description))),c("React").createElement("div",{className:n},this.props.children))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("DynamicItemMediaGrid.react",["cx","invariant","AdsVideoPlayer.react","BackgroundImage.react","React","SUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=94,m=function m(o){if(o.mediaItems.length<o.index+1)return null;var p=null,q=o.mediaItems[o.index];if(q.objectType==="IMAGE")p=c("React").createElement(c("BackgroundImage.react"),{backgroundPosition:"50% 0%",backgroundSize:"cover",className:"_1ic2",height:l,src:q.imageUrl,width:l});else if(q.videoID)p=c("React").createElement(c("AdsVideoPlayer.react"),{className:"_1ic2",hideCloseButton:true,playerHeight:l,playerWidth:l,showControls:false,videoID:q.videoID||""},c("React").createElement(c("BackgroundImage.react"),{backgroundSize:"cover",className:"_1ic2",height:l,src:null,width:l}));p!==null||i(0);return c("React").createElement("span",{role:"link",tabIndex:0,onClick:o.onClick},p)};j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.render=function(){var o=Math.min(this.props.maxDynamicItemMediasToDisplay,this.props.mediaItems.length),p=Array(o-1).fill().map(function(q,r){return r+1});return c("React").createElement("div",{style:{width:this.props.width}},c("React").createElement("div",null,p.map(function(q){return c("React").createElement(m,{key:q,mediaItems:this.props.mediaItems,index:q-1,onClick:function(){return this.$DynamicItemMediaGrid1(q-1)}.bind(this)})}.bind(this)),c("React").createElement("div",{className:"_3brr"},c("React").createElement(m,{mediaItems:this.props.mediaItems,index:o-1,onClick:function(){return this.$DynamicItemMediaGrid1(o-1)}.bind(this)}),this.props.mediaItems.length<=o?null:c("React").createElement("div",{className:"_3brs",style:{width:l,height:l}},c("React").createElement(c("SUIText.react"),{className:"_3brv",color:"white",customSizeUseSparingly:"36px",textAlign:"center"},"+",this.props.mediaItems.length-o)))))};n.prototype.$DynamicItemMediaGrid1=function(o){this.props.onChangeSelectedMediaItem(o)};function n(){j.apply(this,arguments)}f.exports=n}),null);
__d("ProductImageWithWarning.react",["ix","cx","fbt","BackgroundImage.react","Image.react","React","SUIBusinessTheme","SUISpinner.react","SUILink.react","SUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.state={},this.$ProductImageWithWarning1=function(s,t){this.setState({dimensions:{width:s,height:t}})}.bind(this),o}m.prototype.render=function(){"use strict";var n=this.props,o=n.imageUrl,p=n.warning,q=n.className,r=this.state.dimensions,s=o?c("React").createElement(c("BackgroundImage.react"),{backgroundSize:"cover",height:this.props.size,width:this.props.size,loadingIndicatorStyle:"small",src:o,onImageLoad:this.$ProductImageWithWarning1}):undefined;return c("React").createElement("div",{className:q},s,c("React").createElement("div",null,p&&c("React").createElement("span",{className:"_tpx"},c("React").createElement(c("Image.react"),{src:h("132176")})),r?c("React").createElement("div",{className:"_3-99"},j._("Size: {width}px x {height}px",[j.param("width",r.width),j.param("height",r.height)])):c("React").createElement("div",null,j._("Size: {spinner}",[j.param("spinner",c("React").createElement(c("SUISpinner.react"),{size:"small",theme:c("SUIBusinessTheme")}))])),this.props.hideURL?null:c("React").createElement("div",{className:"_64tk"},c("React").createElement(c("SUIText.react"),{size:"body2_DEPRECATED"},j._("Image URL:")),c("React").createElement(c("SUILink.react"),{className:"_64tl",href:this.props.imageUrl,style:{maxWidth:this.props.size},target:"_blank"},c("React").createElement(c("SUIText.react"),{size:"meta1",display:"truncate"},this.props.imageUrl)))),p&&c("React").createElement("div",{className:"_tpy"},p))};m.defaultProps={hideURL:true};f.exports=m}),null);
__d("ProductItemIssueWarning.react",["fbt","cx","Link.react","React"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;"use strict";j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$ProductItemIssueWarning1=function(){this.props.onClick(this.props.issue)}.bind(this),n}l.prototype.render=function(){"use strict";return c("React").createElement("div",null,c("React").createElement("span",{className:"_tpz"},this.props.issue.summary),c("React").createElement("span",null,"\xa0",c("React").createElement(c("Link.react"),{onClick:this.$ProductItemIssueWarning1},h._("Learn more"))))};f.exports=l}),null);
__d("ProductsQualityUtils",["CommerceQualityMetric","DynamicItemsTableUtils","ProductCatalogBusinessEventsLoggerHelper","ProductCatalogField","ProductAppContextStore","ProductsConfig","keyMirror"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("keyMirror")({POOR:null,FAIR:null,GOOD:null}),i={QualityRating:h,getQualityRating:function j(k){var l=c("ProductsConfig").quality_config.quality_score_grade_limits.poor*100,m=c("ProductsConfig").quality_config.quality_score_grade_limits.fair*100;if(k<l)return h.POOR;if(k<m)return h.FAIR;return h.GOOD},getProductCatalogQualityStatsFields:function j(){return[c("ProductCatalogField").PRODUCT_COUNT,c("ProductCatalogField").QUALIFIED_PRODUCT_COUNT]},getQualityScore:function j(k,l){if(k!=null&&l!=null&&k!==0)return 100*l/k;return null},getQualityScoreFromStats:function j(k){return this.getQualityScore(k.productCount,k.qualifiedProductCount)},numberOfQualityIssues:function j(k){if(!k.qualityIssues)return 0;return k.qualityIssues.filter(function(l){return l.count>0}).length},hasAllData:function j(k){for(var l in k)if(k[l]==null)return false;return true},hasQualityIssues:function j(k){return this.numberOfQualityIssues(k)>0},getIssuesPerProperty:function j(k){var l={},m=c("DynamicItemsTableUtils").getConfig(c("ProductAppContextStore").getVertical());(k||[]).forEach(function(n){n.property_names.forEach(function(o){l[o]=l[o]||[];l[o].push(n)});if(n.issue_type===c("CommerceQualityMetric").QUALIFIED_IMAGE&&m.imageField)l[m.imageField]=[n]});return l},logQualityStats:function j(k,l,event){var m=void 0,n=l.qualityIssues;if(n!==null&&n!==undefined)m=n.map(function(o){return{count:o.count,issueType:o.issue_type}});c("ProductCatalogBusinessEventsLoggerHelper").getQualityLogger(k[c("ProductCatalogField").ID]).setEvent(event).setActionData({product_count:JSON.stringify(l.productCount),qualified_product_count:JSON.stringify(l.qualifiedProductCount),quality_issues:JSON.stringify(m)}).log()}};f.exports=i}),null);
__d("ProductItemMainImage.react",["DynamicItemsTableUtils","ProductItemIssueWarning.react","ProductsQualityUtils","ProductImageWithWarning.react","ProductAppContextStore","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){return c("React").createElement(c("ProductImageWithWarning.react"),{imageUrl:this.props.imageUrl,hideURL:this.props.hideURL,size:this.props.size,warning:this.$ProductItemMainImage1()})};j.prototype.$ProductItemMainImage1=function(){var k=this.props,l=k.issues,m=k.onIssueClick,n=c("ProductsQualityUtils").getIssuesPerProperty(l),o=c("ProductAppContextStore").getVertical(),p=c("DynamicItemsTableUtils").getConfig(o);if(p.imageField&&n[p.imageField]&&n[p.imageField][0])return c("React").createElement(c("ProductItemIssueWarning.react"),{issue:n[p.imageField][0],onClick:m});return null};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("DynamicItemMediaPreview.react",["cx","invariant","AdsVideoPlayer.react","BackgroundImage.react","ProductItemMainImage.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=this.props,n=m.mediaItem,o=m.size,p=null;if(n.objectType==="IMAGE"&&n.imageUrl!==undefined)p=c("React").createElement(c("ProductItemMainImage.react"),{imageUrl:n.imageUrl,hideURL:false,size:o});if(n.objectType==="VIDEO"&&n.videoID!==undefined)p=c("React").createElement(c("AdsVideoPlayer.react"),{className:"_1ic2 _1poh",hideCloseButton:true,playerHeight:o,playerWidth:o,showControls:false,videoID:this.props.mediaItem.videoID||""},c("React").createElement(c("BackgroundImage.react"),{backgroundSize:"cover",className:"_1ic2",height:o,src:null,width:o}));p!==null||i(0);return c("React").createElement("div",null,p)};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("DynamicItemMedia.react",["cx","fbt","DynamicItemMediaGrid.react","DynamicItemMediaPreview.react","React","SUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=400;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={mediaItemIndex:0},this.$DynamicItemMedia1=function(s){this.setState({mediaItemIndex:s})}.bind(this),o}m.prototype.render=function(){var n=(this.props.product.video_ids||[]).map(function(q){return{objectType:"VIDEO",videoID:q}}),o=[this.props.product.image_url].concat(this.props.product.additional_image_urls||[]).map(function(q){return{objectType:"IMAGE",imageUrl:q}}),p=n.concat(o);return c("React").createElement("div",{className:"_64tm"},c("React").createElement("div",{className:"_64tn"},c("React").createElement("div",{className:"_64to"},c("React").createElement(c("SUIText.react"),{shade:"light",size:"body2_DEPRECATED",weight:"bold"},i._("PREVIEW"))),c("React").createElement(c("DynamicItemMediaPreview.react"),{size:l,mediaItem:p[this.state.mediaItemIndex]})),c("React").createElement("div",{className:"_1e8o"},c("React").createElement("div",{className:"_64tn"},c("React").createElement("div",{className:"_64to"},c("React").createElement(c("SUIText.react"),{shade:"light",size:"body2_DEPRECATED",weight:"bold"},i._("IMAGES AND VIDEOS"))),c("React").createElement(c("DynamicItemMediaGrid.react"),{mediaItems:p,maxDynamicItemMediasToDisplay:10,width:400,onChangeSelectedMediaItem:this.$DynamicItemMedia1}))))};f.exports=m}),null);
__d("ProductItemAnalytics.react",["cx","fbt","ix","BUIInsightsFunnelChart.react","BUIInsightsLegendChart.react","CandelaStyleSheet","CenteredContainer.react","Image.react","Layout.react","LocalDate","PeriodUnit","React","SUIBusinessTheme","SUIText.react","Timezone","immutable","CandelaGroupScaleBuilder","CandelaStackScaleBuilder"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("Layout.react").Column,n=c("immutable").OrderedSet,o=c("CandelaGroupScaleBuilder").group,p=c("CandelaStackScaleBuilder").stack,q=500,r=980,s=c("Timezone").PST8PDT,t=c("CandelaStyleSheet").fromJS({bargroup:{maxWidth:100}});k=babelHelpers.inherits(u,c("React").Component);l=k&&k.prototype;function u(v){l.constructor.call(this,v);this.state={interval:this.props.dateRange.calculateInterval(c("LocalDate").today(s))}}u.prototype.render=function(){var v=this.props.stats;if(v.VIEW_CONTENT===0&&v.ADD_TO_CART===0&&v.PURCHASE===0)return c("React").createElement(c("CenteredContainer.react"),{vertical:true,fullHeight:true},c("React").createElement(c("Image.react"),{src:j("96796")}),c("React").createElement(c("SUIText.react"),{shade:"light",size:"body1_DEPRECATED",theme:c("SUIBusinessTheme"),weight:"normal"},i._("No results are available for this product")));var w={type:{type:"category"},value:{type:"number"}},x=[{type:i._("View Content"),value:v.VIEW_CONTENT},{type:i._("Add To Cart"),value:v.ADD_TO_CART},{type:i._("Purchase"),value:v.PURCHASE}],y=n([{key:"value",label:i._("Events")}]),z=this.state.interval.measureDateBasedUnit(c("PeriodUnit").day);return c("React").createElement("div",{className:"_1652"},c("React").createElement(c("Layout.react"),{className:"_1653"},c("React").createElement(m,null,c("React").createElement(c("SUIText.react"),{display:"truncate",shade:"light",size:"header4",theme:c("SUIBusinessTheme"),weight:"normal"},i._("Events for this product in the last {days count} days",[i.param("days count",z)])))),c("React").createElement(c("Layout.react"),null,c("React").createElement(m,null,c("React").createElement(c("BUIInsightsLegendChart.react"),{items:y},c("React").createElement(c("BUIInsightsFunnelChart.react"),{data:x,height:q,width:r,plotX:o("type"),plotY:p("value").from(0).stepCountHint(5).extendInput(0,.1),schema:w,styleSheet:t})))))};f.exports=u}),null);
__d("ProductItemAnalyticsContainer",["BUIDateRangePresets","CenteredContainer.react","FluxContainer","LocalDate","ProductItemAnalytics.react","ProductItemInsightsStore","React","SUIBusinessTheme","SUISpinner.react","Timezone"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("BUIDateRangePresets").LAST_28_DAYS,k=j.calculateInterval(c("LocalDate").today(c("Timezone").PST8PDT));h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;l.getStores=function(){return[c("ProductItemInsightsStore")]};l.calculateState=function(m,n){return babelHelpers["extends"]({},m,{isLoaded:c("ProductItemInsightsStore").isLoaded(n.productID,k),stats:c("ProductItemInsightsStore").getSumEnforce(n.productID,k)})};l.prototype.render=function(){if(!this.state.isLoaded)return c("React").createElement(c("CenteredContainer.react"),{fullHeight:true,vertical:true},c("React").createElement(c("SUISpinner.react"),{theme:c("SUIBusinessTheme"),size:"large"}));return c("React").createElement(c("ProductItemAnalytics.react"),{stats:this.state.stats,dateRange:j})};function l(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(l,{withProps:true})}),null);
__d("ItemDetailExpandable.react",["fbt","React","ShimButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={expanded:false},this.$ItemDetailExpandable1=function(){this.setState({expanded:!this.state.expanded})}.bind(this),m}k.prototype.render=function(){var l=void 0,m=void 0;if(this.state.expanded){l=this.props.children;m=h._("Less")}else{l=this.props.textValue;m=h._("More")}return c("React").createElement("div",null,c("React").createElement("span",null,l),c("React").createElement(c("ShimButton.react"),{form:"link",onClick:this.$ItemDetailExpandable1},m))};k.propTypes={textValue:String};f.exports=k}),null);
__d("ProductItemUtils",["ProductItemGraphApiFields"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();switch(i){case c("ProductItemGraphApiFields").BRAND:return"brand";case c("ProductItemGraphApiFields").DESCRIPTION:return"description";case c("ProductItemGraphApiFields").ID:return"facebook_id";case c("ProductItemGraphApiFields").RETAILER_ID:return"id";case c("ProductItemGraphApiFields").RETAILER_PRODUCT_GROUP_ID:return"item_group_id";case c("ProductItemGraphApiFields").MANUFACTURER_PART_NUMBER:return"mpn";case c("ProductItemGraphApiFields").NAME:return"title";case c("ProductItemGraphApiFields").IMAGE_URL:return"image_url";case c("ProductItemGraphApiFields").URL:return"link";default:return i}}f.exports={getProductPropertyAsFeedPropertyLabel:h}}),null);
__d("ProductItemProperties.react",["ix","cx","fbt","AccessibleTableParts.react","FBCollapsibleList.react","Image.react","ItemDetailExpandable.react","ProductItemGraphApiFields","ProductsQualityUtils","React","SUIBusinessTheme","SUILink.react","SUIText.react","XUITable.react","fbglyph","objectValues","ProductItemUtils"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m,n,o=c("ProductItemUtils").getProductPropertyAsFeedPropertyLabel,p=c("AccessibleTableParts.react").HeadRow,q=c("AccessibleTableParts.react").BodyRow;k=babelHelpers.inherits(r,c("React").Component);l=k&&k.prototype;function r(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=l.constructor).call.apply(u,[this].concat(x)),this.$IssueWarning1=function(){this.props.onClick(this.props.issue)}.bind(this),v}r.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",null,c("React").createElement("span",{className:"_34e2"},this.props.issue.summary),c("React").createElement("span",null,"\xa0",c("React").createElement(c("SUILink.react"),{onClick:this.$IssueWarning1,theme:c("SUIBusinessTheme")},j._("Learn more")))))};var s=function s(u){return c("React").createElement(c("SUILink.react"),{href:u.href,target:"_blank",theme:c("SUIBusinessTheme")},c("React").createElement(c("SUIText.react"),{size:"meta1",display:"truncate"},u.href))};m=babelHelpers.inherits(t,c("React").Component);n=m&&m.prototype;function t(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=n.constructor).call.apply(u,[this].concat(x)),this.$ProductItemProperties2=function(z){this.props.onIssueClick&&this.props.onIssueClick(z)}.bind(this),v}t.prototype.render=function(){__p&&__p();var u=[],v=this.props.product,w=void 0,x=c("ProductsQualityUtils").getIssuesPerProperty(this.props.issues);c("objectValues")(c("ProductItemGraphApiFields")).forEach(function(y){__p&&__p();var z=o(y);if(v[y]===undefined&&!x[z])return;if(this.$ProductItemProperties1(y)){var A=JSON.stringify(v[y],null,2),B=JSON.stringify(v[y]).substring(0,100);w=c("React").createElement(c("ItemDetailExpandable.react"),{textValue:B},c("React").createElement("pre",{className:"_34e5"},A))}else if(y===c("ProductItemGraphApiFields").ADDITIONAL_IMAGE_URLS&&Array.isArray(v[y]))w=c("React").createElement(c("FBCollapsibleList.react"),{numVisible:3},v[y].map(function(C,D){return c("React").createElement(s,{href:C,key:D})}));else if([c("ProductItemGraphApiFields").DA_DISPLAY_PREVIEW_URL,c("ProductItemGraphApiFields").IMAGE_URL,c("ProductItemGraphApiFields").URL].indexOf(y)>=0)w=c("React").createElement(s,{href:v[y]});else w=v[y];u.push(c("React").createElement(q,{key:z},c("React").createElement("td",{className:"_34e7"},c("React").createElement("div",{className:"_34e8"},x[z]?c("React").createElement("span",null,c("React").createElement(c("Image.react"),{src:h("132176")})):undefined),z),c("React").createElement("td",{className:"_34e9"},c("React").createElement("div",null,w),x[z]?x[z].map(function(C){return c("React").createElement(r,{key:C.issue_type,issue:C,onClick:this.$ProductItemProperties2})}.bind(this)):undefined)))}.bind(this));return c("React").createElement(c("XUITable.react"),{className:"_34eb",outerBorder:true},c("React").createElement("thead",null,c("React").createElement(p,null,c("React").createElement("th",null,"Property"),c("React").createElement("th",null,"Value"))),c("React").createElement("tbody",null,u))};t.prototype.$ProductItemProperties1=function(u){return u===c("ProductItemGraphApiFields").APPLINKS};f.exports=t}),null);
__d("DynamicItemViewProperty.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(k){var l=k.label,m=k.value;return c("React").createElement("div",{className:"_e26"},c("React").createElement("div",{className:"_e27"},l.toString().toLocaleUpperCase()),c("React").createElement("div",{className:"_e2a"},m||"-"))},j=function j(k){var l=k.children;return c("React").createElement("div",{className:"_e2b"},l)};f.exports={DynamicItemViewProperty:i,DynamicItemViewRow:j}}),null);
__d("ProductItemMapView.react",["cx","FBTilesMap.react","GeoCoordinates","immutable","LeafletCircle.react","LeafletPolygon.react","LeafletView","React","SUINotice.react","DynamicItemViewProperty.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("DynamicItemViewProperty.react").DynamicItemViewProperty,l=c("DynamicItemViewProperty.react").DynamicItemViewRow,m="400px",n="400px",o=1e3;function p(u){return Math.floor(Math.max(1,Math.min(20,14.28-Math.log2(u))))}function q(u){var v=u.map(function(D){return D.latitude}),w=u.map(function(D){return D.longitude}),x=Math.min.apply(null,v),y=Math.max.apply(null,v),z=Math.min.apply(null,w),A=Math.max.apply(null,w);if(x===y||z===A)return null;var B=360/Math.abs(x-y),C=180/Math.abs(z-A);return{center:new(c("GeoCoordinates"))((x+y)/2,(A+z)/2),zoom:Math.floor(Math.log2(Math.max(B,C)))}}function r(u){var v=u.availability_radius,w=u.availability_area,x=u.raw_address_data,y=x||{latitude:null,longitude:null},z=y.latitude,A=y.longitude,B=z&&A?new(c("GeoCoordinates"))(z,A):null,C=w?q(w):null;return{rawAddressData:x,availabilityRadius:v,availabilityArea:w,center:B,polygonBounds:C}}function s(u){return{mapView:u==null?null:u.center&&u.availabilityRadius?new(c("LeafletView"))({center:u.center,zoom:p(u.availabilityRadius)}):u.polygonBounds?new(c("LeafletView"))(u.polygonBounds):null}}i=babelHelpers.inherits(t,c("React").Component);j=i&&i.prototype;function t(){var u,v;"use strict";for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=j.constructor).call.apply(u,[this].concat(x)),this.state=s(r(this.props.dynamicItemOffer)),this.$ProductItemMapView1=function(z){this.setState({mapView:z})}.bind(this),v}t.prototype.componentWillReceiveProps=function(u){var v=u.dynamicItemOffer;"use strict";this.setState(s(r(v)))};t.prototype.render=function(){"use strict";__p&&__p();if(!this.props.dynamicItemOffer)return null;var u=this.state.mapView;if(u==null)return null;var v=this.props.dynamicItemOffer,w=r(v),x=w.rawAddressData,y=w.availabilityRadius,z=w.availabilityArea,A=w.center,B=w.polygonBounds,C=A!=null&&y!=null?c("React").createElement(c("LeafletCircle.react"),{center:A,radius:o*y}):null,D=z!=null?c("React").createElement(c("LeafletPolygon.react"),{coordinates:c("immutable").List(z.map(function(F){var G=F.latitude,H=F.longitude;return new(c("GeoCoordinates"))(G,H)}))}):null;if(B==null&&C==null)return c("React").createElement("div",{style:{marginBottom:"10px"}},c("React").createElement(c("SUINotice.react"),{type:"warning"},"Cannot render the availability map because the height or width of the availability polygon is zero."));var E=C||D;return c("React").createElement("div",{className:"_3-96"},c("React").createElement(l,null,c("React").createElement(k,{label:"Address Availability Data",value:JSON.stringify(x)})),c("React").createElement(l,null,c("React").createElement(c("FBTilesMap.react"),{view:u,style:{width:m,height:n},onViewChange:this.$ProductItemMapView1,showZoomControls:true,setZoomPosition:{vertical:"top",horizontal:"right"},attributionLogoPosition:{vertical:"bottom",horizontal:"right"},showReportButton:false},E)))};f.exports=t}),null);
__d("ProductItemSummary.react",["cx","fbt","ProductItemMapView.react","ProductsConfig","React","SUIButton.react","DynamicItemViewProperty.react"],(function a(b,c,d,e,f,g,h,i){var j=c("DynamicItemViewProperty.react").DynamicItemViewProperty,k=c("DynamicItemViewProperty.react").DynamicItemViewRow,l=function l(m){var n=m.product,o=m.onToggleProductSummary;return c("React").createElement("div",{className:"_e24"},c("React").createElement(j,{label:i._("Title"),value:n.name}),c("React").createElement(k,null,c("React").createElement(j,{label:i._("Price"),value:n.price}),c("React").createElement(j,{label:i._("Availability"),value:n.availability})),c("React").createElement(k,null,c("React").createElement(j,{label:i._("Product type"),value:n.product_type}),c("React").createElement(j,{label:i._("Product group Id"),value:n.retailer_product_group_id})),c("React").createElement(j,{label:i._("Link"),value:c("React").createElement("a",{href:n.url,target:"_blank"},n.url)}),c("React").createElement(j,{label:i._("Description"),value:n.description}),c("ProductsConfig").gk.dynamic_ads_catalogs_with_location&&n.dynamic_item_offer!=null?c("React").createElement(c("ProductItemMapView.react"),{dynamicItemOffer:n.dynamic_item_offer}):null,c("React").createElement(c("SUIButton.react"),{label:i._("View more fields"),onClick:o}))};f.exports=l}),null);
__d("ProductItemDetail.react",["cx","fbt","DynamicItemMediaGrid.react","DynamicItemMediaPreview.react","ProductItemProperties.react","ProductItemSummary.react","ProductsConfig","React","SUIBusinessTheme","SUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={mediaItemIndex:0},this.$ProductItemDetail1=function(r){this.setState({mediaItemIndex:r})}.bind(this),n}l.prototype.render=function(){var m=(this.props.product.video_ids||[]).map(function(p){return{objectType:"VIDEO",videoID:p}}),n=[this.props.product.image_url].concat(this.props.product.additional_image_urls||[]).map(function(p){return{objectType:"IMAGE",imageUrl:p}}),o=c("ProductsConfig").gk.product_video_catalog_manager_ui?m.concat(n):n;return c("React").createElement("div",{className:"_1e8m"},c("React").createElement("div",null,c("React").createElement(c("DynamicItemMediaPreview.react"),{className:"_3brf",mediaItem:o[this.state.mediaItemIndex],size:200}),this.props.product.additional_image_urls!==undefined&&c("ProductsConfig").gk.product_video_catalog_manager_ui?c("React").createElement("div",{className:"_3brw"},c("React").createElement("div",{className:"_3brx"},c("React").createElement(c("SUIText.react"),{theme:c("SUIBusinessTheme"),size:"body2_DEPRECATED"},i._("Additional Media"))),c("React").createElement(c("DynamicItemMediaGrid.react"),{mediaItems:o,maxDynamicItemMediasToDisplay:4,width:200,onChangeSelectedMediaItem:this.$ProductItemDetail1})):null),c("React").createElement("div",{className:"_1e8o"},this.props.showProductSummary?c("React").createElement(c("ProductItemSummary.react"),this.props):c("React").createElement(c("ProductItemProperties.react"),this.props)))};f.exports=l}),null);
__d("ProductFeedActions",["AdsDataAtom","ProductsActionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={feedBatchLoaded:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({feeds:j,type:c("ProductsActionTypes").FEED.BATCH_LOADED})},feedBatchLoadError:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({errors:j,type:c("ProductsActionTypes").FEED.BATCH_LOAD_ERROR})},productFeedCreated:function i(j,k){c("AdsDataAtom").handleUpdateFromServerResponse({productCatalogID:j,productFeedID:k,type:c("ProductsActionTypes").FEED.CREATED})},productFeedCreateError:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({errors:j,type:c("ProductsActionTypes").FEED.CREATE_ERROR})},createProductFeed:function i(j,k){c("AdsDataAtom").handleUpdateFromViewAction({feedData:k,productCatalogID:j,type:c("ProductsActionTypes").FEED.CREATE})},update:function i(j,k){c("AdsDataAtom").handleUpdateFromViewAction({feedData:k,productFeedID:j,type:c("ProductsActionTypes").FEED.UPDATE})},productFeedUpdated:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({productFeedID:j,type:c("ProductsActionTypes").FEED.UPDATED})},productFeedUpdateError:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({errors:j,type:c("ProductsActionTypes").FEED.UPDATE_ERROR})},"delete":function i(j,k){c("AdsDataAtom").handleUpdateFromViewAction({productFeedIDs:[j],productCatalogID:k,type:c("ProductsActionTypes").FEED.DELETE_BATCH})},productFeedBatchDeleted:function i(j,k){c("AdsDataAtom").handleUpdateFromServerResponse({ids:j,productCatalogID:k,type:c("ProductsActionTypes").FEED.BATCH_DELETED})},productFeedBatchDeleteError:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({errors:j,type:c("ProductsActionTypes").FEED.BATCH_DELETE_ERROR})},reload:function i(j){c("AdsDataAtom").handleUpdateFromViewAction({productFeedID:j,type:c("ProductsActionTypes").FEED.RELOAD})},reloadNonExpensive:function i(j){c("AdsDataAtom").handleUpdateFromViewAction({productFeedID:j,type:c("ProductsActionTypes").FEED.RELOAD_NON_EXPENSIVE})},uploadFinished:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({productFeedID:j,type:c("ProductsActionTypes").FEED.UPLOAD_FINISHED})}};f.exports=h}),null);
__d("ProductFeedLatestUploadFields",["ProductFeedUploadField"],(function a(b,c,d,e,f,g){"use strict";var h=[c("ProductFeedUploadField").END_TIME,c("ProductFeedUploadField").ERROR_COUNT,c("ProductFeedUploadField").INPUT_METHOD,c("ProductFeedUploadField").NUM_DELETED_ITEMS,c("ProductFeedUploadField").URL,c("ProductFeedUploadField").FILENAME,c("ProductFeedUploadField").NUM_DETECTED_ITEMS,c("ProductFeedUploadField").NUM_INVALID_ITEMS,c("ProductFeedUploadField").NUM_PERSISTED_ITEMS,c("ProductFeedUploadField").PROGRESSES,c("ProductFeedUploadField").START_TIME,c("ProductFeedUploadField").WARNING_COUNT];f.exports=h}),null);
__d("ProductFeedScheduleField",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({DAY_OF_MONTH:"day_of_month",DAY_OF_WEEK:"day_of_week",HOUR:"hour",ID:"id",INTERVAL:"interval",INTERVAL_COUNT:"interval_count",MINUTE:"minute",PASSWORD:"password",NEXT_SCHEDULED_UPLOAD_TIME:"next_scheduled_upload_time",TIMEZONE:"timezone",URL:"url",USERNAME:"username"});f.exports=h}),null);
__d("ProductFeedUploadActions",["ClientIDs","AdsDataAtom","ProductsActionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={productFeedUploadCreated:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({uploads:j,type:c("ProductsActionTypes").FEED_UPLOAD.CREATED})},productFeedUploadCreateError:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({errors:j,type:c("ProductsActionTypes").FEED_UPLOAD.CREATE_ERROR})},createProductFeedUpload:function i(j,k){var l=c("ClientIDs").getNewClientID();c("AdsDataAtom").handleUpdateFromViewAction({productFeedID:j,productFeedUploadData:k,requestID:l,type:c("ProductsActionTypes").FEED_UPLOAD.CREATE});return l},fetchForFeed:function i(j,k,l){c("AdsDataAtom").handleUpdateFromViewAction({productFeedID:j,requestID:k,scheduleType:l,type:c("ProductsActionTypes").FEED_UPLOAD.FETCH})},batchLoaded:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({productFeedUploads:j,type:c("ProductsActionTypes").FEED_UPLOAD.BATCH_LOADED})},batchLoadError:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({errors:j,type:c("ProductsActionTypes").FEED_UPLOAD.BATCH_LOAD_ERROR})}};f.exports=h}),null);
__d("ProductFeedDataManager",["fbt","AdsBaseDataManager","AdsNewIDs","GraphAPI","ProductCatalogDataManagerUtils","ProductsAPIConfig","ProductFeedActions","ProductFeedField","ProductFeedInputMethod","ProductFeedScheduleField","ProductFeedUploadActions","ProductFeedUploadField","ProductFeedLatestUploadFields","ProductFeedUploadUtils"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=[c("ProductFeedUploadField").END_TIME,c("ProductFeedUploadField").ERROR_COUNT,c("ProductFeedUploadField").INPUT_METHOD,c("ProductFeedUploadField").URL,c("ProductFeedUploadField").FILENAME,c("ProductFeedUploadField").NUM_DELETED_ITEMS,c("ProductFeedUploadField").NUM_DETECTED_ITEMS,c("ProductFeedUploadField").NUM_INVALID_ITEMS,c("ProductFeedUploadField").NUM_PERSISTED_ITEMS,c("ProductFeedUploadField").START_TIME,c("ProductFeedUploadField").WARNING_COUNT],l=[c("ProductFeedScheduleField").DAY_OF_WEEK,c("ProductFeedScheduleField").HOUR,c("ProductFeedScheduleField").INTERVAL,c("ProductFeedScheduleField").INTERVAL_COUNT,c("ProductFeedScheduleField").MINUTE,c("ProductFeedScheduleField").NEXT_SCHEDULED_UPLOAD_TIME,c("ProductFeedScheduleField").TIMEZONE,c("ProductFeedScheduleField").URL,c("ProductFeedScheduleField").USERNAME],m=[c("ProductFeedField").DEFAULT_CURRENCY,c("ProductFeedField").DELIMITER,c("ProductFeedField").ENCODING,c("ProductFeedField").NAME,c("ProductFeedField").LATEST_UPLOAD+"{"+c("ProductFeedLatestUploadFields").join()+"}",c("ProductFeedField").PRODUCT_COUNT_EXPENSIVE,c("ProductFeedField").SCHEDULE+"{"+l.join()+"}",c("ProductFeedField").UPDATE_SCHEDULE+"{"+l.join()+"}",c("ProductFeedField").UPLOADS+"{"+k.join()+"}"],n=[c("ProductFeedField").DEFAULT_CURRENCY,c("ProductFeedField").DELIMITER,c("ProductFeedField").ENCODING,c("ProductFeedField").NAME,c("ProductFeedField").LATEST_UPLOAD+"{"+c("ProductFeedLatestUploadFields").join()+"}",c("ProductFeedField").SCHEDULE+"{"+l.join()+"}",c("ProductFeedField").UPLOADS+"{"+k.join()+"}"];i=babelHelpers.inherits(o,c("AdsBaseDataManager"));j=i&&i.prototype;function o(){j.constructor.call(this);this.$ProductFeedDataManagerClass1={}}o.prototype.loadAll=function(q){q.forEach(function(r){return this.load(r)}.bind(this))};o.prototype.load=function(q){c("GraphAPI")(c("ProductsAPIConfig").version).object("product_feed",q).batched().get({fields:m}).done(this.__handleSuccess.bind(this,["load"],q,null),this.__handleError.bind(this,["load"],q,null))};o.prototype.reloadNonExpensive=function(q){c("GraphAPI")(c("ProductsAPIConfig").version).object("product_feed",q).batched().get({fields:n}).done(this.__handleSuccess.bind(this,["load"],q,null),this.__handleError.bind(this,["load"],q,null))};o.prototype.createForProductCatalog=function(q,r){var s=""+c("AdsNewIDs").newNegativeID();c("ProductCatalogDataManagerUtils").createFeed(q,r.data).done(function(t){return this.__handleSuccess(["create"],s,null,{id:t.id,feedData:r,productCatalogID:q})}.bind(this),function(t){t.productCatalogID=q;this.__handleError(["create"],s,null,t)}.bind(this))};o.prototype.update=function(q,r){c("GraphAPI")(c("ProductsAPIConfig").version).object("product_feed",q).batched().post(r.data).done(function(s){return this.__handleSuccess(["update"],q,null,{productFeedID:q,feedData:r})}.bind(this),function(s){this.__handleError(["update"],q,null,s)}.bind(this))};o.prototype.deleteForCatalog=function(q,r){c("GraphAPI")(c("ProductsAPIConfig").version).object("product_feed",q).batched().remove().done(this.__handleSuccess.bind(this,["delete"],q,null,{productCatalogID:r}),this.__handleError.bind(this,["delete"],q,null,{productCatalogID:r}))};o.prototype["delete"]=function(q){c("GraphAPI")(c("ProductsAPIConfig").version).object("product_feed",q).batched().remove().done(this.__handleSuccess.bind(this,["delete"],q,null),this.__handleError.bind(this,["delete"],q,null))};o.prototype.__onBatchDeleted=function(q){var r=q.values().next().value;if(r&&r.productCatalogID)c("ProductFeedActions").productFeedBatchDeleted(Array.from(q.keys()),r.productCatalogID)};o.prototype.__onBatchDeleteError=function(q){c("ProductFeedActions").productFeedBatchDeleteError(q)};o.prototype.__onBatchLoaded=function(q){q.forEach(function(r){var s=r[c("ProductFeedField").ID],t=r[c("ProductFeedField").LATEST_UPLOAD];if(!t)return;var u=t[c("ProductFeedUploadField").ID],v=c("ProductFeedUploadUtils").isUploadFinished(t);if(this.$ProductFeedDataManagerClass1[u]===false&&v)c("ProductFeedActions").uploadFinished(s);this.$ProductFeedDataManagerClass1[u]=v}.bind(this));c("ProductFeedActions").feedBatchLoaded(q)};o.prototype.__onBatchLoadError=function(q){c("ProductFeedActions").feedBatchLoadError(q)};o.prototype.__onBatchCreated=function(q){var r=q.values().next().value;if(!r)return;var s=r.productCatalogID,t=r.id,u=r.feedData;if(u&&u.createUpload)this.$ProductFeedDataManagerClass2(t,u);if(s&&t)c("ProductFeedActions").productFeedCreated(s,t)};o.prototype.__onBatchCreateError=function(q){c("ProductFeedActions").productFeedCreateError(q)};o.prototype.__onBatchUpdated=function(q){var r=q.values().next().value;if(!r)return;var s=r.productFeedID;c("ProductFeedActions").productFeedUpdated(s);r=q.values().next().value;var t=r&&r.feedData;if(t&&t.createUpload)this.$ProductFeedDataManagerClass2(s,t)};o.prototype.$ProductFeedDataManagerClass2=function(q,r){__p&&__p();var s={id:q,url:undefined,username:undefined,password:undefined,file_meta:undefined};switch(r.uploadType){case c("ProductFeedInputMethod").SERVER_FETCH:s.url=r.data.schedule.url;s.username=r.data.schedule.username;s.password=r.data.schedule.password;break;case c("ProductFeedInputMethod").MANUAL_UPLOAD:s.file_meta=r.fileMeta;break;default:return}c("ProductFeedUploadActions").createProductFeedUpload(q,s)};o.prototype.__onBatchUpdateError=function(q){c("ProductFeedActions").productFeedUpdateError(q)};o.prototype.__getObjectTypeLabel=function(){return h._("Product Feed")};var p=new o();f.exports=p}),null);
__d("ProductFeedStore",["AdsBaseDataStore","AdsLoadState_LEGACY","ImmutableObject","Map","ProductFeedDataManager","ProductFeedField","ProductsActionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AdsBaseDataStore"));i=h&&h.prototype;j.prototype.getDataManager=function(){return c("ProductFeedDataManager")};j.prototype.getLastDispatchActionType=function(){return this.$ProductFeedStoreClass1};j.prototype.__onDispatch=function(l){__p&&__p();var m=l.action;this.$ProductFeedStoreClass1=m.actionType;switch(m.actionType){case c("ProductsActionTypes").FEED.BATCH_LOADED:this.__handleData(m.feeds,c("AdsLoadState_LEGACY").LOADED);break;case c("ProductsActionTypes").FEED.BATCH_LOAD_ERROR:case c("ProductsActionTypes").FEED.CREATE_ERROR:case c("ProductsActionTypes").FEED.UPDATE_ERROR:this.__handleData(m.errors,c("AdsLoadState_LEGACY").ERROR);break;case c("ProductsActionTypes").FEED.CREATE:this.$ProductFeedStoreClass2(m.productCatalogID,m.feedData);break;case c("ProductsActionTypes").FEED.UPDATE:this.$ProductFeedStoreClass3(m.productFeedID,m.feedData);break;case c("ProductsActionTypes").FEED_UPLOAD.CREATED:for(var n=m.uploads.values(),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;if(!r||!r.productFeedID)continue;var s=this.getCached(r.productFeedID);if(s&&s.loadState===c("AdsLoadState_LEGACY").LOADING||!r.fields){if(this.__invalidate(r.productFeedID))this.__emitChange()}else{this.$ProductFeedStoreClass4(r.productFeedID,r.fields,s);this.__emitChange()}}break;case c("ProductsActionTypes").FEED.UPDATED:case c("ProductsActionTypes").FEED.RELOAD:if(this.__invalidate(m.productFeedID))this.__emitChange();break;case c("ProductsActionTypes").FEED.RELOAD_NON_EXPENSIVE:this.$ProductFeedStoreClass5(m.productFeedID);break;case c("ProductsActionTypes").FEED.DELETE_BATCH:m.productFeedIDs.forEach(function(t){c("ProductFeedDataManager").deleteForCatalog(t,m.productCatalogID);var u=this.getCached(t);this.__handleData(new(c("Map"))([[t,u]]),c("AdsLoadState_LEGACY").DELETING);this.__emitChange()}.bind(this));break;case c("ProductsActionTypes").FEED.BATCH_DELETED:if(this.__invalidateAll(m.ids))this.__emitChange();break}};j.prototype.$ProductFeedStoreClass2=function(l,m){c("ProductFeedDataManager").createForProductCatalog(l,m)};j.prototype.$ProductFeedStoreClass4=function(l,m,n){var o=babelHelpers["extends"]({},n,{latest_upload:m,uploads:n[c("ProductFeedField").UPLOADS]?{data:[].concat(n[c("ProductFeedField").UPLOADS].data,[m])}:{data:[]}});this.__handleData(new(c("Map"))([[l,c("ImmutableObject").set(n,o)]]),c("AdsLoadState_LEGACY").LOADED)};j.prototype.$ProductFeedStoreClass3=function(l,m){var n=this.getCached(l),o=babelHelpers["extends"]({},m.data);this.$ProductFeedStoreClass6(o,c("ProductFeedField").SCHEDULE);this.$ProductFeedStoreClass6(o,c("ProductFeedField").UPDATE_SCHEDULE);this.__handleData(new(c("Map"))([[l,c("ImmutableObject").set(n,o)]]),c("AdsLoadState_LEGACY").LOADED);c("ProductFeedDataManager").update(l,m)};j.prototype.$ProductFeedStoreClass6=function(l,m){if(l[m]&&Object.keys(l[m]).length===0)l[m]=null};j.prototype.$ProductFeedStoreClass5=function(l){c("ProductFeedDataManager").reloadNonExpensive(l)};function j(){h.apply(this,arguments)}var k=new j();f.exports=k}),null);
__d("ProductCatalogNoQualityIssuesView.react",["cx","fbt","ix","Image.react","React","SUIBusinessTheme","SUIText.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k=function k(){return c("React").createElement("div",{className:"_2_7t"},c("React").createElement("div",{className:"_2_7u"},c("React").createElement(c("Image.react"),{src:j("96834")})),c("React").createElement("div",{className:"_2_7v"},c("React").createElement(c("SUIText.react"),{color:"secondary",size:"header2",theme:c("SUIBusinessTheme")},i._("Congratulations, you don't have any issues"))))};f.exports=k}),null);
__d("ProductCatalogQualityIssueRow.react",["cx","fbt","ix","Expandable.brands","Image.react","Number.react","NumberFormat","React","SUIBusinessTheme","SUIText.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$ProductCatalogQualityIssueRow1=function(s){if(!s)return;this.props.onExpandClicked&&this.props.onExpandClicked(this.props.issue)}.bind(this),o}m.prototype.render=function(){var n=this.props.issue,o=n.count,p=n.summary,q=n.property_names,r=c("React").createElement("div",null,c("React").createElement("div",{className:"_2_7s"},c("React").createElement("span",null,c("React").createElement(c("SUIText.react"),{color:"secondary",size:"header4",theme:c("SUIBusinessTheme")},this.props.showWarning?c("React").createElement(c("Image.react"),{className:"_g40",src:j("26949")}):undefined,p,q&&q.length>0?c("React").createElement("span",null,": ",c("React").createElement(c("SUIText.react"),{weight:"bold"},q.join(", "))):undefined))),o&&this.props.totalCount?c("React").createElement("div",null,c("React").createElement(c("SUIText.react"),{shade:"light",theme:c("SUIBusinessTheme")},i._({"*":"{numItemsAffected} ({percentageItemsAffected}\u0025) products affected","_1":"{numItemsAffected} ({percentageItemsAffected}\u0025) product affected"},[i.param("numItemsAffected",c("NumberFormat").formatInteger(o)),i.param("percentageItemsAffected",c("React").createElement(c("Number.react"),{value:100*o/(this.props.totalCount||1)})),i.plural(o)]))):undefined);if(this.props.expandable)return c("React").createElement(c("Expandable.brands"),{className:"_g41",header:r,expanded:this.props.expanded,onClick:this.$ProductCatalogQualityIssueRow1},c("React").createElement("div",{className:"_g42"},this.props.issue.description));return c("React").createElement("div",{className:"_2_7q"},r)};f.exports=m}),null);
__d("ProductItemIssues.react",["cx","fbt","CenteredContainer.react","Layout.react","ProductCatalogBusinessEventName","ProductCatalogBusinessEventsLoggerHelper","ProductCatalogDateUtils","ProductCatalogNoQualityIssuesView.react","ProductCatalogQualityIssueRow.react","ProductFeedField","ProductFeedUploadField","React","SUIBusinessTheme","SUINotice.react","SUISpinner.react","SUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("Layout.react").Column;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){var n=this.props.issues&&this.props.issues.getValue();if(!n)return c("React").createElement(c("CenteredContainer.react"),null,c("React").createElement(c("SUISpinner.react"),{theme:c("SUIBusinessTheme"),size:"large"}));var o=this.props.feed||{},p=o[c("ProductFeedField").LATEST_UPLOAD]||{},q=[{title:i._("FEED SOURCE"),value:o[c("ProductFeedField").NAME],width:360,loading:this.props.feedLoading},{title:i._("LAST UPLOADED"),value:p[c("ProductFeedUploadField").START_TIME]?c("ProductCatalogDateUtils").formatDate(p[c("ProductFeedUploadField").START_TIME]):undefined,width:280,loading:this.props.feedLoading}];return c("React").createElement("div",null,c("React").createElement("div",{className:"_39ou"},c("React").createElement(c("Layout.react"),null,q.map(function(r){return r.value!==undefined||r.loading?c("React").createElement(l,{key:r.title,style:{width:r.width},className:"_39q0"},c("React").createElement("div",{className:"_39q1"},r.title),c("React").createElement("div",{className:"_39q2"},!r.loading?r.value:c("React").createElement(c("SUISpinner.react"),{size:"large",theme:c("SUIBusinessTheme")}))):undefined}))),n.length>0?c("React").createElement("div",null,c("React").createElement("div",{className:"_2k1t"},c("React").createElement(c("SUINotice.react"),{type:"warning"},c("React").createElement("div",null,c("React").createElement(c("SUIText.react"),{display:"block",weight:"bold"},i._("This product has {number_issues} quality issues.",[i.param("number_issues",n.length)])),c("React").createElement(c("SUIText.react"),{display:"block"},i._("Fixing these issues may boost your product performance in ads and shop pages."))))),c("React").createElement("div",{className:"_39q9"},n.map(function(r,s){return c("React").createElement(c("ProductCatalogQualityIssueRow.react"),{key:s,issue:r,showWarning:true,expandable:true,expanded:this.props.selectedIssue!==undefined?r===this.props.selectedIssue:undefined,onExpandClicked:this.$ProductItemIssues1})}.bind(this)))):c("React").createElement(c("ProductCatalogNoQualityIssuesView.react"),null))};m.prototype.$ProductItemIssues1=function(n){c("ProductCatalogBusinessEventsLoggerHelper").log(c("ProductCatalogBusinessEventsLoggerHelper").getProductsTabLogger(),c("ProductCatalogBusinessEventName").PRODUCTS_VIEW_INTERACTION_CLICK_QUALITY_EXPAND_ISSUE,c("ProductCatalogBusinessEventsLoggerHelper").getQualityActionElement(n.issue_type))};function m(){j.apply(this,arguments)}f.exports=m}),null);
__d("ProductItemIssuesContainer.react",["AdsLoadStateUtils_LEGACY","FluxContainer","ProductFeedStore","ProductItemIssues.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getStores=function(){return[c("ProductFeedStore")]};j.calculateState=function(k,l){var m=void 0,n=false;if(l.product.product_feed){m=c("ProductFeedStore").get(l.product.product_feed.id);n=c("AdsLoadStateUtils_LEGACY").isLoading(m)}return{feed:m,feedLoading:n}};j.prototype.render=function(){return c("React").createElement(c("ProductItemIssues.react"),{issues:this.props.issues,feed:this.state.feed,feedLoading:this.state.feedLoading,product:this.props.product,selectedIssue:this.props.selectedIssue})};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("ProductItemInfo.react",["ix","cx","fbt","AdsBulkRadioButtonGroup.react","AdsUniformValue","DynamicItemMedia.react","LayerFadeOnHide","LayoutScrollableView.react","ProductCatalogBusinessEventActionElement","ProductCatalogBusinessEventName","ProductCatalogBusinessEventsLoggerHelper","ProductItemAnalyticsContainer","ProductItemDetail.react","ProductItemGraphApiFields","ProductItemIssuesContainer.react","ProductsConfig","React","SUIBusinessTheme","SUIButton.react","SUIGlyphIcon.react","SUITabGroup.react","XUIDialog.react","XUIDialogBody.react","XUIDialogHeader.react","XUIDialogHeaderTitle.react","fbglyph","keyMirror"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=600,n=1e3,o="ITEM_SUMMARY",p="ITEM_PROPERTIES",q=c("keyMirror")({DETAIL:null,ANALYTICS:null,ISSUES:null,MEDIA:null});k=babelHelpers.inherits(r,c("React").Component);l=k&&k.prototype;function r(){__p&&__p();var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=l.constructor).call.apply(s,[this].concat(v)),this.state={activeTab:this.props.selectedTab||q.DETAIL,showProductSummary:true},this.$ProductItemInfo1=function(x){__p&&__p();this.setState({activeTab:x});var y=void 0;switch(x){case q.DETAIL:y=c("ProductCatalogBusinessEventActionElement").PRODUCT_INFO_DETAILS_TAB;break;case q.ISSUES:y=c("ProductCatalogBusinessEventActionElement").PRODUCT_INFO_ISSUES_TAB;break;case q.MEDIA:y=c("ProductCatalogBusinessEventActionElement").PRODUCT_INFO_MEDIA_TAB;break;case q.ANALYTICS:y=c("ProductCatalogBusinessEventActionElement").PRODUCT_INFO_ANALYTICS_TAB;break}c("ProductCatalogBusinessEventsLoggerHelper").log(c("ProductCatalogBusinessEventsLoggerHelper").getProductsTabLogger(),c("ProductCatalogBusinessEventName").PRODUCTS_VIEW_INTERACTION_TAB_NAVIGATE,y)}.bind(this),this.$ProductItemInfo2=function(){var x=this.state.showProductSummary;this.setState({showProductSummary:!x})}.bind(this),this.$ProductItemInfo3=function(x){this.setState({selectedIssue:x,activeTab:q.ISSUES});c("ProductCatalogBusinessEventsLoggerHelper").log(c("ProductCatalogBusinessEventsLoggerHelper").getProductsTabLogger(),c("ProductCatalogBusinessEventName").PRODUCTS_VIEW_INTERACTION_CLICK_QUALITY_LEARN_MORE,c("ProductCatalogBusinessEventsLoggerHelper").getQualityActionElement(x.issue_type))}.bind(this),t}r.prototype.componentWillReceiveProps=function(s){if(s.selectedTab&&s.selectedTab!==this.props.selectedTab)this.setState({activeTab:s.selectedTab})};r.prototype.render=function(){__p&&__p();var s,t=this.state,u=t.showProductSummary,v=t.activeTab,w=c("React").createElement(c("ProductItemDetail.react"),{product:this.props.product,onToggleProductSummary:this.$ProductItemInfo2,showProductSummary:u,issues:this.props.issues?this.props.issues.getValue():undefined,onIssueClick:this.$ProductItemInfo3}),x=(s={},s[q.DETAIL]={label:j._("Detail"),content:c("React").createElement(c("LayoutScrollableView.react"),{height:m},w)},s[q.ANALYTICS]={label:j._("Analytics"),content:c("React").createElement(c("ProductItemAnalyticsContainer"),{productID:this.props.product[c("ProductItemGraphApiFields").ID]})},s[q.ISSUES]={label:j._("Issues"),content:c("React").createElement(c("ProductItemIssuesContainer.react"),{issues:this.props.issues,product:this.props.product,selectedIssue:this.state.selectedIssue})},s[q.MEDIA]={label:j._("Media"),content:c("React").createElement(c("DynamicItemMedia.react"),{product:this.props.product})},s),y=[q.DETAIL];if(!this.props.showOnlyDetailsTab){if(c("ProductsConfig").gk.product_item_insights)y.push(q.ANALYTICS);if(this.props.shouldShowQuality)y.push(q.ISSUES);if(c("ProductsConfig").gk.product_video_catalog_manager_ui)y.push(q.MEDIA)}return c("React").createElement(c("XUIDialog.react"),{shown:true,behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},width:n,onToggle:this.props.onToggle},c("React").createElement(c("XUIDialogHeader.react"),null,c("React").createElement(c("XUIDialogHeaderTitle.react"),null,c("React").createElement("span",{className:"_23y6"},j._("Product: {name}",[j.param("name",this.props.product[c("ProductItemGraphApiFields").NAME])])))),y.length>1?c("React").createElement(c("XUIDialogBody.react"),{className:"_23y7",useCustomPadding:true},c("React").createElement("div",{className:"_23y8"},c("React").createElement(c("SUITabGroup.react"),{className:"_3sav",theme:c("SUIBusinessTheme"),onChange:this.$ProductItemInfo1,value:v,tabs:y.map(function(z){return{label:x[z].label,value:z}})}),v===q.DETAIL&&c("React").createElement(c("AdsBulkRadioButtonGroup.react"),{selectedDepressed:true,className:"_3sau",onValueChange:this.$ProductItemInfo2,selectedValue:c("AdsUniformValue").create([u?o:p])},c("React").createElement(c("SUIButton.react"),{label:"Summary",labelIsHidden:true,value:o,icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("113450")})}),c("React").createElement(c("SUIButton.react"),{label:"Properties",labelIsHidden:true,value:p,icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("113584")})}))),y.map(function(z){return c("React").createElement("div",{key:z,className:(this.state.activeTab!==z?"hidden_elem":"")+" _23y5"},x[z].content)}.bind(this))):c("React").createElement(c("XUIDialogBody.react"),{className:"_23y7"},c("React").createElement("div",{className:"_23y9"},c("React").createElement(c("LayoutScrollableView.react"),{height:m},w))))};f.exports=r}),null);
__d("ProductFeedDestinationProperties",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DESTINATION_ID:"destination_id",DESCRIPTION:"description",TYPE:"type",URL:"url",NAME:"name",PRICE:"price",PRICE_CHANGE:"price_change",CUSTOM_LABEL_0:"custom_label_0",CUSTOM_LABEL_1:"custom_label_1",CUSTOM_LABEL_2:"custom_label_2",ADDRESS:"address",NEIGHBORHOOD:"neighborhood",LATITUDE:"latitude",LONGITUDE:"longitude",VIDEO:"video",IMAGE:"image",APPLINK:"applink"})}),null);
__d("ProductFeedFlightProperties",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FLIGHT_ID:"flight_id",DESCRIPTION:"description",DESTINATION_AIRPORT:"destination_airport",DESTINATION_CITY:"destination_city",URL:"url",ORIGIN_AIRPORT:"origin_airport",ORIGIN_CITY:"origin_city",PRICE:"price",ONE_WAY_PRICE:"one_way_price",VIDEO:"video",IMAGE:"image",APPLINK:"applink"})}),null);
__d("ProductFeedHomeListingProperties",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({HOME_LISTING_ID:"home_listing_id",HOME_LISTING_GROUP_ID:"home_listing_group_id",AC_TYPE:"ac_type",AGENT_NAME:"agent_name",AGENT_COMPANY:"agent_company",AGENT_PHONE:"agent_phone",AGENT_EMAIL:"agent_email",AVAILABILITY:"availability",DESCRIPTION:"description",URL:"url",HEATING_TYPE:"heating_type",LAUNDRY_TYPE:"laundry_type",LISTING_TYPE:"listing_type",NAME:"name",NUM_BATHS:"num_baths",NUM_BEDS:"num_beds",NUM_UNITS:"num_units",PARKING_TYPE:"parking_type",PARTNER_VERIFICATION:"partner_verification",PET_POLICY:"pet_policy",PRICE:"price",MIN_PRICE:"min_price",MAX_PRICE:"max_price",PROPERTY_TYPE:"property_type",AREA_SIZE:"area_size",AREA_UNIT:"area_unit",YEAR_BUILT:"year_built",ADDRESS:"address",NEIGHBORHOOD:"neighborhood",LATITUDE:"latitude",LONGITUDE:"longitude",VIDEO:"video",IMAGE:"image",APPLINK:"applink"})}),null);
__d("ProductFeedHomeServiceProviderProperties",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({HOME_SERVICE_PROVIDER_ID:"home_service_provider_id",URL:"url",TITLE:"title",FIRST_NAME:"first_name",LAST_NAME:"last_name",COMPLETED_JOBS:"completed_jobs",PARTNER_VERIFICATION:"partner_verification",ADDRESS:"address",NEIGHBORHOOD:"neighborhood",LATITUDE:"latitude",LONGITUDE:"longitude",YEARS_IN_BUSINESS:"years_in_business",PARTNER_VERIFIED_DATE:"partner_verified_date",CRIMINAL_BACKGROUND_CHECK_DATE:"criminal_background_check_date",FINANCIAL_BACKGROUND_CHECK_DATE:"financial_background_check_date",COMPANY_NAME:"company_name",COMPANY_TAGLINE:"company_tagline",BUSINESS_URL:"business_url",BUSINESS_PHONE_NUMBER:"business_phone_number",LICENSING_INFO:"licensing_info",ACHIEVEMENT_BADGES:"achievement_badges",INSURANCE_INFO:"insurance_info",DEALS:"deals",PRODUCT_BRANDS_USED:"product_brands_used",DESCRIPTION:"description",FB_PAGE_ID:"fb_page_id",MESSAGING_INBOX_PAGE_ID:"messaging_inbox_page_id",BOOKABLE_TASKS_ARRAY:"bookable_tasks_array",BBB_RATING:"bbb_rating",TRANSACTION_CURRENCY:"transaction_currency",INTERNAL_SCORE:"internal_score",VIDEO:"video",IMAGE:"image",APPLINK:"applink"})}),null);
__d("ProductFeedHotelProperties",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({HOTEL_ID:"hotel_id",BASE_PRICE:"base_price",BRAND:"brand",DESCRIPTION:"description",URL:"url",LOYALTY_PROGRAM:"loyalty_program",MARGIN_LEVEL:"margin_level",NAME:"name",PHONE:"phone",SALE_PRICE:"sale_price",STAR_RATING:"star_rating",GUEST_RATING:"guest_rating",ADDRESS:"address",NEIGHBORHOOD:"neighborhood",LATITUDE:"latitude",LONGITUDE:"longitude",VIDEO:"video",IMAGE:"image",APPLINK:"applink"})}),null);
__d("ProductFeedVehicleProperties",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({VEHICLE_ID:"vehicle_id",DESCRIPTION:"description",URL:"url",TITLE:"title",VIN:"vin",TRANSMISSION:"transmission",BODY_STYLE:"body_style",FUEL_TYPE:"fuel_type",DRIVETRAIN:"drivetrain",CONDITION:"condition",MILEAGE:"mileage",PRICE:"price",ADDRESS:"address",NEIGHBORHOOD:"neighborhood",LATITUDE:"latitude",LONGITUDE:"longitude",STATE_OF_VEHICLE:"state_of_vehicle",EXTERIOR_COLOR:"exterior_color",INTERIOR_COLOR:"interior_color",SALE_PRICE:"sale_price",AVAILABILITY:"availability",MAKE:"make",MODEL:"model",TRIM:"trim",YEAR:"year",DEALER_ID:"dealer_id",DEALER_NAME:"dealer_name",DEALER_PHONE:"dealer_phone",FB_PAGE_ID:"fb_page_id",CUSTOM_LABEL_0:"custom_label_0",VIDEO:"video",IMAGE:"image",APPLINK:"applink"})}),null);
__d("UploadErrorSamplesTable.react",["cx","fbt","ix","invariant","CatalogVertical","FBMoreLink.react","GoogleProductFeedProperties","Image.react","Map","ProductFeedDestinationProperties","ProductFeedHomeListingProperties","ProductFeedHomeServiceProviderProperties","ProductFeedFlightProperties","ProductFeedHotelProperties","ProductFeedUploadErrorSampleField","ProductFeedUploadErrorSeverity","ProductFeedVehicleProperties","React","Set","ProductFeedUtils"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n,o,p=c("ProductFeedUtils").getIncorrectErrorProperties,q=new(c("Map"))([[c("CatalogVertical").COMMERCE,{REQUIRED_FIELDS:[c("GoogleProductFeedProperties").ID,c("GoogleProductFeedProperties").TITLE],OPTIONAL_FIELDS:[c("GoogleProductFeedProperties").DESCRIPTION,c("GoogleProductFeedProperties").PRICE,c("GoogleProductFeedProperties").LINK]}],[c("CatalogVertical").DESTINATIONS,{REQUIRED_FIELDS:[c("ProductFeedDestinationProperties").DESTINATION_ID],OPTIONAL_FIELDS:[c("ProductFeedDestinationProperties").NAME]}],[c("CatalogVertical").FLIGHTS,{REQUIRED_FIELDS:[c("ProductFeedFlightProperties").ORIGIN_AIRPORT,c("ProductFeedFlightProperties").DESTINATION_AIRPORT],OPTIONAL_FIELDS:[]}],[c("CatalogVertical").HOTELS,{REQUIRED_FIELDS:[c("ProductFeedHotelProperties").HOTEL_ID,c("ProductFeedHotelProperties").NAME],OPTIONAL_FIELDS:[c("ProductFeedHotelProperties").DESCRIPTION,c("ProductFeedHotelProperties").BASE_PRICE]}],[c("CatalogVertical").HOME_LISTINGS,{REQUIRED_FIELDS:[c("ProductFeedHomeListingProperties").HOME_LISTING_ID,c("ProductFeedHomeListingProperties").AVAILABILITY,c("ProductFeedHomeListingProperties").URL],OPTIONAL_FIELDS:[c("ProductFeedHomeListingProperties").DESCRIPTION,c("ProductFeedHomeListingProperties").LISTING_TYPE,c("ProductFeedHomeListingProperties").NUM_BATHS,c("ProductFeedHomeListingProperties").NUM_BEDS,c("ProductFeedHomeListingProperties").NUM_UNITS,c("ProductFeedHomeListingProperties").PROPERTY_TYPE,c("ProductFeedHomeListingProperties").YEAR_BUILT]}],[c("CatalogVertical").VEHICLES,{REQUIRED_FIELDS:[c("ProductFeedVehicleProperties").VEHICLE_ID,c("ProductFeedVehicleProperties").TITLE,c("ProductFeedVehicleProperties").URL],OPTIONAL_FIELDS:[c("ProductFeedVehicleProperties").CONDITION,c("ProductFeedVehicleProperties").INTERIOR_COLOR]}],[c("CatalogVertical").HOME_SERVICE_PROVIDERS,{REQUIRED_FIELDS:[c("ProductFeedHomeServiceProviderProperties").HOME_SERVICE_PROVIDER_ID,c("ProductFeedHomeServiceProviderProperties").FIRST_NAME,c("ProductFeedHomeServiceProviderProperties").LAST_NAME],OPTIONAL_FIELDS:[c("ProductFeedHomeServiceProviderProperties").DESCRIPTION]}]]),r=20;l=babelHelpers.inherits(s,c("React").Component);m=l&&l.prototype;function s(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=m.constructor).call.apply(u,[this].concat(x)),this.state={collapsed:true},this.$TruncatedText1=function(){this.setState({collapsed:false})}.bind(this),v}s.prototype.render=function(){var u=(this.props.text||"").split(" ");return c("React").createElement("div",{className:"_4xxi"},c("React").createElement("span",null,this.state.collapsed?u.slice(0,r).join(" "):this.props.text,c("React").createElement("span",null,this.state.collapsed&&u.length>r?"...":undefined)),c("React").createElement("span",null,u.length>r?c("React").createElement(c("FBMoreLink.react"),{moreLabel:i._("See more"),allowToggle:false,onClick:this.$TruncatedText1}):undefined))};n=babelHelpers.inherits(t,c("React").Component);o=n&&n.prototype;t.prototype.render=function(){__p&&__p();var u=this.props,v=u.incorrectPropertyNames,w=u.samples,x=u.severity,y=u.showExplanationText,z=u.onRowClick;if(w.length===0)return c("React").createElement("div",null);var A=p(v),B=this.$UploadErrorSamplesTable1(A),C=x===c("ProductFeedUploadErrorSeverity").FATAL,D=w.map(function(F,G){var H=F[c("ProductFeedUploadErrorSampleField").PROPERTIES].reduce(function(J,K){return J.set(K.key,K.value)},new(c("Map"))()),I=F[c("ProductFeedUploadErrorSampleField").ROW_NUMBER];return c("React").createElement("tr",{className:z?"_mys":"",key:G,onClick:this.$UploadErrorSamplesTable2.bind(this,Math.max(0,I-1))},c("React").createElement("td",null,I),B.map(function(J){return A.indexOf(J)>=0?c("React").createElement("td",{className:(C?"_4zgm":"")+(!C?" _44g6":""),key:J},c("React").createElement(s,{text:H.get(J)})):c("React").createElement("td",{key:J},c("React").createElement(s,{text:H.get(J)}))}))}.bind(this)),E=C?j("96829"):j("26949");return c("React").createElement("table",{className:"_2gow"},c("React").createElement("thead",null,c("React").createElement("tr",null,c("React").createElement("th",{width:"50"},i._("Line")),B.map(function(F){return c("React").createElement("th",{key:F},c("React").createElement("div",null,A.indexOf(F)>=0?c("React").createElement(c("Image.react"),{className:"_4zgo",src:E}):null,F))}))),c("React").createElement("tbody",null,D,y?c("React").createElement("tr",null,c("React").createElement("td",{colSpan:B.length+1},i._("These are only a few examples. Check your file to see and correct each instance."))):null))};t.prototype.$UploadErrorSamplesTable2=function(u){if(this.props.onRowClick)this.props.onRowClick(u)};t.prototype.$UploadErrorSamplesTable1=function(u){var v=q.get(this.props.vertical);v||k(0);var w=v.REQUIRED_FIELDS,x=v.OPTIONAL_FIELDS;if(u.length===0)return w.concat(x);var y=w.length+x.length;return Array.from(new(c("Set"))(w.concat(u).concat(x))).slice(0,y)};function t(){n.apply(this,arguments)}f.exports=t}),null);
__d("ProductFeedDebugger.brands",["ix","cx","fbt","CatalogVertical","CodeMirror4","CodeMirror4.react","Image.react","LeftRight.react","LoadObject","PECurrency","ProductCatalogManagerPlugins","ProductFeedUploadErrorExpandableItem.react","ProductFeedUploadErrorField","ProductFeedUploadErrorSampleField","ProductFeedUploadErrorSeverity","ProductFeedUploadErrorsSection.react","ProductItemGraphApiFields","ProductItemInfo.react","ProductItemsGrid.react","ProductsContextTypes","ProductsTabUtils","React","SUIBusinessTheme","SUIBusinessThemeContainer.react","SUIButton.react","SUISpinner.react","SUIText.react","UploadErrorSamplesTable.react","XUICard.react","XUICardSection.react","XUIGrayText.react","XUISingleSelector.react","fbglyph","gkx","CodeMirror4AddonFoldFoldgutter","CodeMirror4AddonFoldXml-fold","CodeMirror4AddonLint"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("XUISingleSelector.react").Option;c("CodeMirror4AddonFoldFoldgutter");c("CodeMirror4AddonFoldXml-fold");c("CodeMirror4AddonLint");var n=function n(r){var s=void 0;switch(r.errorType){case c("ProductFeedUploadErrorSeverity").FATAL:s=j._("Errors");break;case c("ProductFeedUploadErrorSeverity").WARNING:s=j._("Warnings");break;default:throw new Error("Unexpected error type")}return r.errors.length==0?null:c("React").createElement(c("ProductFeedUploadErrorsSection.react"),{description:s,errorType:r.errorType},r.errors.map(function(t,u){return c("React").createElement(c("ProductFeedUploadErrorExpandableItem.react"),{key:u,error:t,errorType:r.errorType,expanded:false,table:c("React").createElement(c("UploadErrorSamplesTable.react"),{incorrectPropertyNames:t[c("ProductFeedUploadErrorField").ROOT_PROPERTY_NAMES]||[],samples:t.rows,showExplanationText:false,severity:t[c("ProductFeedUploadErrorField").SEVERITY],onRowClick:r.onItemClick,vertical:r.vertical})})}))},o="\n\n\n\n\n\n";function p(r){return r.trim()===""}k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;function q(){__p&&__p();var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.state={content:o,parsedItems:this.props.items.map(this.$ProductFeedDebugger2),vertical:this.props.vertical,selectedItem:null,dynamicItemPlugin:c("ProductCatalogManagerPlugins").withShape({vertical:this.props.vertical}).getOne()},this.$ProductFeedDebugger3=function(){p(this.state.content)?this.$ProductFeedDebugger13():this.$ProductFeedDebugger14()}.bind(this),this.$ProductFeedDebugger9=function(w){return c("ProductsTabUtils").getOptionalFields(w,this.state.dynamicItemPlugin.products.defaultDisplayFields||[],this.state.dynamicItemPlugin)}.bind(this),this.$ProductFeedDebugger10=function(w){return c("ProductsTabUtils").getMandatoryFields(w,this.state.dynamicItemPlugin)}.bind(this),this.$ProductFeedDebugger4=function(w){if(!w)this.setState({selectedItem:null})}.bind(this),this.$ProductFeedDebugger11=function(w){this.setState({selectedItem:this.state.parsedItems.find(function(x){return x.id===w})})}.bind(this),this.$ProductFeedDebugger7=function(w){this.refs.codeMirror.setCursor(w)}.bind(this),this.$ProductFeedDebugger1=function(w){var x=w.value;this.setState({vertical:x,parsedItems:[]})}.bind(this),this.$ProductFeedDebugger6=function(w){var x={fatal:"error",warning:"warning"},y=[];this.props.errors.map(function(z){z.rows.map(function(A){var B=A[c("ProductFeedUploadErrorSampleField").ROW_NUMBER];y.push({from:c("CodeMirror4").Pos(B-1,0),to:c("CodeMirror4").Pos(B-1,1e3),message:z.description,severity:x[z.severity]})})});return y}.bind(this),s}q.prototype.getChildContext=function(){return{vertical:this.props.vertical,config:c("ProductCatalogManagerPlugins").withShape({vertical:this.props.vertical}).getOne(),catalogID:"",ownerID:"",ownerType:"",qes:{}}};q.prototype.componentWillReceiveProps=function(r){if(r.items!==this.props.items)this.setState({parsedItems:r.items.map(this.$ProductFeedDebugger2)});if(r.vertical!==this.props.vertical)this.setState({vertical:r.vertical});if(r.content!==this.props.content)this.setState({content:r.content})};q.prototype.componentDidUpdate=function(r,s){if(this.refs.codeMirror)this.refs.codeMirror.performLint()};q.prototype.render=function(){__p&&__p();var r=this.props.errors,s=r.filter(function(w){return w.severity==="fatal"}),t=r.filter(function(w){return w.severity==="warning"}),u=void 0;if(this.props.showVerticalSelector)u=c("React").createElement("div",{className:"_1y01"},c("React").createElement(c("SUIText.react"),{className:"_1y02",size:"header4",theme:c("SUIBusinessTheme"),weight:"bold"},j._("Catalog Type:")),c("React").createElement(c("XUISingleSelector.react"),{onChange:this.$ProductFeedDebugger1,value:this.state.vertical},c("React").createElement(m,{value:c("CatalogVertical").COMMERCE},j._("Products")),c("React").createElement(m,{value:c("CatalogVertical").DESTINATIONS},j._("Destinations")),c("React").createElement(m,{value:c("CatalogVertical").FLIGHTS},j._("Flights")),c("React").createElement(m,{value:c("CatalogVertical").HOME_LISTINGS},j._("Home Listings")),c("gkx")("AT6QkZLsUVY2lQlQ6sRLL3e2uy5IVKymLgY-MnWr-6_UQvCObhBk6YLKgIeiEJvKztLS6es-H72v3GSftI0fNBqI")&&c("React").createElement(m,{value:c("CatalogVertical").HOME_SERVICE_PROVIDERS},j._("Home Service Providers")),c("React").createElement(m,{value:c("CatalogVertical").HOTELS},j._("Hotels")),c("React").createElement(m,{value:c("CatalogVertical").VEHICLES},j._("Vehicles"))));var v=void 0;if(this.props.onLoadExampleClick&&(this.state.vertical===c("CatalogVertical").COMMERCE||this.state.vertical===c("CatalogVertical").HOTELS))v=c("React").createElement(c("SUIButton.react"),{style:{marginRight:8},label:p(this.state.content)?j._("Load Example"):j._("Clear"),use:"default",height:"tall",onClick:this.$ProductFeedDebugger3});return c("React").createElement(c("SUIBusinessThemeContainer.react"),null,c("React").createElement("div",null,this.state.selectedItem?c("React").createElement(c("ProductItemInfo.react"),{product:this.state.selectedItem,showOnlyDetailsTab:true,onToggle:this.$ProductFeedDebugger4}):undefined,c("React").createElement("div",{className:"_5g2q"},c("React").createElement(c("SUIText.react"),{display:"block",shade:"medium",size:"header1",weight:"bold",width:"550px"},j._("Feed Debugger"))),c("React").createElement(c("XUICard.react"),null,this.props.explanation?c("React").createElement(c("XUICardSection.react"),null,this.props.explanation):null,u,c("React").createElement(c("XUICardSection.react"),null,c("React").createElement(c("CodeMirror4.react"),{ref:"codeMirror",className:"_5r7g",onChange:function(w){return this.$ProductFeedDebugger5(w.value)}.bind(this),mode:"application/xml",value:this.state.content,codeMirrorOpts:{foldGutter:true,gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"],lint:this.$ProductFeedDebugger6,lineWrapping:true,styleActiveLine:true,styleSelectedText:true},codeMirrorAddonOpts:{placeholder:j._("Paste a section of your feed file here and press the Validate button")}})),c("React").createElement(c("XUICardSection.react"),null,c("React").createElement(n,{errors:s,errorType:c("ProductFeedUploadErrorSeverity").FATAL,onItemClick:this.$ProductFeedDebugger7,vertical:this.state.vertical}),c("React").createElement(n,{errors:t,errorType:c("ProductFeedUploadErrorSeverity").WARNING,onItemClick:this.$ProductFeedDebugger7,vertical:this.state.vertical})),c("React").createElement(c("XUICardSection.react"),{className:"_5r7g"},this.$ProductFeedDebugger8(this.props.feedValid,this.props.isVerifying)),c("React").createElement(c("XUICardSection.react"),{className:"_sbk"},this.state.vertical===c("CatalogVertical").COMMERCE&&this.state.parsedItems.length!==0?c("React").createElement(c("ProductItemsGrid.react"),{getOptionalFields:this.$ProductFeedDebugger9,getMandatoryFields:this.$ProductFeedDebugger10,getProductID:this.state.dynamicItemPlugin.itemSpec.getID,productItems:this.state.parsedItems.map(function(w){return c("LoadObject").withValue(w)}),selectedFields:this.state.dynamicItemPlugin.products.defaultDisplayFields||[],onItemClick:this.$ProductFeedDebugger11}):null)),c("React").createElement(c("LeftRight.react"),{className:"_1y03"},this.props.cancelButton?this.props.cancelButton:null,c("React").createElement("div",null,v,c("React").createElement(c("SUIButton.react"),{style:{marginRight:8},disabled:this.props.isVerifying,label:j._("Validate"),type:"button",use:"confirm",height:"tall",onClick:function(){return this.$ProductFeedDebugger12(this.state.content)}.bind(this)})))))};q.prototype.$ProductFeedDebugger2=function(r){var s={};for(var t in r)s[t]=typeof r[t]==="object"?"":r[t];if(r[c("ProductItemGraphApiFields").PRICE])s[c("ProductItemGraphApiFields").PRICE]=c("PECurrency").formatAmount(r[c("ProductItemGraphApiFields").PRICE].currency,parseInt(r[c("ProductItemGraphApiFields").PRICE].amount,10));if(!s[c("ProductItemGraphApiFields").ID])s[c("ProductItemGraphApiFields").ID]=r[c("ProductItemGraphApiFields").RETAILER_ID];return s};q.prototype.$ProductFeedDebugger8=function(r,s){if(s)return c("React").createElement(c("SUIText.react"),{size:"header4",theme:c("SUIBusinessTheme")},c("React").createElement(c("SUISpinner.react"),{className:"_1y04",size:"large",theme:c("SUIBusinessTheme")}),j._("Validating feed file..."));if(r)return c("React").createElement("div",null,c("React").createElement(c("Image.react"),{className:"_1y05",src:h("119371")}),c("React").createElement(c("XUIGrayText.react"),{shade:"medium",size:"header4"},j._("Congratulations! Your feed looks great!")));return null};q.prototype.$ProductFeedDebugger5=function(r){this.setState({content:r});if(r.trim()==="")this.$ProductFeedDebugger12(r)};q.prototype.$ProductFeedDebugger12=function(r){this.props.onVerifyClick(r,this.state.vertical)};q.prototype.$ProductFeedDebugger13=function(){if(this.props.onLoadExampleClick)this.props.onLoadExampleClick(this.state.vertical)};q.prototype.$ProductFeedDebugger14=function(){this.$ProductFeedDebugger5(o)};q.childContextTypes=c("ProductsContextTypes");q.defaultProps={content:"",showVerticalSelector:false};f.exports=q}),null);
__d("ProductFeedDebuggerAsyncContainer.brands",["fbt","CatalogVertical","AsyncRequest","ProductCatalogBusinessEventsLoggerHelper","ProductCatalogBusinessEventName","React","ProductFeedDebugger.brands"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){__p&&__p();var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={content:"",errors:[],feedValid:false,isVerifying:false,items:[]},this.$ProductFeedDebuggerAsyncContainer2=function(q){new(c("AsyncRequest"))(this.props.loadExampleURI).setData({catalog_vertical:q}).setMethod("POST").setHandler(function(r){return this.setState({content:r.payload.example_content})}.bind(this)).setErrorHandler(function(r){return this.$ProductFeedDebuggerAsyncContainer3(r)}.bind(this)).send()}.bind(this),this.$ProductFeedDebuggerAsyncContainer1=function(q,r){if(q.trim()===""){this.setState({content:q,errors:[],feedValid:false,isVerifying:false,items:[]});return}this.setState({isVerifying:true});c("ProductCatalogBusinessEventsLoggerHelper").getDebugToolsLogger().setEvent(c("ProductCatalogBusinessEventName").DEBUG_TOOLS_VERIFY_FEED).log();new(c("AsyncRequest"))(this.props.validateFeedURI).setData({feed_text:q,vertical:r}).setMethod("POST").setHandler(function(s){return this.$ProductFeedDebuggerAsyncContainer4(s.payload.errors,s.payload.items)}.bind(this)).setErrorHandler(function(s){return this.$ProductFeedDebuggerAsyncContainer5()}.bind(this)).send()}.bind(this),m}k.prototype.render=function(){return c("React").createElement(c("ProductFeedDebugger.brands"),{content:this.state.content,errors:this.state.errors,feedValid:this.state.feedValid,isVerifying:this.state.isVerifying,items:this.state.items,showVerticalSelector:true,vertical:c("CatalogVertical").COMMERCE,onLoadExampleClick:this.props.loadExampleURI?this.$ProductFeedDebuggerAsyncContainer2:undefined,onVerifyClick:this.$ProductFeedDebuggerAsyncContainer1})};k.prototype.$ProductFeedDebuggerAsyncContainer3=function(l){this.setState({errors:[{description:h._("There was a problem loading the example feed. Please try again."),rows:[],severity:"fatal"}]})};k.prototype.$ProductFeedDebuggerAsyncContainer4=function(l,m){this.setState({errors:l,feedValid:l.length===0,isVerifying:false,items:m})};k.prototype.$ProductFeedDebuggerAsyncContainer5=function(){this.setState({errors:[{description:h._("There was a problem verifying your feed. Please try again."),rows:[],severity:"fatal"}],feedValid:false,isVerifying:false,items:[]})};f.exports=k}),null);