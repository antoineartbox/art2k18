if (self.CavalryLogger) { CavalryLogger.start_js(["u+hK1"]); }

__d("AdContentFeedbackTypes",[],(function a(b,c,d,e,f,g){f.exports={UNKNOWN:0,APPROVE:1,NEED_MANUAL_REVIEW:2,REJECT:3}}),null);
__d("AdsDeliveryOptimizationGoalDescriptionStrings",["fbt"],(function a(b,c,d,e,f,g,h){f.exports={AD_RECALL_LIFT:h._("We'll serve your ads to maximize the total number of people who will remember seeing your ads."),APP_INSTALLS:h._("We'll deliver your ads to the right people to help you get the most app installs at the lowest cost."),APP_DOWNLOADS:h._("We'll count detected app downloads as installs on mobile feed, choose this option only if you do not send install events to Facebook."),BRAND_AWARENESS:h._("We'll serve your ads to people most likely to pay attention to them."),CLICKS:h._("We'll deliver your ads to people who are more likely to click on your ad."),COMPLETED_VIDEO_VIEWS:h._("We'll deliver your ads to the right people to help you get the most completed video views for assets up to 15 seconds."),ENGAGED_REACH:h._("We'll deliver your ads to people who are more likely to engaged with your ad."),ENGAGED_USERS:h._("We'll deliver your ads to people who are already engaged with your app."),EVENT_RESPONSES:h._("We'll deliver your ads to the right people to help you get the most event interest at the lowest cost."),EXTERNAL:h._("We'll deliver your ads based on your settings defined via FBX."),IMPRESSIONS:h._("We'll deliver your ads to people as many times as possible."),LEAD_GENERATION:h._("We'll deliver your ads to the right people to help you get the most leads at the lowest cost."),LINK_CLICKS:h._("We'll deliver your ads to the right people to help you get the most link clicks from your ad to a destination, on or off Facebook, at the lowest cost."),MEDIA_DOWNLOADS:h._("We'll deliver your ads to people who are more likely to download your content."),TWO_SECOND_CONTINUOUS_VIDEO_VIEWS:h._("We'll deliver your ads to the right people to help you get the most video views of 2 continuous seconds or more with at least 50\u0025 of the video pixels in view at the lowest cost."),OFFER_CLAIMS:h._("We'll deliver your ads to people who are more likely to click your link to claim your offer."),PAGE_ENGAGEMENT:h._("We'll deliver your ads to people who are more likely to engage with your Page."),PAGE_LIKES:h._("We'll deliver your ads to the right people to help you get more Page likes at the lowest cost."),POST_ENGAGEMENT:h._("We'll deliver your ads to the right people to help you get the most likes, shares, or comments on your post at the lowest cost."),REACH:h._("We'll deliver your ads to people up to once a day."),RETENTION:h._("We'll deliver your ads to people who are more likely to use your app for an extended period of time."),RETURN_ON_AD_SPEND:h._("We'll deliver your ads to people to maximize the total purchase value generated and get the highest return on ad spend (ROAS)."),VALUE:h._("We'll deliver your ads to people to maximize the total purchase value generated and get the highest return on ad spend (ROAS)."),STORE_VISITS:h._("We'll deliver your ads to people most likely to visit your business locations."),SOCIAL_IMPRESSIONS:h._("Social Impressions"),VIDEO_VIEWS:h._("We'll deliver your ads to the right people to help you get the most video views of 10+ seconds at the lowest cost."),VIDEO_VIEWS_15S:h._("We'll deliver your ads to the right people to help you get the most video views of at least 15 seconds at the lowest cost."),LANDING_PAGE_VIEWS:h._("We'll deliver your ads to people who are more likely to click on your ad's link and load the landing page. You'll need a pixel installed on your landing page to track views."),REPLIES:h._("We'll deliver your ads to people most likely to have a conversation with you through messages."),NONE:h._("This option is not recommended."),OFFLINE_CONVERSIONS:h._("We'll deliver your ads to the right people to help you get the most offline conversions at the lowest cost."),ONSITE_CONVERSIONS:h._("We'll deliver your ads to the right people to help you get the most onsite conversions at the lowest cost.")}}),null);
__d("AdsDeliveryOptimizationGoalTitleStrings",["fbt"],(function a(b,c,d,e,f,g,h){f.exports={AD_RECALL_LIFT:h._("Ad Recall Lift"),APP_INSTALLS:h._("App Installs"),APP_DOWNLOADS:h._("App Downloads"),BRAND_AWARENESS:h._("Brand Awareness"),COMPLETED_VIDEO_VIEWS:h._("Completed Video Views"),ENGAGED_REACH:h._("Engaged Reach"),ENGAGED_USERS:h._("Engaged Users"),EVENT_RESPONSES:h._("Event Response"),EXTERNAL:h._("FBX Usage"),IMPRESSIONS:h._("Impressions"),LEAD_GENERATION:h._("Leads"),LINK_CLICKS:h._("Link Clicks"),MEDIA_DOWNLOADS:h._("Downloads"),TWO_SECOND_CONTINUOUS_VIDEO_VIEWS:h._("2-Second Continuous Video Views"),OFFER_CLAIMS:h._("Offer Claims"),PAGE_ENGAGEMENT:h._("Page Engagement"),PAGE_LIKES:h._("Page Likes"),POST_ENGAGEMENT:h._("Post Engagement"),REACH:h._("Daily Unique Reach"),RETENTION:h._("Retention"),RETURN_ON_AD_SPEND:h._("Value"),VALUE:h._("Value"),STORE_VISITS:h._("Store Visit"),SOCIAL_IMPRESSIONS:h._("Social Impressions"),VIDEO_VIEWS:h._("Video Views"),VIDEO_VIEWS_15S:h._("15-Second Video Views"),LANDING_PAGE_VIEWS:h._("Landing Page Views"),OFFLINE_CONVERSIONS:h._("Offline Conversions"),OFFSITE_CONVERSIONS:h._("Conversions"),REPLIES:h._("Replies"),ONSITE_CONVERSIONS:h._("Onsite Conversions")}}),null);
__d("ApiAdPageTypeToPlatformMap",[],(function a(b,c,d,e,f,g){f.exports={instagramstream:"instagram",instagramstory:"instagram"}}),null);
__d("CROWAdDisapprovalReasons",[],(function a(b,c,d,e,f,g){f.exports={UNKNOWN:"UNKNOWN",IRREGULAR_APP_INSTALL:"IRREGULAR_APP_INSTALL",TEXT_OVERLAY:"TEXT_OVERLAY",ADULT_CONTENT:"ADULT_CONTENT",ADULT_HEALTH:"ADULT_HEALTH",ALCOHOL:"ALCOHOL",ANIMATED_IMAGE:"ANIMATED_IMAGE",BEFORE_AND_AFTER:"BEFORE_AND_AFTER",CASUAL_DATING:"CASUAL_DATING",DATING:"DATING",FACEBOOK_REFERENCE:"FACEBOOK_REFERENCE",FINANCIAL:"FINANCIAL",GAMBLING:"GAMBLING",IDEALIZED_BODY:"IDEALIZED_BODY",LANGUAGE:"LANGUAGE",LANDING_PAGE_FAIL:"LANDING_PAGE_FAIL",SEXUAL:"SEXUAL",TEST:"TEST",TOBACCO_SALE:"TOBACCO_SALE",TRAPPING:"TRAPPING",UNSUBSTANTIATED_CLAIM:"UNSUBSTANTIATED_CLAIM",OTHER:"OTHER",WEAPON_SALE:"WEAPON_SALE",WORK_FROM_HOME:"WORK_FROM_HOME",CASH_ADVANCE:"CASH_ADVANCE",SHOCK_AND_SCARE:"SHOCK_AND_SCARE",SPY_CAMERA:"SPY_CAMERA",BAD_HEALTH_PRODUCT:"BAD_HEALTH_PRODUCT",GRAMMAR:"GRAMMAR",ILLEGAL:"ILLEGAL",MISUSE_OF_LIKE:"MISUSE_OF_LIKE",NON_EXISTENT_FUNCTIONALITY:"NON_EXISTENT_FUNCTIONALITY",ONLINE_PHARMACY:"ONLINE_PHARMACY",PENNY_AUCTION:"PENNY_AUCTION",PORN:"PORN",COPYRIGHT:"COPYRIGHT",TRADEMARK:"TRADEMARK",COUNTERFEIT:"COUNTERFEIT",SYSTEM_ISSUE:"SYSTEM_ISSUE",Q_BLURRY_PIXELATED:"Q_BLURRY_PIXELATED",Q_BORDERLINE_SEXUAL:"Q_BORDERLINE_SEXUAL",Q_BORDER_BACKGROUND:"Q_BORDER_BACKGROUND",Q_GRAMMAR_CAPITALIZATION:"Q_GRAMMAR_CAPITALIZATION",Q_IRRELEVANT_IMAGE_COPY:"Q_IRRELEVANT_IMAGE_COPY",Q_MISLEADING:"Q_MISLEADING",Q_MULTIPLE_IMAGES:"Q_MULTIPLE_IMAGES",Q_HOT_BUTTON:"Q_HOT_BUTTON",Q_ZOOM_IN_BODY_PARTS:"Q_ZOOM_IN_BODY_PARTS",Q_ZOOM_IN_FOOD:"Q_ZOOM_IN_FOOD",QUALITY_LOW:"QUALITY_LOW",LEAD_AD_FROM_AGGREGATOR:"LEAD_AD_FROM_AGGREGATOR",UNSUITABLE_QUESTION:"UNSUITABLE_QUESTION",FRAUD_ASSOCIATED:"FRAUD_ASSOCIATED",MYSTERY_IMAGE:"MYSTERY_IMAGE",APP_SCAM:"APP_SCAM",TEXT_PENALTY_HIGH:"TEXT_PENALTY_HIGH",TEXT_PENALTY_MEDIUM:"TEXT_PENALTY_MEDIUM",TEXT_PENALTY_LOW:"TEXT_PENALTY_LOW",BAD_SUBSCRIPTION:"BAD_SUBSCRIPTION",Q_LETTERBOXING:"Q_LETTERBOXING",Q_LOW_PROD_IMAGE:"Q_LOW_PROD_IMAGE",Q_BAD_TEXT_OR_BUTTON:"Q_BAD_TEXT_OR_BUTTON",Q_AGGRESSIVE_LANGUAGE:"Q_AGGRESSIVE_LANGUAGE",Q_VAGUE_COPY:"Q_VAGUE_COPY",Q_SHOCKING_HOT_BUTTON:"Q_SHOCKING_HOT_BUTTON",Q_FAKE_NEWS:"Q_FAKE_NEWS",BRANDED_CONTENT_REJECT:"BRANDED_CONTENT_REJECT",POSSIBLE_AD_FARM:"POSSIBLE_AD_FARM",ANIMATION:"ANIMATION",DATING_SEXUAL:"DATING_SEXUAL",DATING_LOW_QUALITY_IMAGE:"DATING_LOW_QUALITY_IMAGE",DATING_GRAMMAR:"DATING_GRAMMAR",DATING_LANGUAGE:"DATING_LANGUAGE",INSTAGRAM_REFERENCE:"INSTAGRAM_REFERENCE",OFFSITE_AUTOPLAY:"OFFSITE_AUTOPLAY",FACEBOOK_REFERENCE_ALLOWED:"FACEBOOK_REFERENCE_ALLOWED",LOW_QUALITY_ECOMMERCE:"LOW_QUALITY_ECOMMERCE",ETHNIC_CLUSTER_HIGH_RISK_VERTICAL:"ETHNIC_CLUSTER_HIGH_RISK_VERTICAL",AFFILIATE_PENALTY_LOW:"AFFILIATE_PENALTY_LOW",AFFILIATE_PENALTY_MEDIUM:"AFFILIATE_PENALTY_MEDIUM",AFFILIATE_PENALTY_HIGH:"AFFILIATE_PENALTY_HIGH",CLOAKING:"CLOAKING",PAGE_FAILED_PAYMENTS:"PAGE_FAILED_PAYMENTS",ADFARM_PENALTY_WEAK:"ADFARM_PENALTY_WEAK",FACEBOOK_WORD_MANIPULATED:"FACEBOOK_WORD_MANIPULATED",FACEBOOK_ICONS:"FACEBOOK_ICONS",FACEBOOK_PAGE_LOOKALIKE:"FACEBOOK_PAGE_LOOKALIKE",FACEBOOK_LOGO_FOCUS:"FACEBOOK_LOGO_FOCUS",FACEBOOK_LOGO_OVERLAP:"FACEBOOK_LOGO_OVERLAP",FACEBOOK_LOGO:"FACEBOOK_LOGO",FACEBOOK_LOGO_THUMBS_UP:"FACEBOOK_LOGO_THUMBS_UP",FACEBOOK_SCREENSHOT_PROD:"FACEBOOK_SCREENSHOT_PROD",FACEBOOK_WORDMARK:"FACEBOOK_WORDMARK",FACEBOOK_ZUCKPIC:"FACEBOOK_ZUCKPIC",HIGHLIGHTED_PAIN_POINTS:"HIGHLIGHTED_PAIN_POINTS",PERFECT_BODY:"PERFECT_BODY",SCALES:"SCALES",TAPE_MEASURE:"TAPE_MEASURE",UNDESIRABLE_BODY:"UNDESIRABLE_BODY",ZOOM_BODY_PART:"ZOOM_BODY_PART",HARRASSMENT:"HARRASSMENT",USER_ATTRIBUTES_CALLOUT:"USER_ATTRIBUTES_CALLOUT",USER_FINANICAL_CALLOUT:"USER_FINANICAL_CALLOUT",USER_HEALTH_ATTRIBUTES:"USER_HEALTH_ATTRIBUTES",USER_WEIGHT_ATTRIBUTES:"USER_WEIGHT_ATTRIBUTES",PROFANITY:"PROFANITY",FAKE_FORM_ELEMENTS:"FAKE_FORM_ELEMENTS",FAKE_NOTIFICATIONS:"FAKE_NOTIFICATIONS",MOUSE_CURSOR:"MOUSE_CURSOR",PLAY_BUTTON:"PLAY_BUTTON",QR_CODES:"QR_CODES",EXCESSIVE_SKIN:"EXCESSIVE_SKIN",INDIRECT_NUDITY:"INDIRECT_NUDITY",INDIRECT_SEXUAL_ACT:"INDIRECT_SEXUAL_ACT",SEXUAL_OTHER:"SEXUAL_OTHER",ZOOM_SEXUAL_IMAGE:"ZOOM_SEXUAL_IMAGE",BREASTENLARGEMENT:"BREASTENLARGEMENT",GENITALSURGERY:"GENITALSURGERY",LIBIDO:"LIBIDO",NUDITY_NOTPORN:"NUDITY_NOTPORN",PHEROMONE:"PHEROMONE",SCHEME_HOTGIRLPAGE:"SCHEME_HOTGIRLPAGE",SERVICES_SEDUCTION:"SERVICES_SEDUCTION",SEXPUBLICATIONS:"SEXPUBLICATIONS",SEXTOYS:"SEXTOYS",SEXUALPLEASURE:"SEXUALPLEASURE",STRIPCLUBS:"STRIPCLUBS",MENTION_BOTOX:"MENTION_BOTOX",MENTION_DIETPRODUCT:"MENTION_DIETPRODUCT",MENTION_LASERS:"MENTION_LASERS",MENTION_SEXUALHEALTH:"MENTION_SEXUALHEALTH",MENTION_SUPPLEMENT:"MENTION_SUPPLEMENT",MENTION_SURGERY:"MENTION_SURGERY",MENTION_BRAND_ALCOHOL:"MENTION_BRAND_ALCOHOL",MENTION_CONSUMPTION_ALCOHOL:"MENTION_CONSUMPTION_ALCOHOL",MENTION_SALES_ALCOHOL:"MENTION_SALES_ALCOHOL",SPONSORSHIP:"SPONSORSHIP",MENTION_SALES_BADHEALTHPRODUCT:"MENTION_SALES_BADHEALTHPRODUCT",UNCLEAR_CANCELLATION_SUBSCRIPTION:"UNCLEAR_CANCELLATION_SUBSCRIPTION",UNCLEAR_PRICING_SUBSCRIPTION:"UNCLEAR_PRICING_SUBSCRIPTION",BA_HAIRLOSS:"BA_HAIRLOSS",BA_MEDICAL:"BA_MEDICAL",BA_SKIN:"BA_SKIN",BA_TEETH:"BA_TEETH",BA_WEIGHTLOSS:"BA_WEIGHTLOSS",GIBBERISH:"GIBBERISH",RANDOMCHARACTERS:"RANDOMCHARACTERS",DRUGS_ILLEGAL:"DRUGS_ILLEGAL",HUMAN_TRAFFICKING:"HUMAN_TRAFFICKING",SERVICES_ESCORT:"SERVICES_ESCORT",IMAGE_ANIMALCRUELTY:"IMAGE_ANIMALCRUELTY",IMAGE_MEDICAL:"IMAGE_MEDICAL",IMAGE_OFFENSIVEGESTURE:"IMAGE_OFFENSIVEGESTURE",IMAGE_VEHICLECOLLISION:"IMAGE_VEHICLECOLLISION",IMAGE_WEAPONATUSER:"IMAGE_WEAPONATUSER",MENTION_IMAGE_VIOLENCE_GORE:"MENTION_IMAGE_VIOLENCE_GORE",MENTION_ACCESSORY_CONSUMPTION_TOBACCO:"MENTION_ACCESSORY_CONSUMPTION_TOBACCO",MENTION_BRAND_TOBACCO:"MENTION_BRAND_TOBACCO",FALSENOTIFICATION:"FALSENOTIFICATION",IMPOSSIBLECURES:"IMPOSSIBLECURES",MENTION_NUMERIC_CLAIM:"MENTION_NUMERIC_CLAIM",MENTION_TRICKSTIPS:"MENTION_TRICKSTIPS",SPECIFICINDIVIDUALCLAIM:"SPECIFICINDIVIDUALCLAIM",UNREALISTIC_EBOOKPROMISE:"UNREALISTIC_EBOOKPROMISE",VIDEOSEXUAL:"VIDEOSEXUAL",VIDEOSCHOCKANDSCARE:"VIDEOSCHOCKANDSCARE",VIDEOLANGUAGE:"VIDEOLANGUAGE",NOT_DATING_PARTNER:"NOT_DATING_PARTNER",ANIMALS:"ANIMALS",NON_PRODUCT:"NON_PRODUCT",OVERLY_SEXUAL:"OVERLY_SEXUAL",UNSAFE_SUPPLEMENTS:"UNSAFE_SUPPLEMENTS",USER_TRUST:"USER_TRUST",STUDENT_LOANS_MISLEADING:"STUDENT_LOANS_MISLEADING",STUDENT_LOANS:"STUDENT_LOANS",MISMATCHED_DOMAINS:"MISMATCHED_DOMAINS",FREE_FORM_CAPTION:"FREE_FORM_CAPTION",HOUSING_OR_CREDIT:"HOUSING_OR_CREDIT",HOUSING_OR_CREDIT_WITH_AFFINITY:"HOUSING_OR_CREDIT_WITH_AFFINITY",MISMATCHED_PROMOTABLE_PAGE:"MISMATCHED_PROMOTABLE_PAGE",MISMATCHED_PROMOTABLE_APP:"MISMATCHED_PROMOTABLE_APP",MISMATCHED_PROMOTABLE_URL:"MISMATCHED_PROMOTABLE_URL",BREAST_FEEDING_NIPPLE:"BREAST_FEEDING_NIPPLE",SEXUAL_ACTS:"SEXUAL_ACTS",MENTION_NICOTINE_PRODUCT:"MENTION_NICOTINE_PRODUCT",MENTION_CONSUMPTION_BADHEALTHPRODUCT:"MENTION_CONSUMPTION_BADHEALTHPRODUCT",DEFAULT_OPTIN_SUBSCRIPTION:"DEFAULT_OPTIN_SUBSCRIPTION",BA_UNCLEAR:"BA_UNCLEAR",MENTION_CASH_ADVANCE:"MENTION_CASH_ADVANCE",MENTION_PAYDAY_LOAN:"MENTION_PAYDAY_LOAN",MENTION_CASUAL_DATING:"MENTION_CASUAL_DATING",CASUAL_DATING_SERVICE:"CASUAL_DATING_SERVICE",MAIL_ORDER_BRIDE:"MAIL_ORDER_BRIDE",PERSONAL_FINANCIAL_INFO_REQUESTED:"PERSONAL_FINANCIAL_INFO_REQUESTED",MENTION_GAMBLING:"MENTION_GAMBLING",SENSATIONALIZATION:"SENSATIONALIZATION",EMPTY_PAGE:"EMPTY_PAGE",FB_DESTINATION:"FB_DESTINATION",OBJECT_FILE:"OBJECT_FILE",WEB_OF_TRUST:"WEB_OF_TRUST",EXCESSIVE_BREASTFEEDING:"EXCESSIVE_BREASTFEEDING",AUTO_DOWNLOAD:"AUTO_DOWNLOAD",PAGE_TRAPPING:"PAGE_TRAPPING",SCHEME_FAKE_ARTICLE:"SCHEME_FAKE_ARTICLE",SCHEME_FAKE_GIFTCARD:"SCHEME_FAKE_GIFTCARD",SCHEME_FREE_ELECTRONICS:"SCHEME_FREE_ELECTRONICS",SCHEME_FREE_JERSEY:"SCHEME_FREE_JERSEY",TEXT_OBFUSCATION:"TEXT_OBFUSCATION",USER_TRUST_OTHER:"USER_TRUST_OTHER",FIREARM_SALE:"FIREARM_SALE",FIREWORK_SALE:"FIREWORK_SALE",WEAPON_SALE_OTHER:"WEAPON_SALE_OTHER",MENTION_UNCLEAR_BUSINESS:"MENTION_UNCLEAR_BUSINESS",FRAUDULENT_MERCHANDISE:"FRAUDULENT_MERCHANDISE",GUN_RANGE:"GUN_RANGE",WEAPON_REVIEW:"WEAPON_REVIEW",UNAUTHORIZED_STREAMING:"UNAUTHORIZED_STREAMING",REPEAT_MISINFORMATION_OFFENDER:"REPEAT_MISINFORMATION_OFFENDER",WEAPON_BRANDISHING:"WEAPON_BRANDISHING",RUSSIAN_EXPORT:"RUSSIAN_EXPORT",HATE_SPEECH:"HATE_SPEECH",INFLAMMATORY_LANGUAGE:"INFLAMMATORY_LANGUAGE",MERCH_SCAM:"MERCH_SCAM",CRYPTO_CURRENCY:"CRYPTO_CURRENCY"}}),null);
__d("CROWCompsType",[],(function a(b,c,d,e,f,g){f.exports={UNKNOWN:0,PROACTIVE_AD:1,PROACTIVE_AD_ACCOUNT:2,PROACTIVE_AD_BODY_TEXT:3,PROACTIVE_AD_CAMPAIGN:4,PROACTIVE_AD_IMAGE:5,PROACTIVE_AD_LANDING_PAGE:6,PROACTIVE_AD_TITLE_TEXT:7,PROACTIVE_AD_TARGET_SPEC:8,AD_IMAGE_FUZZY_HASH:9,PROACTIVE_COUPON:10,INITIAL_APP_CENTER_DEPRECATED:11,INITIAL_APP_CENTER_DEVELOPER_DEPRECATED:12,INITIAL_APP_CENTER_SUBTITLE:13,INITIAL_APP_CENTER_DESCRIPTION:14,INITIAL_APP_CENTER_DETAILED_DESCRIPTION:15,INITIAL_APP_CENTER_ICONS_DEPRECATED:16,INITIAL_APP_CENTER_SCREENSHOTS:17,INITIAL_APP_CENTER_BANNERS:18,INITIAL_APP_CENTER_COVER_IMAGE:19,INITIAL_APP_CENTER_APP_DEPRECATED:20,PROACTIVE_PAGE:21,PROACTIVE_PAGE_COVER_PHOTO:22,PROACTIVE_PAGE_TITLE:23,AD_ACCOUNT_MANAGER:24,AD_ACCOUNT_PHONE:25,AD_ACCOUNT_BILLING_ADDRESS:26,AD_ACCOUNT_FUZZY_EMAIL:27,APP_OVERVIEW:28,APP_PLATFORM_IPHONE:29,APP_PLATFORM_ANDROID:30,APP_PLATFORM_CANVAS:31,APP_PLATFORM_MOBILE_WEB:32,APP_PLATFORM_PAGE_TAB:33,APP_PLATFORM_WEB:34,APP_SUBMISSION:35,AD_ACCOUNT_BRAND:36,AD_ACCOUNT_PAYMENT_METHOD:37,AD_ACCOUNT_DATR:38,AD_ACCOUNT_IP:39,APP_ICON:40,APP_LOGO:41,AD_ACCOUNT_USER_ADMIN:42,BRAND_SAFETY_GROUP:43,APP_PLATFORM_IPAD:44,AD_PHOTODNA_HASH:45,APP_OG_ACTION_TYPE:46,PAGE_COMMERCIAL_CONTENT:47,AD_ACCOUNT_COMPS_COLLECTION:48,VIDEO:49,APP_PLATFORM_WINDOWS:50,APP_PLATFORM_XBOX:51,APP_PLATFORM_PLAYSTATION:52,APP_DEMO_VIDEO:54,AD_LANDING_PAGE_MD5_FETCH_SOURCE:55,PAGE_POST:56,VIDEODNA_HASH:57,MERCHANT:58,PRODUCT:59,MERCHANT_APPLICATION:60,POST_BODY_TEXT:61,PRODUCT_TITLE_TEXT:62,PRODUCT_BODY_TEXT:63,PRODUCT_IMAGE:64,MESSENGER_FEATURED_BANNER:65,PAGE_NAME_CHANGE:66,INSTAGRAM_STAGED_AD:67,ATLAS_CLICK_THROUGH:69,PROACTIVE_PAGE_RATING:70,PROACTIVE_AD_DOM_PARSER_IMAGE:71,LIVERAIL_SUPPLY:72,PROACTIVE_AD_DOM_PARSER_LINK:73,PROACTIVE_AD_DOM_PARSER_TEXT:74,PAGE_MERGE:75,AD_METADATA:77,API_AD:78,AD_XRAY_HASH:79,LEAD_GEN_AD_QUESTION:80,AD_IMAGE_FILE_HASH:81,BUSINESS:84,LIVERAIL_APP:85,LIVERAIL_ADS:86,AD_LANDING_PAGE_DOMAIN:87,AD_NETWORK_DOMAIN:88,AD_NETWORK_APP_BUNDLE:89,ACTOR:90,FUNDRAISER:91,POST_COMMENT:92,INSTAGRAM_BUSINESS_PROFILE:93,AD_NETWORK_APP:94,JOB_OPENING:95,OFFER:96,VIDEO_PUBLISHER:97,APPLICATION_AD_PLACEMENT:98,INSTANT_ARTICLE:99,SALES_PROMO:100,INSTAGRAM_FEED:101,INSTAGRAM_STORY:102,AD_SPACE:103,PRODUCT_LIKE:104,FINGERPRINT:105,REVIEWABLE_OBJECT:106,FINANCIAL_ENTITY:107,DEVELOPER:108}}),null);
__d("InstagramSlipstreamMediaContentType",[],(function a(b,c,d,e,f,g){f.exports={MEDIA_CONTENT_TYPE_PHOTO:0,MEDIA_CONTENT_TYPE_VIDEO:1,MEDIA_CONTENT_TYPE_RESHARE_PHOTO:2,MEDIA_CONTENT_TYPE_RESHARE_VIDEO:3,MEDIA_CONTENT_TYPE_BROADCAST:4,MEDIA_CONTENT_TYPE_SIDECAR:8,MEDIA_CONTENT_TYPE_RESHARE_STORY_PHOTO:9,MEDIA_CONTENT_TYPE_RESHARE_STORY_VIDEO:10,MEDIA_CONTENT_TYPE_UNKNOWN:255}}),null);
__d("AdsImageUploadApiErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"IMAGE_UPLOAD.API_ERROR");f.exports=h}),null);
__d("AdsImageUploadFormatErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"IMAGE_UPLOAD.FORMAT_ERROR");f.exports=h}),null);
__d("AdsImageUploadRemoveErrorsDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"IMAGE_UPLOAD.REMOVE_ERRORS");f.exports=h}),null);
__d("AdsImageUploadSizeErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"IMAGE_UPLOAD.SIZE_ERROR");f.exports=h}),null);
__d("AdsImageUploadErrorActions",["AdsImageUploadApiErrorDataAction","AdsImageUploadFormatErrorDataAction","AdsImageUploadRemoveErrorsDataAction","AdsImageUploadSizeErrorDataAction"],(function a(b,c,d,e,f,g){"use strict";var h={setUploadFormatError:function i(j){c("AdsImageUploadFormatErrorDataAction").dispatch({message:j})},setUploadSizeError:function i(j){c("AdsImageUploadSizeErrorDataAction").dispatch({message:j})},setUploadAPIError:function i(j){c("AdsImageUploadApiErrorDataAction").dispatch({message:j})},removeErrors:function i(){c("AdsImageUploadRemoveErrorsDataAction").dispatch({})}};f.exports=h}),null);
__d("AdsShutterstockSearchResultsErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SHUTTERSTOCK.SEARCH_RESULTS_ERROR");f.exports=h}),null);
__d("AdsShutterstockSearchResultsLoadedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SHUTTERSTOCK.SEARCH_RESULTS_LOADED");f.exports=h}),null);
__d("AdsShutterstockSearchActions",["AdsShutterstockSearchResultsErrorDataAction","AdsShutterstockSearchResultsLoadedDataAction"],(function a(b,c,d,e,f,g){"use strict";var h={searchResultsLoaded:function i(j,k){c("AdsShutterstockSearchResultsLoadedDataAction").dispatch({data:{query:j,results:k}})},searchResultsError:function i(j,k){c("AdsShutterstockSearchResultsErrorDataAction").dispatch({data:{error:k,query:j}})}};f.exports=h}),null);
__d("AdsShutterstockEndReachedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SHUTTERSTOCK.END_REACHED");f.exports=h}),null);
__d("AdsShutterstockSearchDoneDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SHUTTERSTOCK.SEARCH_DONE");f.exports=h}),null);
__d("AdsShutterstockSearchTextChangedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SHUTTERSTOCK.SEARCH_TEXT_CHANGED");f.exports=h}),null);
__d("AdsShutterstockViewActions",["AdsShutterstockEndReachedDataAction","AdsShutterstockSearchDoneDataAction","AdsShutterstockSearchTextChangedDataAction"],(function a(b,c,d,e,f,g){"use strict";var h={searchTextChanged:function i(j){c("AdsShutterstockSearchTextChangedDataAction").dispatch({data:{searchText:j}})},searchDone:function i(j){c("AdsShutterstockSearchDoneDataAction").dispatch({data:{searchText:j}})},endReached:function i(j){c("AdsShutterstockEndReachedDataAction").dispatch({data:{searchText:j}})}};f.exports=h}),null);
__d("AdsCanvasEditorEnums",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({SAVED:0,SAVING:1,UNSAVED:2}),i=c("keyMirror")({NONE:null,WARNING:null,ERROR:null}),j=c("keyMirror")({WEBSITE:null,NATIVE:null,CANVAS:null}),k=c("keyMirror")({WHITE:null,BLACK:null,CUSTOM:null}),l=c("keyMirror")({FACEBOOK:null,MOBILE_SITE:null,INSTAGRAM:null});f.exports={DocumentThemeEnum:k,ErrorTypeEnum:i,SaveStateEnum:h,LinkDestinationEnum:j,PreviewEnum:l}}),null);
__d("AdsCanvasDocumentAddNewElementsDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"DOCUMENT.ADD_NEW_ELEMENTS");f.exports=h}),null);
__d("AdsCanvasDocumentInitDuplicateDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"DOCUMENT.INIT_DUPLICATE");f.exports=h}),null);
__d("AdsCanvasDocumentInitPublishDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"DOCUMENT.INIT_PUBLISH");f.exports=h}),null);
__d("AdsCanvasDocumentInitSaveDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"DOCUMENT.INIT_SAVE");f.exports=h}),null);
__d("AdsCanvasDocumentRefreshDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"DOCUMENT.REFRESH");f.exports=h}),null);
__d("AdsCanvasDocumentReorderElementsDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"DOCUMENT.REORDER_ELEMENTS");f.exports=h}),null);
__d("AdsCanvasDocumentSetSupportInstagramDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CANVAS.SET_SUPPORT_INSTAGRAM");f.exports=h}),null);
__d("AdsCanvasDocumentSetTitleDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"DOCUMENT.SET_TITLE");f.exports=h}),null);
__d("AdsCanvasDocumentActions",["AdsCanvasDocumentAddNewElementsDataAction","AdsCanvasDocumentInitDuplicateDataAction","AdsCanvasDocumentInitPublishDataAction","AdsCanvasDocumentInitSaveDataAction","AdsCanvasDocumentRefreshDataAction","AdsCanvasDocumentReorderElementsDataAction","AdsCanvasDocumentSetSupportInstagramDataAction","AdsCanvasDocumentSetTitleDataAction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={addNewElements:function i(j,k){var l=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];c("AdsCanvasDocumentAddNewElementsDataAction").dispatch({id:j,elements:k,options:l})},duplicateCanvas:function i(j,k,l,m){c("AdsCanvasDocumentInitDuplicateDataAction").dispatch({canvasDocument:j,elements:k,pageID:l,onSuccess:m})},reorderElements:function i(j,k,l){c("AdsCanvasDocumentReorderElementsDataAction").dispatch({id:j,source:k,target:l})},refreshCanvas:function i(j,k){c("AdsCanvasDocumentRefreshDataAction").dispatch({canvasID:j,elementIDs:k})},saveCanvas:function i(j,k,l,m,n){c("AdsCanvasDocumentInitSaveDataAction").dispatch({canvasDocument:j,elements:k,pageID:l,hasErrors:m,onSuccess:n})},publishCanvas:function i(j,k,l){c("AdsCanvasDocumentInitPublishDataAction").dispatch({canvasDocument:j,pageID:k,onSuccess:l})},setTitle:function i(j,k){c("AdsCanvasDocumentSetTitleDataAction").dispatch({id:j,title:k})},setSupportInstagram:function i(j,k){c("AdsCanvasDocumentSetSupportInstagramDataAction").dispatch({id:j,value:k})}};f.exports=h}),null);
__d("AdsCanvasInlineAdvancedBuilderBlankOpenDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_CANVAS_INLINE.ADVANCED_BUILDER_BLANK_OPEN");f.exports=h}),null);
__d("AdsCanvasInlineAdvancedBuilderBlankSaveDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_CANVAS_INLINE.ADVANCED_BUILDER_BLANK_SAVE");f.exports=h}),null);
__d("AdsCanvasInlineBuilderBuilderNuxTourCompleteDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"BUILDER_NUX_TOUR_COMPLETE");f.exports=h}),null);
__d("AdsCanvasInlineBuilderBuilderNuxTourXoutDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"BUILDER_NUX_TOUR_XOUT");f.exports=h}),null);
__d("AdsCanvasInlineBuilderHideProductTaggingOverlayDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"HIDE_PRODUCT_TAGGING_OVERLAY");f.exports=h}),null);
__d("AdsCanvasInlineBuilderRemoveInlineCanvasDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"REMOVE_INLINE_CANVAS_DATA");f.exports=h}),null);
__d("AdsCanvasInlineBuilderSaveCanvasDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SAVE_CANVAS");f.exports=h}),null);
__d("AdsCanvasInlineBuilderSelectRadioButtonDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SELECT_RADIO_BUTTON");f.exports=h}),null);
__d("AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SET_PRODUCT_TAGGING_COORDINATES");f.exports=h}),null);
__d("AdsCanvasInlineBuilderShowInlineModalDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SHOW_INLINE_MODAL");f.exports=h}),null);
__d("AdsCanvasInlineBuilderShowProductTaggingOverlayDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SHOW_PRODUCT_TAGGING_OVERLAY");f.exports=h}),null);
__d("AdsCanvasInlineBuilderSwitchInlineTabsDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SWITCH_INLINE_TABS");f.exports=h}),null);
__d("AdsCanvasInlineDropdownCreateNewSelectDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_CANVAS_INLINE.DROPDOWN_CREATE_NEW_SELECT");f.exports=h}),null);
__d("AdsCanvasInlineDropdownUseExistingSelectDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_CANVAS_INLINE.DROPDOWN_USE_EXISTING_SELECT");f.exports=h}),null);
__d("AdsCanvasInlineTemplateBuilderDoneDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_CANVAS_INLINE.TEMPLATE_BUILDER_DONE");f.exports=h}),null);
__d("AdsCanvasInlineTemplateBuilderMobilePreviewDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_CANVAS_INLINE.TEMPLATE_BUILDER_MOBILE_PREVIEW");f.exports=h}),null);
__d("AdsFullscreenExperienceRadioToggleDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"TOGGLE_FULLSCREEN_EXPERIENCE_RADIO_LIST");f.exports=h}),null);
__d("AdsCanvasInlineBuilderActions",["AdsCanvasInlineAdvancedBuilderBlankOpenDataAction","AdsCanvasInlineAdvancedBuilderBlankSaveDataAction","AdsCanvasInlineBuilderBuilderNuxTourCompleteDataAction","AdsCanvasInlineBuilderBuilderNuxTourXoutDataAction","AdsCanvasInlineBuilderHideProductTaggingOverlayDataAction","AdsCanvasInlineBuilderRemoveInlineCanvasDataAction","AdsCanvasInlineBuilderSaveCanvasDataAction","AdsCanvasInlineBuilderSelectRadioButtonDataAction","AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataAction","AdsCanvasInlineBuilderShowInlineModalDataAction","AdsCanvasInlineBuilderShowProductTaggingOverlayDataAction","AdsCanvasInlineBuilderSwitchInlineTabsDataAction","AdsCanvasInlineDropdownCreateNewSelectDataAction","AdsCanvasInlineDropdownUseExistingSelectDataAction","AdsCanvasInlineTemplateBuilderDoneDataAction","AdsCanvasInlineTemplateBuilderMobilePreviewDataAction","AdsFullscreenExperienceRadioToggleDataAction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={removeInlineCanvasData:function i(){c("AdsCanvasInlineBuilderRemoveInlineCanvasDataAction").dispatch({})},saveCurrentCanvas:function i(j,k,l,m,n,o,p,q){c("AdsCanvasInlineBuilderSaveCanvasDataAction").dispatch({canvasDocument:j,elements:k,productSetID:l,pageID:m,onSuccess:n,onError:o,hostID:p,adgroupIDs:q})},setShowInlineModal:function i(j,k,l){c("AdsCanvasInlineBuilderShowInlineModalDataAction").dispatch({canvasID:k,showModal:j,templateID:l})},setInlineTab:function i(j){c("AdsCanvasInlineBuilderSwitchInlineTabsDataAction").dispatch({tab:j})},selectRadioButton:function i(j){c("AdsCanvasInlineBuilderSelectRadioButtonDataAction").dispatch({newValue:j})},inlineAdvancedBuilderBlankOpen:function i(){c("AdsCanvasInlineAdvancedBuilderBlankOpenDataAction").dispatch({})},inlineAdvancedBuilderBlankSave:function i(){c("AdsCanvasInlineAdvancedBuilderBlankSaveDataAction").dispatch({})},inlineBuilderNuxTourComplete:function i(j,k){c("AdsCanvasInlineBuilderBuilderNuxTourCompleteDataAction").dispatch({nuxStep:j,templateID:k})},inlineBuilderNuxTourXout:function i(j,k){c("AdsCanvasInlineBuilderBuilderNuxTourXoutDataAction").dispatch({nuxStep:j,templateID:k})},inlineTemplateBuilderDone:function i(){c("AdsCanvasInlineTemplateBuilderDoneDataAction").dispatch({})},inlineDropdownCreateNewSelect:function i(){c("AdsCanvasInlineDropdownCreateNewSelectDataAction").dispatch({})},inlineDropdownUseExistingSelect:function i(){c("AdsCanvasInlineDropdownUseExistingSelectDataAction").dispatch({})},inlineTemplateBuilderMobilePreview:function i(){c("AdsCanvasInlineTemplateBuilderMobilePreviewDataAction").dispatch({})},showProductTaggingOverlay:function i(j,k){c("AdsCanvasInlineBuilderShowProductTaggingOverlayDataAction").dispatch({photoElementID:j,productID:k})},hideProductTaggingOverlay:function i(){c("AdsCanvasInlineBuilderHideProductTaggingOverlayDataAction").dispatch({})},setProductTaggingCoordinates:function i(j,k,l){c("AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataAction").dispatch({coordinates:l,photoElementID:j,productID:k})},toggleFullscreenExperienceRadioList:function i(j){c("AdsFullscreenExperienceRadioToggleDataAction").dispatch({selectedOption:j})}};f.exports=h}),null);
__d("AdsCanvasDefaultNewDocumentID",[],(function a(b,c,d,e,f,g){"use strict";f.exports="ADS_CANVAS_DEFAULT_NEW_DOCUMENT_ID"}),null);
__d("CanvasUIProperty",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SUPPORT_INSTAGRAM_CANVAS:"support_instagram_canvas"})}),null);
__d("RichMediaElementTypeConstant",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({"":null,BUNDLE:null,BUTTON:null,CAROUSEL:null,ELEMENT_GROUP:null,FOOTER:null,HEADER:null,OFFER:null,PHOTO:null,PRODUCT_LIST:null,RICH_TEXT:null,SCRUBBABLE_GIF:null,STORE_LOCATOR:null,VIDEO:null});f.exports={TYPE_NAMES:{BUNDLE:"bundle",BUTTON:"button",CAROUSEL:"carousel",HEADER:"header",OFFER:"offer",PHOTO:"photo",TEXT:"text",VIDEO:"video",PRODUCT_LIST:"product_list",PRODUCT_SET:"product_set",SCRUBBABLE_GIF:"scrubbable_gif",STORE_LOCATOR:"store_locator"},RichMediaElementTypes:h}}),null);
__d("AdsCanvasDocument",["fbt","AdsCanvasDefaultNewDocumentID","CanvasSource","CanvasUIProperty","CurrentUser","immutable","RichMediaElementTypeConstant","nullthrows"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("RichMediaElementTypeConstant").RichMediaElementTypes,l=c("immutable").Record,m=c("immutable").List,n={backgroundColor:"FFFFFFFF",dynamicSetting:null,elements:m([]),id:"",isPublished:false,propertyList:m([]),source:c("CanvasSource").OTHER,sourceTemplateID:null,swipeToOpenEnabled:true,title:h._("Untitled Canvas").toString(),tags:m([]),uiPropertyList:m([]),useRetailerItemIDs:false};i=babelHelpers.inherits(o,l(n));j=i&&i.prototype;o.fromAPI=function(p){var q=p.body_elements?m(p.body_elements.map(function(t){return{id:t.id,elementType:t.element_type}})):m([]),r=p.style_list?p.style_list.includes("ENABLE_SWIPE_TO_OPEN"):false,s=p.dynamic_setting?{childDocumentIDs:p.dynamic_setting.child_documents.map(function(t){return t.id}),productSetID:c("nullthrows")(p.dynamic_setting).product_set_id}:null;return new o({backgroundColor:p.background_color,dynamicSetting:s,elements:q,id:p.id,isPublished:p.is_published,propertyList:m(p.property_list),sourceTemplateID:p.source_template?p.source_template.id:null,swipeToOpenEnabled:r,title:p.name,tags:m(p.tags),uiPropertyList:m(p.ui_property_list),useRetailerItemIDs:p.use_retailer_item_ids})};o.createNewDocument=function(p){var q=arguments.length<=1||arguments[1]===undefined?false:arguments[1],r=q?m([c("CanvasUIProperty").SUPPORT_INSTAGRAM_CANVAS]):m([]);return new o({id:c("AdsCanvasDefaultNewDocumentID"),source:p,uiPropertyList:r})};o.prototype.toAPI=function(){return{background_color:this.getBackgroundColor(),body_element_ids:this.getElements().toArray().map(function(p){return p.id}),enable_swipe_to_open:this.getSwipeToOpenEnbaled(),name:this.getTitle(),property_list:this.getPropertyList(),source_template_id:this.getSourceTemplateID(),tags:this.getTags(),ui_property_list:this.uiPropertyList.toArray()}};o.prototype.toOldAPI=function(){return{background_color:this.getBackgroundColor(),body_elements:this.getElements().toArray().map(function(p){return{element_type:p.elementType,id:p.id}}),id:this.getID(),is_published:this.getIsPublished(),last_editor:{name:c("CurrentUser").getName()},property_list:this.getPropertyList(),style_list:this.getSwipeToOpenEnbaled()?["ENABLE_SWIPE_TO_OPEN"]:[],source_template_id:this.getSourceTemplateID(),name:this.getTitle(),tags:this.getTags(),update_time:Date.now()/1e3,use_retailer_item_ids:false}};o.prototype.addNewElements=function(p,q){__p&&__p();var r=this.getElements().toArray(),s=this.getBottomOffset(),t=p.map(function(x){return x.elementType}).indexOf(k.HEADER);if(t!==-1){var u=p.get(t);p=p["delete"](t);r.unshift(u)}var v=p.map(function(x){return x.elementType}).indexOf(k.STORE_LOCATOR);if(v!==-1){var w=p.get(v);p=p.remove(v).push(w)}q=q!=null?q:r.length;p.map(function(x,y){r.splice(q+y-s,0,x)});return this.set("elements",m(r))};o.prototype.getBackgroundColor=function(){return this.get("backgroundColor")};o.prototype.getTitle=function(){return this.get("title")};o.prototype.getIsPublished=function(){return this.get("isPublished")};o.prototype.getID=function(){return this.get("id")};o.prototype.getElements=function(){return this.get("elements")};o.prototype.getElementIDs=function(){return this.get("elements").map(function(p){return p.id})};o.prototype.getPropertyList=function(){return this.get("propertyList").toArray()};o.prototype.getSource=function(){return this.get("source")};o.prototype.getSourceTemplateID=function(){return this.get("sourceTemplateID")};o.prototype.getTags=function(){return this.get("tags").toArray()};o.prototype.getHasFooterElement=function(){var p=this.getElements();if(p.count()===0)return false;return p.last().elementType===k.FOOTER};o.prototype.getHasHeaderElement=function(){var p=this.getElements();if(p.count()===0)return false;return p.first().elementType===k.HEADER};o.prototype.getHasStoreLocatorElement=function(){var p=this.getElements();if(this.getHasFooterElement()&&p.count()>1)return p.get(p.count()-2).elementType===k.STORE_LOCATOR;return p.count()>0&&p.last().elementType===k.STORE_LOCATOR};o.prototype.getBottomOffset=function(){var p=0;if(this.getHasFooterElement())p++;if(this.getHasStoreLocatorElement())p++;return p};o.prototype.getSwipeToOpenEnbaled=function(){return this.get("swipeToOpenEnabled")};o.prototype.reorderElements=function(p,q){var r=this.getElements().toArray();if(p<q)q--;if(q===0&&this.getHasHeaderElement())q=1;else if(q>=r.length-this.getBottomOffset())q=r.length-this.getBottomOffset()-1;r.splice(q,0,r.splice(p,1)[0]);return this.set("elements",m(r))};o.prototype.setBackgroundColor=function(p){return this.set("backgroundColor",p)};o.prototype.setTitle=function(p){return this.set("title",p)};o.prototype.setElements=function(p){return this.set("elements",p)};function o(){i.apply(this,arguments)}f.exports=o}),null);
__d("AdsCanvasDocumentCreateErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"DOCUMENT.CREATE_ERROR");f.exports=h}),null);
__d("AdsCanvasDocumentCreateSuccessDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"DOCUMENT.CREATE_SUCCESS");f.exports=h}),null);
__d("CanvasDataUtils",["GraphAPIFieldUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=["bottom_padding","element_type","id","name","top_padding"],i={getFieldsForPagesCanvasList:function j(){return["id","name","background_color","is_published","update_time","body_elements","element_payload","canvas_link","last_editor","store_url","linked_documents",c("GraphAPIFieldUtils").getFieldWithSubfields("source_template",["id"]),"style_list","tags","property_list","ui_property_list",c("GraphAPIFieldUtils").getFieldWithSubfields("dynamic_setting",[c("GraphAPIFieldUtils").getFieldWithSubfields("child_documents",["id"]),"product_set_id"]),"owner","use_retailer_item_ids"]},getFieldsForButtonElement:function j(){return[].concat(h,["action","background_color","button_color","button_style","deep_link","font_family","font_size","line_height","rich_text","text_alignment","text_color"])},getFieldsForCarouselElement:function j(){return[].concat(h,[c("GraphAPIFieldUtils").getFieldWithSubfields("child_elements",this.getFieldsForPhotoElement()),"style"])},getFieldsForElementType:function j(){return["element_type"]},getFieldsForFooterElement:function j(){return[].concat(h,["background_color",c("GraphAPIFieldUtils").getFieldWithSubfields("child_elements",this.getFieldsForButtonElement())])},getFieldsForHeaderElement:function j(){var k=this.getFieldsForPhotoElement().concat(this.getFieldsForTextElement().filter(function(l){return this.getFieldsForPhotoElement().indexOf(l)===-1}.bind(this)));return[].concat(h,["background_color",c("GraphAPIFieldUtils").getFieldWithSubfields("fb_child_elements",k)])},getFieldsForPhotoElement:function j(){return[].concat(h,["action","deep_link",c("GraphAPIFieldUtils").getFieldWithSubfields("photo",["height","id","source","width"]),"style","element_group_key",c("GraphAPIFieldUtils").getFieldWithSubfields("product_tags",["catalog_id","coordinates","product_id"]),"hide_product_prices"])},getFieldsForProductListElement:function j(){return[].concat(h,["item_description","item_headline","product_catalog_id","product_id_list"])},getFieldsForProductSetElement:function j(){return[].concat(h,["item_description","item_headline","max_products","product_catalog_id","product_set_id","retailer_item_ids"])},getFieldsForStoreLocatorElement:function j(){return[].concat(h,["header_background_color","location_source_id","theme","typeface"])},getFieldsForTextElement:function j(){return[].concat(h,["background_color","font_family","font_size","line_height","rich_text","text_alignment","text_color","element_group_key"])},getFieldsForVideoElement:function j(){return[].concat(h,["style",c("GraphAPIFieldUtils").getFieldWithSubfields("video",["id","spherical",c("GraphAPIFieldUtils").getFieldWithSubfields("thumbnails",["height","is_preferred","uri","width"])])])},isNewDocumentID:function j(k){return isNaN(k)},isNewElementID:function j(k){return isNaN(k)},isNewDocument:function j(k){return isNaN(k.getID())},isNewElement:function j(k){return isNaN(k.getID())}};f.exports=i}),null);
__d("AdsCanvasDocumentDataLoader",["AdsGraphAPI","CanvasDataUtils","GraphAPIFieldUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();h.prototype.getDocument=function(i){return c("AdsGraphAPI").get(f.id).object("rich_media_document",i).get({fields:c("CanvasDataUtils").getFieldsForPagesCanvasList(),summary:true})};h.prototype.getLinkedCanvases=function(i){return c("AdsGraphAPI").get(f.id).object("rich_media_document",i).get({fields:c("GraphAPIFieldUtils").getFieldWithSubfields("linked_documents",c("CanvasDataUtils").getFieldsForPagesCanvasList()),summary:true})};h.prototype.getDocumentElements=function(i){return c("AdsGraphAPI").get(f.id).object("rich_media_document",i).get({fields:["body_elements{id}"],summary:true})};h.prototype.createDocument=function(i,j,k){return c("AdsGraphAPI").get(f.id).object("page",j).edge("canvases").post(babelHelpers["extends"]({},i.toAPI(),{is_hidden:k,source:i.getSource()}))};h.prototype.createDynamicDocument=function(i,j){return c("AdsGraphAPI").get(f.id).object("page",j).edge("canvases").post({child_document_ids:i})};h.prototype.updateDocument=function(i,j,k){return c("AdsGraphAPI").get(f.id).object("rich_media_document",i.getID()).post(babelHelpers["extends"]({},i.toAPI(),{is_published:j,is_hidden:k,should_publish_linked_documents:j}))};function h(){}f.exports=new h()}),null);
__d("AdsCanvasDocumentDuplicateErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"DOCUMENT.DUPLICATE_ERROR");f.exports=h}),null);
__d("AdsCanvasDocumentDuplicateSuccessDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"DOCUMENT.DUPLICATE_SUCCESS");f.exports=h}),null);
__d("AdsCanvasDocumentLoadErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"DOCUMENT.LOAD_ERROR");f.exports=h}),null);
__d("AdsCanvasDocumentLoadSuccessDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"DOCUMENT.LOAD_SUCCESS");f.exports=h}),null);
__d("AdsCanvasDocumentSaveDynamicCanvasErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CANVAS.CREATE_DYNAMIC_CANVAS_ERORR");f.exports=h}),null);
__d("AdsCanvasDocumentSaveErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"DOCUMENT.SAVE_ERROR");f.exports=h}),null);
__d("AdsCanvasCollectionsUtils",["AdImageSpecs","AdsAPIAdgroupRecordUtils","AdsAPIObjectives","AdsCanvasCollectionsConstants","AdsCanvasCollectionsThumbnail","AdsImageLegacy","immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").List,i={convertThumbnailsFromAPI:function j(k){__p&&__p();var l=h([]);if(k.collection_thumbnails)l=l.push(h(k.collection_thumbnails.map(i._extractThumnnail)));if(k.dynamic_setting)k.dynamic_setting.child_documents.map(function(m){if(m.collection_thumbnails)l=l.push(h(m.collection_thumbnails.map(i._extractThumnnail)))});l=l.flatten(true);if(l.count()===0)return c("AdsCanvasCollectionsConstants").EMPTY_COLLECTION_THUMBNAILS;return l},_extractThumnnail:function j(k){__p&&__p();var l=void 0;if(k.photo){var m,n=k.photo,o=n.height,p=n.width,q=0,r=0;if(o>p){r=(o-p)/2;o=p}else{q=(p-o)/2;p=o}l=(m={},m[c("AdImageSpecs").CANVAS_COLLECTIONS.cropKey]=[[q,r],[q+p,r+o]],m)}return new(c("AdsCanvasCollectionsThumbnail"))({element_child_index:k.element_child_index,element_crops:l?l:{},element_id:k.element_id})},convertToLegacyImage:function j(k,l){return new(c("AdsImageLegacy"))({crops:l,height:k.height,id:k.id,url:k.src,width:k.width})},isCanvasCollectionEligible:function j(k){__p&&__p();if(!k.elements)return false;var l=0;k.elements.map(function(m){if(m.element_type==="PHOTO"&&m.element&&m.element.photo)l++;else if(m.element_type==="SLIDESHOW"&&m.element&&m.element.child_elements)m.element.child_elements.map(function(n){if(n.element&&n.element.photo)l++})});return l>=4},isCanvasCollectionAd:function j(k,l){var m=c("AdsAPIAdgroupRecordUtils").getCollectionThumbnails(k,l);return!!m},isCanvasCollectionOnlyObjective:function j(k){return k===c("AdsAPIObjectives").BRAND_AWARENESS||k===c("AdsAPIObjectives").REACH||k===c("AdsAPIObjectives").POST_ENGAGEMENT}};f.exports=i}),null);
__d("AdsCanvasDocumentSaveSuccessDataActionPlugin",[],(function a(b,c,d,e,f,g){"use strict";var h={key:"canvasDocumentSaveSuccess",actionType:"DOCUMENT.SAVE_SUCCESS"};f.exports=h}),null);
__d("AdsUEditorAdgroupSaveCanvasActionHandler",["AdsAPIAdgroupRecordUtils","AdsCanvasCollectionsConstants","AdsCanvasCollectionsUtils","AdsCanvasDocumentSaveSuccessDataActionPlugin","AdsDataAtom","AdsMutators","AdsSelectorUtils","AdsUnifiedCreativeAPIFields","adsUEditorAdgroupSpecPathPluginSelector","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("AdsCanvasCollectionsConstants").EMPTY_COLLECTION_THUMBNAILS,i={type:c("AdsCanvasDocumentSaveSuccessDataActionPlugin").actionType,genExtraData:function j(k,l,m){c("AdsDataAtom").waitFor(c("AdsSelectorUtils").getStoreDispatchTokens([c("adsUEditorAdgroupSpecPathPluginSelector")],m));var n=k.adgroupIDs?k.adgroupIDs:[];return c("AdsMutators").mapExistingValues(l,n,function(o){return c("adsUEditorAdgroupSpecPathPluginSelector")(babelHelpers["extends"]({},m,c("AdsAPIAdgroupRecordUtils").getParentIDs(o)))})},mutate:function j(k,l,m){var n=k.adgroupIDs?k.adgroupIDs:[];return c("AdsMutators").mutateEach(l,n,function(o,p){var q=c("nullthrows")(m[p]);if(c("AdsCanvasCollectionsUtils").isCanvasCollectionAd(o,q)&&c("AdsUnifiedCreativeAPIFields").collectionThumbnails.isSupported(o,q))o=o.setIn(c("AdsUnifiedCreativeAPIFields").collectionThumbnails.getPath(o,q),h);return o})}};f.exports=i}),null);
__d("AdsCFAdgroupSaveCanvasActionDataReducerPlugin",["AdsCFAdgroupDataReducerUtils","AdsUEditorAdgroupSaveCanvasActionHandler"],(function a(b,c,d,e,f,g){"use strict";var h={reduce:c("AdsCFAdgroupDataReducerUtils").wrapActionHandler(c("AdsUEditorAdgroupSaveCanvasActionHandler"))};f.exports=h}),null);
__d("AdsCFAdgroupSaveCanvasActionDataReducer",["AdsCFAdgroupDataProvider","AdsCFAdgroupSaveCanvasActionDataReducerPlugin","AdsDataReducer"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataReducer").create(c("AdsCFAdgroupDataProvider"),{},c("AdsCFAdgroupSaveCanvasActionDataReducerPlugin").reduce);f.exports=h}),null);
__d("AdsCanvasDocumentSaveSuccessDataAction",["AdsCFAdgroupSaveCanvasActionDataReducer","AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([c("AdsCFAdgroupSaveCanvasActionDataReducer")],"DOCUMENT.SAVE_SUCCESS");f.exports=h}),null);
__d("RichMediaEditorConstants",[],(function a(b,c,d,e,f,g){"use strict";f.exports={EDITOR_HEIGHT:666,EDITOR_ELEMENT_ID_PREFIX:"editor_element",EDITOR_ELEMENT_CONTAINER_ID:"editor_element_container",EDITOR_FONT_FAMILIES:["sans-serif","serif","HelveticaNeue-Regular","HelveticaNeue-Light","HelveticaNeue-Medium","HelveticaNeue-UltraLight","HelveticaNeue-CondensedBold","Georgia"],EDITOR_LINE_HEIGHT:["0.8","1.0","1.1","1.2","1.3","1.4","1.5","1.6","1.7","1.8","1.9","2.0"],EDITOR_DEFAULT_LINE_HEIGHT:"1.2",EDITOR_PADDING:["0","4","8","12","16","20","24","28","32","48","96","192"],EDITOR_DEFAULT_PADDING:"0",EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL:"48",EDITOR_DEFAULT_TEXT_BUTTON_PADDING_HORIZONTAL:"20",EDITOR_PADDING_PREVIEW_SCALE:1.2,INLINE_EDITOR_HEIGHT:768,INLINE_PREVIEW_WIDTH:428,MAX_LENGTH_SCRUBBABLE_GIF_SEC:30,MIN_LENGTH_SCRUBBABLE_GIF_SEC:1,TEXT_LIMIT:40}}),null);
__d("AdsCanvasElementBase",["immutable","RichMediaEditorConstants","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("RichMediaEditorConstants").EDITOR_DEFAULT_PADDING,i=c("immutable").Record,j={advancedExpanded:false,background_color:"#FFFFFF",elementType:"",expanded:true,id:"",index:-1,type:0,name:"",padding:{paddingBottom:h,paddingTop:h}};function k(n){var o={elementType:n.element_type,id:n.id,name:n.name,padding:{paddingBottom:n.bottom_padding,paddingTop:n.top_padding}};Object.keys(o).map(function(p){if(!o[p])delete o[p]});return o}function l(n){return{name:n.get("name"),bottom_padding:n.getPadding().paddingBottom,top_padding:n.getPadding().paddingTop}}var m=function(n){__p&&__p();return function(){__p&&__p();var o,p;o=babelHelpers.inherits(q,i(n));p=o&&o.prototype;q.fromAPI=function(r){"use strict";return c("abstractMethod")("AdsCanvasElement","fromAPI")};q.createNewElement=function(r,s){"use strict";return c("abstractMethod")("AdsCanvasElement","createNewElement")};q.validate=function(r,s){"use strict";return c("abstractMethod")("AdsCanvasElement","validate")};q.prototype.toAPI=function(){"use strict";return c("abstractMethod")("AdsCanvasElement","toAPI")};q.prototype.getAdvancedExpanded=function(){"use strict";return this.get("advancedExpanded")};q.prototype.getExpanded=function(){"use strict";return this.get("expanded")};q.prototype.getElementType=function(){"use strict";return this.get("elementType")};q.prototype.getID=function(){"use strict";return this.get("id")};q.prototype.getName=function(){"use strict";return this.get("title")};q.prototype.getPadding=function(){"use strict";return this.get("padding")};q.prototype.isSwipeToOpenEligible=function(){"use strict";return false};function q(){"use strict";o.apply(this,arguments)}return q}()}.bind(this);f.exports={AdsCanvasElementRecord:m,AdsCanvasElementDefault:j,getSharedAPIFields:k,setSharedAPIFields:l}}),null);
__d("AdsCanvasBuilderAPIUtils",["AdsCanvasAdUtils","AdsCanvasEditorEnums","convertFromRawToDraftState"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("AdsCanvasEditorEnums").LinkDestinationEnum;function i(o){if(o.blocks==null)return{plain_text:"",inline_styles:[],entity_ranges:[]};var p=0;return o.blocks.map(function(q,r){var s={plain_text:q.text,inline_styles:q.inlineStyleRanges.map(function(t){return{style:k(String(t.style)),offset:p+t.offset,length:t.length}}),entity_ranges:q.entityRanges};p+=q.text.length;return s}).reduce(function(q,r){return{plain_text:q.plain_text+"\n"+r.plain_text,inline_styles:q.inline_styles.concat(r.inline_styles),entity_ranges:q.entity_ranges.concat(r.entity_ranges)}})}function j(o){return c("convertFromRawToDraftState")({blocks:[{key:null,type:"unstyled",text:o.plain_text?o.plain_text:"",depth:0,inlineStyleRanges:o.inline_styles?o.inline_styles.map(function(p){return{style:p.style,offset:p.offset,length:p.length}}):[],entityRanges:o.entity_ranges?o.entity_ranges:[]}],entityMap:{}})}function k(o){switch(o){case"1":return"BOLD";case"2":return"ITALIC";case"4":return"UNDERLINE";default:return"NONE"}}function l(o){switch(o){case"FIT_TO_WIDTH":return"fit_to_width";case"FIT_TO_WIDTH_EXPANDABLE":return"expandable";case"FIT_TO_HEIGHT":return"fit_to_height";default:return"fit_to_width"}}function m(o){switch(o){case"fit_to_width":return"FIT_TO_WIDTH";case"expandable":return"FIT_TO_WIDTH_EXPANDABLE";case"fit_to_height":return"FIT_TO_HEIGHT";default:return"FIT_TO_WIDTH"}}function n(o,p){if(p)return h.NATIVE;if(c("AdsCanvasAdUtils").isCanvasLink(o))return h.CANVAS;return h.WEBSITE}f.exports={convertDestinationFromAPI:n,convertLayoutFromAPI:l,convertLayoutToAPI:m,convertRichTextFromAPI:j,convertRichTextToAPI:i}}),null);
__d("AdsCanvasElementDestination",["AdsCanvasBuilderAPIUtils","AdsCanvasEditorEnums"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("AdsCanvasEditorEnums").LinkDestinationEnum,i={deeplink:null,destination:h.WEBSITE,link:""};function j(l,m){var n={deeplink:m,destination:c("AdsCanvasBuilderAPIUtils").convertDestinationFromAPI(l,m),link:l};Object.keys(n).map(function(o){if(!n[o])delete n[o]});return n}function k(l,m){return{deep_link:m,open_url_action:l?{url:l}:{url:""}}}f.exports={AdsCanvasElementDestinationDefault:i,getDestinationFields:j,setDestinationFields:k}}),null);
__d("RichMediaRichFormatText",["ContentState","immutable","decodeBlocks","encodeBlocks","RichMediaEditorConstants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("immutable").Record,k=c("RichMediaEditorConstants").EDITOR_FONT_FAMILIES,l=c("RichMediaEditorConstants").EDITOR_LINE_HEIGHT,m=c("RichMediaEditorConstants").EDITOR_DEFAULT_LINE_HEIGHT,n={id:"",composedText:{entityMap:{},blocks:[]},textAlignment:"center",textColor:"#000",fontSize:15,fontFamily:k[0],lineHeight:m},o=j(n);h=babelHelpers.inherits(p,o);i=h&&h.prototype;p.create=function(q,r,s,t,u,v){return new p({composedText:c("encodeBlocks")(q),textAlignment:r,textColor:s,fontSize:t,fontFamily:u,lineHeight:v})};p.createDefault=function(){return p.create(c("ContentState").createFromText(""),"center","#777",15,k[0],m)};p.createFromObject=function(q){var r=q.fontFamily;if(k.indexOf(r)===-1)r=k[0];var s=q.lineHeight;if(l.indexOf(s)===-1)s=m;return new p({composedText:q.composedText,textAlignment:q.textAlignment,textColor:q.textColor,fontSize:q.fontSize,fontFamily:r,lineHeight:s})};p.createFromAdAsset=function(q){return p.create(c("ContentState").createFromText(q),"center","#000",15,k[0],m)};p.createFromBundle=function(q,r){var s=r==="item_headline"?"#90949c":"#000";return p.create(c("ContentState").createFromText(q),"center",s,16,k[0],m)};p.getPlainTextFromComposedText=function(q){var r=c("decodeBlocks")(q.blocks,q.entityMap);return r.getPlainText()};function p(){h.apply(this,arguments)}f.exports=p}),null);
__d("AdsCanvasElementRichText",["AdsCanvasBuilderAPIUtils","RichMediaRichFormatText"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={richFormatText:c("RichMediaRichFormatText").createDefault()};function i(k){var l=k.rich_text,m=k.text_alignment,n=k.text_color,o=k.font_size,p=k.font_family,q=k.line_height;if(!l||!m||!n||!o||!p||!q)return h;return{richFormatText:c("RichMediaRichFormatText").create(c("AdsCanvasBuilderAPIUtils").convertRichTextFromAPI(l),m.toLowerCase(),"#"+n.substring(2),Number(o),p,q)}}function j(k){return{font_family:k.fontFamily,font_size:k.fontSize,line_height:k.lineHeight,rich_text:c("AdsCanvasBuilderAPIUtils").convertRichTextToAPI(k.composedText),text_alignment:k.textAlignment.toUpperCase(),text_color:k.textColor}}f.exports={AdsCanvasElementRichTextDefault:h,getRichTextFields:i,setRichTextFields:j}}),null);
__d("InstantShoppingDocumentElementType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({RICH_TEXT:1,PHOTO:2,BUTTON:3,SLIDESHOW:4,DIVIDER:5,EXPANDABLE_SECTION:6,STATEFUL:7,VIDEO:8,COLOR_SELECTOR:9,TOGGLE_BUTTON:10,HEADER:11,COMPOSITE_BLOCK:12,FOOTER:13,ELEMENT_GROUP:14,TITLE_AND_DATE:15,STORE_LOCATOR:16,SCRUBBABLE_GIF:17,LOCAL_IMAGE:18,OFFER:19,WEBVIEW:20,BUNDLE:21,UFI:22,FBT_BUTTON:23,PRODUCT_LIST:24,INSTAGRAM_PRODUCT:25,NAVIGATION_TAB:26,CULTURAL_MOMENT_POPULAR_MEDIA:900,DAILY_DIALOGUE_FB_TIPS:901,COLOR_PICKER:29,CALL_TO_ACTION_CARD:30})}),null);
__d("RichMediaEditorUtil",["ads-lib-urllib"],(function a(b,c,d,e,f,g){"use strict";var h={isValidURL:function i(j){return c("ads-lib-urllib").isUrl(j)},normalizeURL:function i(j){return c("ads-lib-urllib").normalize(j)},isValidDeeplink:function i(j){return true},getURLDomain:function i(j){return c("ads-lib-urllib").getDomain(j)}};f.exports=h}),null);
__d("RichMediaElementValidationUtil",["AdsCanvasEditorEnums"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("AdsCanvasEditorEnums").LinkDestinationEnum,i={validateForAppstoreDestination:function j(k,l){var m=Array.isArray(l)?l.length:l.count();for(var n=0;n<m;n++){var o=Array.isArray(l)?l[n]:l.get(n);if(o===k)break;if(o.destination===h.NATIVE&&o.link&&k.destination===h.NATIVE&&k.link&&o.link!==k.link)return{errorMsg:"App store URLs should be same",isValid:false}}return{errorMsg:"",isValid:true}}};f.exports=i}),null);
__d("validateDeepLink",["AppAdsConfig","URIRFC3986","trim"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("AppAdsConfig").deepLinkBlacklist.map(function(j){return new RegExp(c("trim")(j,"/"))});function i(j){__p&&__p();j=j.toLowerCase();var k=j.indexOf("://");if(k===-1)return false;var l=j.slice(0,k);if(l&&l.includes(".")){if(!/^[a-z0-9][a-z0-9+-.]*$/.test(l))return false}else{var m=c("URIRFC3986").parse(j);if(m==null||!m.scheme||!/^([a-z][a-z0-9+-.]*):/i.test(j))return false}if(["http","https"].includes(l))return true;var n=h.some(function(o){return o.test(j)});return!n}f.exports=i}),null);
__d("AdsCanvasButtonElement",["fbt","AdsCanvasEditorEnums","AdsCanvasElementBase","AdsCanvasElementDestination","AdsCanvasElementRichText","AdsCanvasFooterElement","immutable","InstantShoppingDocumentElementType","RichMediaEditorConstants","RichMediaEditorUtil","RichMediaElementTypeConstant","RichMediaElementValidationUtil","RichMediaRichFormatText","validateDeepLink"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("immutable").List,l=c("AdsCanvasEditorEnums").LinkDestinationEnum,m=c("RichMediaEditorConstants").TEXT_LIMIT,n=c("AdsCanvasElementBase").AdsCanvasElementRecord,o=c("AdsCanvasElementBase").AdsCanvasElementDefault,p=c("AdsCanvasElementBase").getSharedAPIFields,q=c("AdsCanvasElementBase").setSharedAPIFields,r=c("AdsCanvasElementDestination").AdsCanvasElementDestinationDefault,s=c("AdsCanvasElementDestination").getDestinationFields,t=c("AdsCanvasElementDestination").setDestinationFields,u=c("AdsCanvasElementRichText").AdsCanvasElementRichTextDefault,v=c("AdsCanvasElementRichText").getRichTextFields,w=c("AdsCanvasElementRichText").setRichTextFields,x=c("RichMediaEditorConstants").EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL,y=c("RichMediaElementTypeConstant").RichMediaElementTypes,z=babelHelpers["extends"]({},o,r,u,{backgroundColor:"#FFFFFF",buttonColor:"#000000",elementType:y.BUTTON,isFilled:false,isFixedToBottom:false,name:h._("Button").toString(),padding:{paddingTop:x,paddingBottom:x},type:c("InstantShoppingDocumentElementType").BUTTON});i=babelHelpers.inherits(A,n(z));j=i&&i.prototype;A.fromAPI=function(B){return new A(babelHelpers["extends"]({},p(B),s(B.action?B.action.url:null,B.deep_link),v({font_family:B.font_family,font_size:B.font_size,line_height:B.line_height,rich_text:B.rich_text,text_alignment:B.text_alignment,text_color:B.text_color}),{isFilled:B.button_style==="BUTTON_FILLED",buttonColor:"#"+B.button_color.substring(2),backgroundColor:B.background_color?"#"+B.background_color.substring(2):"#FFFFFF"}))};A.createNewElement=function(B){return new A({id:B})};A.validate=function(B,C){__p&&__p();if(!B.link)return{errorMsg:h._("Empty Link URL"),isValid:false};if(!c("RichMediaEditorUtil").isValidURL(B.link))if(B.destination===l.NATIVE)return{errorMsg:h._("Invalid Store URL"),isValid:false};else return{errorMsg:h._("Invalid Website URL"),isValid:false};var D=c("RichMediaElementValidationUtil").validateForAppstoreDestination(B,C);if(!D.isValid)return D;if(B.deeplink)if(!c("validateDeepLink")(B.deeplink))return{errorMsg:h._("Invalid Deeplink"),isValid:false};var E=c("RichMediaRichFormatText").getPlainTextFromComposedText(B.richFormatText.composedText);if(E.length<=0)return{isValid:false,errorMsg:h._("Button text not provided")};if(RegExp(/^\s+$/).test(E))return{isValid:false,errorMsg:h._("Button text only white spaces")};if(E.length>m)return{errorMsg:h._({"*":"Button text exceeds {number} characters"},[h.param("number",m,[0])]),isValid:false};return{errorMsg:"",isValid:true}};A.prototype.toFooterElement=function(){return new(c("AdsCanvasFooterElement"))(babelHelpers["extends"]({},this.toJS(),{childElements:k([this.set("id","LOCAL_ELEMENT_BUTTON"+String(Date.now()))]),elementType:y.FOOTER,id:"LOCAL_ELEMENT_"+String(Date.now()),richFormatText:this.get("richFormatText")}))};A.prototype.toAPI=function(){return babelHelpers["extends"]({},q(this),t(this.get("link"),this.get("deeplink")),w(this.get("richFormatText")),{background_color:this.get("backgroundColor"),button_color:this.get("buttonColor"),button_style:this.get("isFilled")?"BUTTON_FILLED":"BUTTON_OUTLINE"})};A.prototype.isSwipeToOpenEligible=function(){return!!this.link&&this.destination!==l.CANVAS&&c("RichMediaEditorUtil").isValidURL(this.link)};function A(){i.apply(this,arguments)}f.exports=A}),null);
__d("AdsCanvasFooterElement",["fbt","invariant","AdsCanvasButtonElement","AdsCanvasEditorEnums","AdsCanvasElementBase","AdsCanvasElementDestination","AdsCanvasElementRichText","immutable","InstantShoppingDocumentElementType","RichMediaEditorConstants","RichMediaEditorUtil","RichMediaElementTypeConstant","RichMediaElementValidationUtil","RichMediaRichFormatText","getByPath","validateDeepLink"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("AdsCanvasEditorEnums").LinkDestinationEnum,m=c("immutable").List,n=c("RichMediaEditorConstants").TEXT_LIMIT,o=c("AdsCanvasElementBase").AdsCanvasElementRecord,p=c("AdsCanvasElementBase").AdsCanvasElementDefault,q=c("AdsCanvasElementBase").getSharedAPIFields,r=c("AdsCanvasElementDestination").AdsCanvasElementDestinationDefault,s=c("AdsCanvasElementDestination").getDestinationFields,t=c("AdsCanvasElementRichText").AdsCanvasElementRichTextDefault,u=c("AdsCanvasElementRichText").getRichTextFields,v=c("RichMediaEditorConstants").EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL,w=c("RichMediaElementTypeConstant").RichMediaElementTypes,x=babelHelpers["extends"]({},p,r,t,{backgroundColor:"#FFFFFF",buttonColor:"#FFFFFF",childElements:m([]),elementType:w.FOOTER,isFilled:false,isFixedToBottom:true,name:h._("Footer").toString(),padding:{paddingTop:v,paddingBottom:v},type:c("InstantShoppingDocumentElementType").BUTTON});j=babelHelpers.inherits(y,o(x));k=j&&j.prototype;y.fromAPI=function(z){if(!z.child_elements)return new y(babelHelpers["extends"]({},q(z)));z.child_elements.length>0||i(0);var A=z.child_elements[0],B=z.background_color!=null?"#"+z.background_color.substring(2):"#FFFFFF";return new y(babelHelpers["extends"]({},q(z),s(c("getByPath")(A,["action","url"]),A.deep_link),u({font_family:A.font_family,font_size:A.font_size,line_height:A.line_height,rich_text:A.rich_text,text_alignment:A.text_alignment,text_color:A.text_color}),{backgroundColor:B,buttonColor:"#"+A.button_color.substring(2),childElements:m(z.child_elements.map(function(C){return c("AdsCanvasButtonElement").fromAPI(C)})),isFilled:A.button_style==="BUTTON_FILLED"}))};y.createNewElement=function(z){return new y({id:z})};y.validate=function(z,A){__p&&__p();if(!z.link)return{errorMsg:h._("Empty Link URL"),isValid:false};if(!c("RichMediaEditorUtil").isValidURL(z.link))if(z.destination===l.NATIVE)return{errorMsg:h._("Invalid Store URL"),isValid:false};else return{errorMsg:h._("Invalid Website URL"),isValid:false};var B=c("RichMediaElementValidationUtil").validateForAppstoreDestination(z,A);if(!B.isValid)return B;if(z.deeplink)if(!c("validateDeepLink")(z.deeplink))return{errorMsg:h._("Invalid Deeplink"),isValid:false};var C=c("RichMediaRichFormatText").getPlainTextFromComposedText(z.richFormatText.composedText);if(C.length<=0)return{isValid:false,errorMsg:h._("Button text not provided")};if(RegExp(/^\s+$/).test(C))return{isValid:false,errorMsg:h._("Button text only white spaces")};if(C.length>n)return{errorMsg:h._({"*":"Button text exceeds {number} characters"},[h.param("number",n,[0])]),isValid:false};return{errorMsg:"",isValid:true}};y.prototype.getChildElements=function(){return[this.toButtonElement()]};y.prototype.toButtonElement=function(){var z=this.get("childElements").count()===0?"PLACEHOLDER_FOOTER_CHILD_ID":this.get("childElements").first().get("id");return new(c("AdsCanvasButtonElement"))(babelHelpers["extends"]({},this.toJS(),{id:z,elementType:w.BUTTON,richFormatText:this.get("richFormatText")}))};y.prototype.toAPI=function(){return{background_color:this.get("backgroundColor"),child_elements:this.get("childElements").map(function(z){return z.getID()}).toArray(),name:this.get("name")}};y.prototype.isSwipeToOpenEligible=function(){return!!this.link&&this.destination!==l.CANVAS&&c("RichMediaEditorUtil").isValidURL(this.link)};function y(){j.apply(this,arguments)}f.exports=y}),null);
__d("AdsCanvasElementStyle",["AdsCanvasBuilderAPIUtils"],(function a(b,c,d,e,f,g){"use strict";var h={layout:"fit_to_width"};function i(k){return{layout:c("AdsCanvasBuilderAPIUtils").convertLayoutFromAPI(k)}}function j(k){return{style:c("AdsCanvasBuilderAPIUtils").convertLayoutToAPI(k)}}f.exports={AdsCanvasElementStyleDefault:h,getStyleFields:i,setStyleFields:j}}),null);
__d("AdsCanvasProductTagRecord",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({catalogID:undefined,coordinates:undefined,productID:undefined});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("AdsCanvasProductTag",["AdsCanvasProductTagRecord","immutable","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("immutable").Map;h=babelHelpers.inherits(k,c("AdsCanvasProductTagRecord"));i=h&&h.prototype;k.fromAPI=function(l){return new k({catalogID:c("nullthrows")(l.catalog_id),coordinates:!l.coordinates?null:j({x:l.coordinates[0],y:l.coordinates[1]}),productID:l.product_id})};k.prototype.toAPI=function(){var l=this.coordinates;return{coordinates:l?[l.get("x"),l.get("y")]:null,product_id:this.productID}};function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("AdsCanvasPhotoElement",["fbt","AdsCanvasEditorEnums","AdsCanvasElementBase","AdsCanvasElementDestination","AdsCanvasElementStyle","AdsCanvasLookBookTemplateDefaultProducts","AdsCanvasProductTag","immutable","InstantShoppingDocumentElementType","RichMediaEditorUtil","RichMediaElementTypeConstant","RichMediaElementValidationUtil","validateDeepLink"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("immutable").List,l=c("AdsCanvasEditorEnums").LinkDestinationEnum,m=c("AdsCanvasElementBase").AdsCanvasElementRecord,n=c("AdsCanvasElementBase").AdsCanvasElementDefault,o=c("AdsCanvasElementBase").getSharedAPIFields,p=c("AdsCanvasElementBase").setSharedAPIFields,q=c("AdsCanvasElementDestination").AdsCanvasElementDestinationDefault,r=c("AdsCanvasElementDestination").getDestinationFields,s=c("AdsCanvasElementDestination").setDestinationFields,t=c("AdsCanvasElementStyle").AdsCanvasElementStyleDefault,u=c("AdsCanvasElementStyle").getStyleFields,v=c("AdsCanvasElementStyle").setStyleFields,w=c("RichMediaElementTypeConstant").RichMediaElementTypes,x=babelHelpers["extends"]({},n,q,t,{catalogID:null,currentItemIndex:0,description:null,elementGroupKey:null,elementType:w.PHOTO,hideProductPrices:false,name:h._("Photo").toString(),photo:null,productTags:null,type:c("InstantShoppingDocumentElementType").PHOTO,uploadStatus:null}),y=function y(A){if(A==null||A.length===0)return null;var B=A[A.length-1];if(c("AdsCanvasLookBookTemplateDefaultProducts").productIDs.includes(B.product_id))return null;else return B.catalog_id};i=babelHelpers.inherits(z,m(x));j=i&&i.prototype;z.fromAPI=function(A){return new z(babelHelpers["extends"]({},o(A),r(A.action?A.action.url:null,A.deep_link),u(A.style),{elementGroupKey:A.element_group_key,hideProductPrices:A.hide_product_prices,photo:!A.photo?null:{height:A.photo.height,id:A.photo.id,src:A.photo.source,width:A.photo.width},catalogID:y(A.product_tags),productTags:A.product_tags==null?null:k(A.product_tags.map(function(B){return c("AdsCanvasProductTag").fromAPI(B)}))}))};z.createNewElement=function(A,B){return new z({id:A,productTags:B?k([]):null})};z.validate=function(A,B){__p&&__p();if(!A.photo)return{isValid:false,errorMsg:h._("Missing photo")};if(A.link&&!c("RichMediaEditorUtil").isValidURL(A.link))if(A.destination===l.NATIVE)return{isValid:false,errorMsg:h._("Invalid Store URL")};else return{isValid:false,errorMsg:h._("Invalid Website URL")};var C=c("RichMediaElementValidationUtil").validateForAppstoreDestination(A,B);if(!C.isValid)return C;if(A.deeplink)if(!c("validateDeepLink")(A.deeplink))return{isValid:false,errorMsg:h._("Invalid Deeplink")};if(A.uploadStatus&&A.uploadStatus.isUploading!==false)return{isValid:false,errorMsg:""};if(A.productTags){var D=A.productTags;if(D.count()===0)return{isValid:false,errorMsg:h._("Must tag at least 1 product")};if(D.some(function(E){return c("AdsCanvasLookBookTemplateDefaultProducts").productIDs.includes(E.productID)}))return{isValid:false,errorMsg:h._("Cannot use default products")}}return{isValid:true,errorMsg:""}};z.prototype.toAPI=function(){var A=this.deeplink,B=this.layout,C=this.link,D=this.photo;return babelHelpers["extends"]({},p(this),s(B==="fit_to_width"?C:null,B==="fit_to_width"?A:null),v(B),{element_group_key:this.get("elementGroupKey"),hide_product_prices:this.hideProductPrices,photo_id:D?D.id:null,product_tags:!this.productTags?null:this.productTags.map(function(E){return E.toAPI()}).toArray()})};z.prototype.isSwipeToOpenEligible=function(){return this.layout==="fit_to_width"&&!!this.link&&this.destination!==l.CANVAS&&c("RichMediaEditorUtil").isValidURL(this.link)};function z(){i.apply(this,arguments)}f.exports=z}),null);
__d("XCanvasPhotoUploadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ads/canvas/upload/photo/",{photo_url:{type:"String"}})}),null);
__d("RichMediaEditorUploader",["ActorURI","AsyncUploadRequest","XCanvasPhotoUploadController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={upload:function i(j,k,l){__p&&__p();var m=c("ActorURI").create(c("XCanvasPhotoUploadController").getURIBuilder().getURI(),j),n=new(c("AsyncUploadRequest"))(m).setAllowCrossOrigin(false).setFiles({file:k}),o=[];o.push(n.subscribe("progress",function(p,q){var event=q.getProgressEvent();if(event.lengthComputable)l.onProgress(q.getFile(),event.loaded/event.total*100)}));o.push(n.subscribe("success",function(p,q){l.onSuccess(q.getFile(),q.getResponse())}));o.push(n.subscribe("error",function(p,q){l.onError(q.getFile())}));o.push(n.subscribe("complete",function(p,q){while(o.length)o.pop().unsubscribe()}));n.send();return n}};f.exports=h}),null);
__d("AdsCanvasCarouselElement",["fbt","AdsCanvasEditorEnums","AdsCanvasElementBase","AdsCanvasElementStyle","AdsCanvasPhotoElement","immutable","InstantShoppingDocumentElementType","RichMediaEditorUploader","RichMediaEditorUtil","RichMediaElementTypeConstant"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("AdsCanvasEditorEnums").LinkDestinationEnum,l=c("immutable").List,m=c("AdsCanvasElementBase").AdsCanvasElementRecord,n=c("AdsCanvasElementBase").AdsCanvasElementDefault,o=c("AdsCanvasElementBase").getSharedAPIFields,p=c("AdsCanvasElementBase").setSharedAPIFields,q=c("AdsCanvasElementStyle").AdsCanvasElementStyleDefault,r=c("AdsCanvasElementStyle").getStyleFields,s=c("AdsCanvasElementStyle").setStyleFields,t=c("RichMediaElementTypeConstant").RichMediaElementTypes,u=babelHelpers["extends"]({},n,q,{elementType:t.CAROUSEL,items:l([]),name:h._("Carousel").toString(),selectedItemIndex:0,type:c("InstantShoppingDocumentElementType").SLIDESHOW});i=babelHelpers.inherits(v,m(u));j=i&&i.prototype;v.fromAPI=function(w){return new v(babelHelpers["extends"]({},o(w),r(w.style),{items:l(w.child_elements.map(function(x){return c("AdsCanvasPhotoElement").fromAPI(x)}))}))};v.createNewElement=function(w){return new v({id:w,items:l([c("AdsCanvasPhotoElement").createNewElement(w+"_1"),c("AdsCanvasPhotoElement").createNewElement(w+"_2")])})};v.validate=function(w,x){if(w.items.count()<=1)return{errorMsg:h._("Upload at least 2 images to create a carousel"),isValid:false};for(var y=0;y<w.items.count();++y){var z=w.items.get(y),A=c("AdsCanvasPhotoElement").validate(z,x);if(!A.isValid)return{errorMsg:h._({"*":"Item {carousel_item_number} has"},[h.param("carousel_item_number",y+1,[0])]).toString()+" "+A.errorMsg.toString(),isValid:false}}return{errorMsg:"",isValid:true}};v.prototype.toAPI=function(){return babelHelpers["extends"]({},p(this),s(this.get("layout")),{child_elements:this.get("items").map(function(w){return w.getID()}).toArray()})};v.prototype.findChidlElementIndexByID=function(w){return this.items.findIndex(function(x){return x.id==w})};v.prototype.getChildElements=function(){return this.get("items").toArray()};v.replaceItem=function(w,x,y,z,A,B,C){var D=w.items.get(x).id;c("RichMediaEditorUploader").upload(y,[z],{onProgress:function E(z,F){return A(D,F)},onSuccess:function E(z,F){return B(D,F)},onError:function E(z){return C(D)}})};v.prototype.isSwipeToOpenEligible=function(){return this.layout==="fit_to_width"&&this.items.some(function(w){return w.link&&w.destination!==k.CANVAS&&c("RichMediaEditorUtil").isValidURL(w.link)})};function v(){i.apply(this,arguments)}f.exports=v}),null);
__d("AdsCanvasElementCreateErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ELEMENT.CREATE_ERROR");f.exports=h}),null);
__d("AdsCanvasElementCreateSuccessDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ELEMENT.CREATE_SUCCESS");f.exports=h}),null);
__d("AdsCanvasElementDataLoader",["Promise","AdsGraphAPI","CanvasDataUtils","immutable","RichMediaElementTypeConstant"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").List,i=c("RichMediaElementTypeConstant").RichMediaElementTypes;j.prototype.getButtonElement=function(k){return c("AdsGraphAPI").get(f.id).object("canvas_button",k).get({fields:c("CanvasDataUtils").getFieldsForButtonElement(),summary:true})};j.prototype.getCarouselElement=function(k){return c("AdsGraphAPI").get(f.id).object("canvas_carousel",k).get({fields:c("CanvasDataUtils").getFieldsForCarouselElement(),summary:true})};j.prototype.getElementType=function(k){return c("AdsGraphAPI").get(f.id).object("canvas_element",k).get({fields:c("CanvasDataUtils").getFieldsForElementType(),summary:true})};j.prototype.getFooterElement=function(k){return c("AdsGraphAPI").get(f.id).object("canvas_footer",k).get({fields:c("CanvasDataUtils").getFieldsForFooterElement(),summary:true})};j.prototype.getHeaderElement=function(k){return c("AdsGraphAPI").get(f.id).object("canvas_header",k).get({fields:c("CanvasDataUtils").getFieldsForHeaderElement(),summary:true})};j.prototype.getPhotoElement=function(k){return c("AdsGraphAPI").get(f.id).object("canvas_photo",k).get({fields:c("CanvasDataUtils").getFieldsForPhotoElement(),summary:true})};j.prototype.getProductListElement=function(k){return c("AdsGraphAPI").get(f.id).object("canvas_product_list",k).get({fields:c("CanvasDataUtils").getFieldsForProductListElement(),summary:true})};j.prototype.getProductSetElement=function(k){return c("AdsGraphAPI").get(f.id).object("canvas_product_set",k).get({fields:c("CanvasDataUtils").getFieldsForProductSetElement(),summary:true})};j.prototype.getStoreLocatorElement=function(k){return c("AdsGraphAPI").get(f.id).object("canvas_store_locator",k).get({fields:c("CanvasDataUtils").getFieldsForStoreLocatorElement(),summary:true})};j.prototype.getTextElement=function(k){return c("AdsGraphAPI").get(f.id).object("canvas_text",k).get({fields:c("CanvasDataUtils").getFieldsForTextElement(),summary:true})};j.prototype.getVideoElement=function(k){return c("AdsGraphAPI").get(f.id).object("canvas_video",k).get({fields:c("CanvasDataUtils").getFieldsForVideoElement(),summary:true})};j.prototype.createElement=function(k,l){__p&&__p();switch(k.getElementType()){case i.BUTTON:return this.$AdsCanvasElementDataLoader1(k,l);case i.CAROUSEL:return this.$AdsCanvasElementDataLoader2(k,l);case i.ELEMENT_GROUP:return this.$AdsCanvasElementDataLoader3(k,l);case i.FOOTER:return this.$AdsCanvasElementDataLoader4(k,l);case i.HEADER:return this.$AdsCanvasElementDataLoader5(k,l);case i.PHOTO:return this.$AdsCanvasElementDataLoader6(k,l);case i.PRODUCT_LIST:return this.$AdsCanvasElementDataLoader7(k,l);case i.RICH_TEXT:return this.$AdsCanvasElementDataLoader8(k,l);case i.STORE_LOCATOR:return this.$AdsCanvasElementDataLoader9(k,l);case i.VIDEO:return this.$AdsCanvasElementDataLoader10(k,l);default:throw new Error("Element type "+k.getType()+" not supported.")}};j.prototype.$AdsCanvasElementDataLoader1=function(k,l){return c("AdsGraphAPI").get(f.id).object("page",l).edge("canvas_elements").post({canvas_button:k.toAPI()})};j.prototype.$AdsCanvasElementDataLoader2=function(k,l){return c("Promise").all(k.getChildElements().map(function(m){return this.createElement(m,l)}.bind(this))).then(function(m){return c("AdsGraphAPI").get(f.id).object("page",l).edge("canvas_elements").post({canvas_carousel:babelHelpers["extends"]({},k.toAPI(),{child_elements:m.map(function(n){return n.id})})})})};j.prototype.$AdsCanvasElementDataLoader4=function(k,l){return c("Promise").all(k.getChildElements().map(function(m){return c("CanvasDataUtils").isNewElement(m)?this.createElement(m,l):this.updateElement(m,l)}.bind(this))).then(function(m){return c("AdsGraphAPI").get(f.id).object("page",l).edge("canvas_elements").post({canvas_footer:babelHelpers["extends"]({},k.toAPI(),{child_elements:h(m.map(function(n,o){return n.id?n.id:k.getChildElements()[o].getID()}))})})})};j.prototype.$AdsCanvasElementDataLoader5=function(k,l){return c("Promise").all(k.getChildElements().map(function(m){return this.createElement(m,l)}.bind(this))).then(function(m){return c("AdsGraphAPI").get(f.id).object("page",l).edge("canvas_elements").post({canvas_header:babelHelpers["extends"]({},k.toAPI(),{fb_child_elements:h(m.map(function(n){return n.id}))})})})};j.prototype.$AdsCanvasElementDataLoader6=function(k,l){return c("AdsGraphAPI").get(f.id).object("page",l).edge("canvas_elements").post({canvas_photo:k.toAPI()})};j.prototype.$AdsCanvasElementDataLoader7=function(k,l){return c("AdsGraphAPI").get(f.id).object("page",l).edge("canvas_elements").post({canvas_product_list:k.toAPI()})};j.prototype.$AdsCanvasElementDataLoader3=function(k,l){return c("AdsGraphAPI").get(f.id).object("page",l).edge("canvas_elements").post({canvas_product_set:k.toAPI()})};j.prototype.$AdsCanvasElementDataLoader9=function(k,l){return c("AdsGraphAPI").get(f.id).object("page",l).edge("canvas_elements").post({canvas_store_locator:k.toAPI()})};j.prototype.$AdsCanvasElementDataLoader8=function(k,l){return c("AdsGraphAPI").get(f.id).object("page",l).edge("canvas_elements").post({canvas_text:k.toAPI()})};j.prototype.$AdsCanvasElementDataLoader10=function(k,l){return c("AdsGraphAPI").get(f.id).object("page",l).edge("canvas_elements").post({canvas_video:k.toAPI()})};j.prototype.updateElement=function(k,l){__p&&__p();switch(k.getElementType()){case i.BUTTON:return this.$AdsCanvasElementDataLoader11(k);case i.CAROUSEL:return this.$AdsCanvasElementDataLoader12(k,l);case i.ELEMENT_GROUP:return this.$AdsCanvasElementDataLoader13(k);case i.FOOTER:return this.$AdsCanvasElementDataLoader14(k,l);case i.HEADER:return this.$AdsCanvasElementDataLoader15(k,l);case i.PHOTO:return this.$AdsCanvasElementDataLoader16(k);case i.PRODUCT_LIST:return this.$AdsCanvasElementDataLoader17(k);case i.STORE_LOCATOR:return this.$AdsCanvasElementDataLoader18(k);case i.RICH_TEXT:return this.$AdsCanvasElementDataLoader19(k);case i.VIDEO:return this.$AdsCanvasElementDataLoader20(k);default:throw new Error("Element type "+k.getElementType()+" not supported.")}};j.prototype.$AdsCanvasElementDataLoader11=function(k){return c("AdsGraphAPI").get(f.id).object("canvas_button",k.getID()).post(k.toAPI())};j.prototype.$AdsCanvasElementDataLoader12=function(k,l){return c("Promise").all(k.getChildElements().map(function(m){return c("CanvasDataUtils").isNewElement(m)?this.createElement(m,l):this.updateElement(m,l)}.bind(this))).then(function(m){return c("AdsGraphAPI").get(f.id).object("canvas_carousel",k.getID()).post(babelHelpers["extends"]({},k.toAPI(),{child_elements:h(m.map(function(n,o){return n.id?n.id:k.getChildElements()[o].get("id")}))}))})};j.prototype.$AdsCanvasElementDataLoader14=function(k,l){return c("Promise").all(k.getChildElements().map(function(m){return c("CanvasDataUtils").isNewElement(m)?this.createElement(m,l):this.updateElement(m,l)}.bind(this))).then(function(m){return c("AdsGraphAPI").get(f.id).object("canvas_footer",k.getID()).post(babelHelpers["extends"]({},k.toAPI(),{child_elements:h(m.map(function(n,o){return n.id?n.id:k.getChildElements()[o].getID()}))}))})};j.prototype.$AdsCanvasElementDataLoader15=function(k,l){return c("Promise").all(k.getChildElements().map(function(m){return c("CanvasDataUtils").isNewElement(m)?this.createElement(m,l):this.updateElement(m,l)}.bind(this))).then(function(m){return c("AdsGraphAPI").get(f.id).object("canvas_header",k.getID()).post(babelHelpers["extends"]({},k.toAPI(),{fb_child_elements:h(m.map(function(n,o){return n.id?n.id:k.getChildElements()[o].getID()}))}))})};j.prototype.$AdsCanvasElementDataLoader16=function(k){return c("AdsGraphAPI").get(f.id).object("canvas_photo",k.getID()).post(k.toAPI())};j.prototype.$AdsCanvasElementDataLoader17=function(k){return c("AdsGraphAPI").get(f.id).object("canvas_product_list",k.getID()).post(k.toAPI())};j.prototype.$AdsCanvasElementDataLoader13=function(k){return c("AdsGraphAPI").get(f.id).object("canvas_product_set",k.getID()).post(k.toAPI())};j.prototype.$AdsCanvasElementDataLoader18=function(k){return c("AdsGraphAPI").get(f.id).object("canvas_store_locator",k.getID()).post(k.toAPI())};j.prototype.$AdsCanvasElementDataLoader19=function(k){return c("AdsGraphAPI").get(f.id).object("canvas_text",k.getID()).post(k.toAPI())};j.prototype.$AdsCanvasElementDataLoader20=function(k){return c("AdsGraphAPI").get(f.id).object("canvas_video",k.getID()).post(k.toAPI())};function j(){}f.exports=new j()}),null);
__d("AdsCanvasElementLoadErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ELEMENT.LOAD_ERROR");f.exports=h}),null);
__d("AdsCanvasElementLoadSuccessDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ELEMENT.LOAD_SUCCESS");f.exports=h}),null);
__d("AdsCanvasElementSaveErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ELEMENT.SAVE_ERROR");f.exports=h}),null);
__d("AdsCanvasElementSaveSuccessDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ELEMENT.SAVE_SUCCESS");f.exports=h}),null);
__d("AdsCanvasTextElement",["fbt","AdsCanvasElementBase","AdsCanvasElementRichText","InstantShoppingDocumentElementType","RichMediaEditorConstants","RichMediaElementTypeConstant","RichMediaRichFormatText"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("AdsCanvasElementBase").AdsCanvasElementRecord,l=c("AdsCanvasElementBase").AdsCanvasElementDefault,m=c("AdsCanvasElementBase").getSharedAPIFields,n=c("AdsCanvasElementBase").setSharedAPIFields,o=c("AdsCanvasElementRichText").AdsCanvasElementRichTextDefault,p=c("AdsCanvasElementRichText").getRichTextFields,q=c("AdsCanvasElementRichText").setRichTextFields,r=c("RichMediaEditorConstants").EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL,s=c("RichMediaElementTypeConstant").RichMediaElementTypes,t=babelHelpers["extends"]({},l,o,{backgroundColor:"#FFFFFF",elementType:s.RICH_TEXT,name:h._("Text").toString(),padding:{paddingTop:r,paddingBottom:r},type:c("InstantShoppingDocumentElementType").RICH_TEXT,elementGroupKey:null});i=babelHelpers.inherits(u,k(t));j=i&&i.prototype;u.fromAPI=function(v){var w=v.background_color!=null?"#"+v.background_color.substring(2):"#FFFFFF";return new u(babelHelpers["extends"]({},m(v),p({font_family:v.font_family,font_size:v.font_size,line_height:v.line_height,rich_text:v.rich_text,text_alignment:v.text_alignment,text_color:v.text_color}),{backgroundColor:w,elementGroupKey:v.element_group_key}))};u.createNewElement=function(v){return new u({id:v})};u.validate=function(v){var w=c("RichMediaRichFormatText").getPlainTextFromComposedText(v.richFormatText.composedText);if(w.length===0)return{errorMsg:h._("Empty text block is not allowed"),isValid:false};if(RegExp(/^\s+$/).test(w))return{isValid:false,errorMsg:h._("Text block with only white spaces is not allowed")};return{isValid:true,errorMsg:""}};u.prototype.toAPI=function(){return babelHelpers["extends"]({},n(this),q(this.get("richFormatText")),{background_color:this.get("backgroundColor"),element_group_key:this.get("elementGroupKey")})};function u(){i.apply(this,arguments)}f.exports=u}),null);
__d("AdsCanvasHeaderElement",["fbt","AdsCanvasElementBase","AdsCanvasPhotoElement","AdsCanvasTextElement","CanvasColorUtils","immutable","InstantShoppingDocumentElementType","RichMediaElementTypeConstant","RichMediaRichFormatText"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("AdsCanvasElementBase").AdsCanvasElementRecord,l=c("AdsCanvasElementBase").AdsCanvasElementDefault,m=c("AdsCanvasElementBase").getSharedAPIFields,n=c("immutable").List,o=c("RichMediaElementTypeConstant").RichMediaElementTypes,p=babelHelpers["extends"]({},l,{backgroundColor:"FFFFFFFF",richFormatText:null,childElements:n([]),elementType:o.HEADER,name:h._("Header").toString(),photo:null,type:c("InstantShoppingDocumentElementType").HEADER,uploadStatus:null});i=babelHelpers.inherits(q,k(p));j=i&&i.prototype;q.fromAPI=function(r){__p&&__p();var s=r.fb_child_elements.length===0?null:r.fb_child_elements[0],t=null,u=null;if(s&&s.element_type===o.PHOTO)t=s.photo?{height:s.photo.height,id:s.photo.id,src:s.photo.source,width:s.photo.width}:null;else if(s&&s.element_type===o.RICH_TEXT){var v=c("AdsCanvasTextElement").fromAPI(s);u=v.get("richFormatText")}return new q(babelHelpers["extends"]({},m(r),{backgroundColor:r.background_color?r.background_color:p.backgroundColor,childElements:n(r.fb_child_elements.map(function(w){switch(w.element_type){case o.PHOTO:return c("AdsCanvasPhotoElement").fromAPI(w);case o.RICH_TEXT:return c("AdsCanvasTextElement").fromAPI(w);default:throw new Error("Header element should only have text or photo child")}})),photo:t,richFormatText:u}))};q.createNewElement=function(r,s){var t=s?c("RichMediaRichFormatText").createFromAdAsset(s):null;return new q({id:r,richFormatText:t})};q.validate=function(r){__p&&__p();if(r.richFormatText){var s=c("RichMediaRichFormatText").getPlainTextFromComposedText(r.richFormatText.composedText);if(s.length===0)return{errorMsg:h._("Empty text block is not allowed"),isValid:false};if(RegExp(/^\s+$/).test(s))return{isValid:false,errorMsg:h._("Text block with only white spaces is not allowed")}}else if(!r.photo)return{errorMsg:h._("Missing photo"),isValid:false};if(!r.backgroundColor)return{errorMsg:h._("Missing background color"),isValid:false};if(r.uploadStatus&&r.uploadStatus.isUploading!==false)return{errorMsg:"",isValid:false};return{errorMsg:"",isValid:true}};q.prototype.toPhotoElement=function(){return new(c("AdsCanvasPhotoElement"))({id:this.$AdsCanvasHeaderElement1(),photo:this.get("photo")})};q.prototype.toTextElement=function(){return new(c("AdsCanvasTextElement"))({id:this.$AdsCanvasHeaderElement1(),richFormatText:this.get("richFormatText")})};q.prototype.$AdsCanvasHeaderElement1=function(){return this.get("childElements")&&this.get("childElements").count()===0?"PLACEHOLDER_HEADER_CHILD_ID":this.get("childElements").first().get("id")};q.prototype.getChildElements=function(){if(this.get("richFormatText"))return[this.toTextElement()];return[this.toPhotoElement()]};q.prototype.toAPI=function(){return{name:this.get("name"),background_color:this.get("backgroundColor"),fb_child_elements:this.get("childElements").map(function(r){return r.getID()}).toArray()}};q.prototype.isOpaque=function(){var r=c("CanvasColorUtils").convertARGBToColorWithOpacity(this.get("backgroundColor"));if(r.opacity===100)return true;return false};function q(){i.apply(this,arguments)}f.exports=q}),null);
__d("AdsCanvasProductSetElement",["fbt","AdsCanvasElementBase","AdsCanvasInlineBuilderUtils","AdsCollectionsConstants","InstantShoppingDocumentElementType","RichMediaElementTypeConstant","gkx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("AdsCanvasElementBase").AdsCanvasElementRecord,l=c("AdsCanvasElementBase").AdsCanvasElementDefault,m=c("AdsCanvasElementBase").getSharedAPIFields,n=c("AdsCanvasElementBase").setSharedAPIFields,o=c("RichMediaElementTypeConstant").RichMediaElementTypes,p=babelHelpers["extends"]({},l,{catalogID:null,elementType:o.ELEMENT_GROUP,itemDescriptionTemplate:null,itemHeadlineTemplate:null,limit:c("AdsCollectionsConstants").COLLECTION_PRODUCT_MAX_COUNT,name:h._("Product Set").toString(),retailerItemIDs:c("AdsCollectionsConstants").EMPTY_COLLECTIONS_RETAIL_ID,setID:null,cachedElementID:null,type:c("InstantShoppingDocumentElementType").ELEMENT_GROUP});i=babelHelpers.inherits(q,k(p));j=i&&i.prototype;q.fromAPI=function(r){return new q(babelHelpers["extends"]({},m(r),{catalogID:r.product_catalog_id,itemDescriptionTemplate:r.item_description,itemHeadlineTemplate:r.item_headline,limit:r.max_products,setID:r.product_set_id,cachedElementID:null}))};q.createNewElement=function(r){return new q({id:r})};q.validate=function(r,s){__p&&__p();if(r.catalogID==null)return{errorMsg:h._("Missing catalog ID"),isValid:false};if(r.setID==null)return{errorMsg:c("gkx")("AT7iCpz3axJXLEmft81XAYp0aTZTU7L2gpodRvBNYuuPzMgrI-BTH7QsAblvzJu-lBxG_yOJNeg4a1LUowQIbA7l")?h._("Please choose or create a product Set from your catalog"):h._("Please choose or create a Product Set from your Product Catalog"),isValid:false};if(r.limit<=0)return{errorMsg:h._("Invalid maximum products count"),isValid:false};if(s&&r.itemHeadlineTemplate&&!c("AdsCanvasInlineBuilderUtils").validateProductsElementTemplate(s,r.itemHeadlineTemplate))return{errorMsg:h._("The product headline field you chose is not valid."),isValid:false};if(s&&r.itemDescriptionTemplate&&!c("AdsCanvasInlineBuilderUtils").validateProductsElementTemplate(s,r.itemDescriptionTemplate))return{errorMsg:h._("The product description field you chose is not valid."),isValid:false};return{errorMsg:"",isValid:true}};q.prototype.toAPI=function(){return babelHelpers["extends"]({},n(this),{item_description:this.get("itemDescriptionTemplate"),item_headline:this.get("itemHeadlineTemplate"),max_items:this.get("limit"),product_set_id:this.get("setID"),retailer_item_ids:this.get("retailerItemIDs")})};function q(){i.apply(this,arguments)}f.exports=q}),null);
__d("AdsCanvasBundleItemRecord",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({elementGroupKey:"",elementIDs:[],link:"",itemDescription:"",itemHeadline:"",photo:null,uploadStatus:null});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("AdsCanvasBundleItem",["fbt","AdsCanvasBundleItemRecord","AdsCanvasEditorEnums","AdsCanvasPhotoElement","AdsCanvasTextElement","immutable","RichMediaEditorUtil","RichMediaRichFormatText"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("AdsCanvasEditorEnums").LinkDestinationEnum,l=c("immutable").List;i=babelHelpers.inherits(m,c("AdsCanvasBundleItemRecord"));j=i&&i.prototype;m.createItem=function(n,o,p,q){return new m({elementGroupKey:q,elementIDs:[n.id,o.id,p.id],photo:n.photo,itemDescription:c("RichMediaRichFormatText").getPlainTextFromComposedText(p.richFormatText.composedText),itemHeadline:c("RichMediaRichFormatText").getPlainTextFromComposedText(o.richFormatText.composedText),link:n.link})};m.prototype.flatten=function(){return l([new(c("AdsCanvasPhotoElement"))({elementGroupKey:this.elementGroupKey,id:this.elementIDs[0],photo:this.photo,link:this.link}),new(c("AdsCanvasTextElement"))({elementGroupKey:this.elementGroupKey,id:this.elementIDs[1],richFormatText:c("RichMediaRichFormatText").createFromBundle(this.itemHeadline,"item_headline")}),new(c("AdsCanvasTextElement"))({elementGroupKey:this.elementGroupKey,id:this.elementIDs[2],richFormatText:c("RichMediaRichFormatText").createFromBundle(this.itemDescription,"item_description")})])};m.validate=function(n){__p&&__p();if(!n.photo)return{isValid:false,errorMsg:h._("Missing photo")};if(!n.link)return{isValid:false,errorMsg:h._("Missing destination URL")};if(n.link&&!c("RichMediaEditorUtil").isValidURL(n.link))if(n.destination===k.NATIVE)return{isValid:false,errorMsg:h._("Invalid Store URL")};else return{isValid:false,errorMsg:h._("Invalid Website URL")};if(!n.itemHeadline)return{isValid:false,errorMsg:h._("Missing Product Headline")};if(RegExp(/^\s+$/).test(n.itemHeadline))return{isValid:false,errorMsg:h._("Product Headline with only white spaces is not allowed")};if(!n.itemDescription)return{isValid:false,errorMsg:h._("Missing Product Description")};if(RegExp(/^\s+$/).test(n.itemDescription))return{isValid:false,errorMsg:h._("Product Description with only white spaces is not allowed")};return{isValid:true,errorMsg:""}};function m(){i.apply(this,arguments)}f.exports=m}),null);
__d("AdsCanvasBundleElement",["fbt","AdsCanvasBundleItem","AdsCanvasElementBase","immutable","InstantShoppingDocumentElementType","RichMediaElementTypeConstant"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("AdsCanvasElementBase").AdsCanvasElementDefault,l=c("AdsCanvasElementBase").AdsCanvasElementRecord,m=c("immutable").List,n=c("RichMediaElementTypeConstant").RichMediaElementTypes,o=babelHelpers["extends"]({},k,{items:m([]),elementType:n.BUNDLE,name:h._("Bundle").toString(),selectedItemIndex:0,type:c("InstantShoppingDocumentElementType").BUNDLE});i=babelHelpers.inherits(p,l(o));j=i&&i.prototype;p.createBundle=function(q,r){return new p({id:q,items:r})};p.validate=function(q){if(q.items.count()<4)return{isValid:false,errorMsg:h._("Upload at least 4 images to create a bundle").toString()};for(var r=0;r<q.items.count();++r){var s=q.items.get(r),t=c("AdsCanvasBundleItem").validate(s);if(!t.isValid)return{isValid:false,errorMsg:h._({"*":"Item {bundle_item_number}"},[h.param("bundle_item_number",r+1,[0])]).toString()+" "+t.errorMsg.toString()}}return{isValid:true,errorMsg:""}};p.prototype.flatten=function(){return this.items.reduce(function(q,r){return q.concat(r.flatten())},m([]))};function p(){i.apply(this,arguments)}f.exports=p}),null);
__d("AdsCanvasInlineBuilderUtils",["invariant","AdsCanvasBundleElement","AdsCanvasBundleItem","AdsCanvasConstants","AdsCanvasDefaultNewDocumentID","AdsCanvasPhotoElement","AdsCanvasProductSetElement","AdsCanvasTextElement","AdsCollectionsConstants","DateTime","immutable","RichMediaElementTypeConstant"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("AdsCanvasConstants").INLINE_SOURCE_DOC_ID,j=c("immutable").List,k=c("RichMediaElementTypeConstant").RichMediaElementTypes;function l(w,x,y,z){__p&&__p();var A,B=arguments.length<=4||arguments[4]===undefined?0:arguments[4];if(w.get("isPublished"))(function(){var C=w.get("id");w=w.set("isPublished",false).set("id",c("AdsCanvasDefaultNewDocumentID")+String(Date.now())+B);x=x.map(function(D,B){return p(q(D,B),z,C)})})();if(!w.get("sourceTemplateID")){w=w.set("sourceTemplateID",y);x=n(x)}x=r(x);w=w.set("elements",x.map(function(C){return{id:C.id,elementType:C.elementType}}));return{canvasDocument:w,elements:x}}function m(w,x){return x.some(function(y){return!!y.elementGroupKey})||w.get("isPublished")}function n(w){return w.map(function(x,y){if(x instanceof c("AdsCanvasProductSetElement"))x=x.set("catalogID",null).set("setID",null);return x})}function o(w){if(!w)return false;return i.indexOf(w)!==-1}function p(w,x,y){if(!o(y))return w;if(w.get("link"))w=w.set("link",x);if(w.getElementType()===k.CAROUSEL)w=w.set("items",w.items.map(function(z,A){return p(z,x,y)}));return w}function q(w,x){var y="LOCAL_ELEMENT_"+String(Date.now())+x;if(w.childElements)w=w.set("childElements",w.childElements.map(function(z,A){return z.set("id",y+"_"+A)}));if(w.items)w=w.set("items",w.items.map(function(z,A){return z.set("id",y+"_"+A)}));return w.set("id",y)}function r(w){__p&&__p();var x=j([]),y=j([]),z=null;w.map(function(A){__p&&__p();if(z&&z!==A.elementGroupKey&&x.count()>0){x.count()%3===0||h(0);var B=j([]);for(var C=0;C<x.count();C+=3){var D=x.get(C),E=x.get(C+1),F=x.get(C+2);D instanceof c("AdsCanvasPhotoElement")||h(0);E instanceof c("AdsCanvasTextElement")||h(0);F instanceof c("AdsCanvasTextElement")||h(0);B=B.push(c("AdsCanvasBundleItem").createItem(D,E,F,z))}y=y.push(c("AdsCanvasBundleElement").createBundle(z,B));x=j([]);z=null}if(A.elementGroupKey){x=x.push(A);z=A.elementGroupKey;return}else y=y.push(A)});return y}function s(w,x){var y=x.match(/(\{\{[a-z]+\.[a-z]+\}\})/g);return y?y.every(function(z){if(z===c("AdsCollectionsConstants").POST_CLICK_FIELD_HIDE)return true;var A=w.getFieldConfig().fields.findIndex(function(x){return"{{"+x.property+"}}"===z});return A!==-1}):true}function t(w,x){var y=arguments.length<=2||arguments[2]===undefined?true:arguments[2],z=x.findIndex(function(A){return A.getElementType()===k.STORE_LOCATOR&&A.get("hidden")});if(z!==-1)x=x["delete"](z);if(y)w=w.set("title",u(w));return v(w,x.toArray())}function u(w){if(w.id!==c("AdsCanvasDefaultNewDocumentID"))return w.title;var x=c("DateTime").localNow().format("m/d/Y g:ia"),y=w.title.split(" - ");return y[0]+" - "+x}function v(w,x){__p&&__p();var y=w.elements.toArray();while(y.some(function(C){return C.elementType===k.BUNDLE})){var z=y.findIndex(function(C){return C.elementType===k.BUNDLE}),A=x[z];A instanceof c("AdsCanvasBundleElement")||h(0);var B=A.flatten().toArray();y.splice.apply(y,[z,1].concat(B.map(function(C){return{id:C.id,elementType:C.elementType}})));x.splice.apply(x,[z,1].concat(B))}return{canvas:w.set("elements",y),elements:j(x)}}f.exports={duplicateTemplateSourceDocument:l,isTemplateDocument:o,scrapIDFromElement:q,scrapDefaultURLFromTemplateElement:p,scrapTemplateFields:n,shouldTransformInlineCanvas:m,transformInlineCanvasForSave:t,validateProductsElementTemplate:s}}),null);
__d("AdsCanvasProductListElement",["fbt","AdsCanvasElementBase","AdsCanvasInlineBuilderUtils","immutable","InstantShoppingDocumentElementType","RichMediaElementTypeConstant"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("immutable").List,l=c("AdsCanvasElementBase").AdsCanvasElementRecord,m=c("AdsCanvasElementBase").AdsCanvasElementDefault,n=c("AdsCanvasElementBase").getSharedAPIFields,o=c("AdsCanvasElementBase").setSharedAPIFields,p=c("RichMediaElementTypeConstant").RichMediaElementTypes,q=babelHelpers["extends"]({},m,{catalogID:null,currentItemIndex:0,description:null,elementType:p.PRODUCT_LIST,name:h._("Product List").toString(),productIDList:k(),itemHeadlineTemplate:null,itemDescriptionTemplate:null,type:c("InstantShoppingDocumentElementType").PRODUCT_LIST});i=babelHelpers.inherits(r,l(q));j=i&&i.prototype;r.fromAPI=function(s){var t=k();s.product_id_list.forEach(function(u){t=t.push(String(u))});return new r(babelHelpers["extends"]({},n(s),{catalogID:s.product_catalog_id,productIDList:t,itemHeadlineTemplate:s.item_headline,itemDescriptionTemplate:s.item_description}))};r.createNewElement=function(s){return new r({id:s})};r.validate=function(s,t){if(!s.productIDList||s.productIDList.length<4)return{isValid:false,errorMsg:h._("Please add more products, the minimum products count is 4")};if(t&&s.itemHeadlineTemplate&&!c("AdsCanvasInlineBuilderUtils").validateProductsElementTemplate(t,s.itemHeadlineTemplate))return{errorMsg:h._("The product headline field you chose is not valid."),isValid:false};if(t&&s.itemDescriptionTemplate&&!c("AdsCanvasInlineBuilderUtils").validateProductsElementTemplate(t,s.itemDescriptionTemplate))return{errorMsg:h._("The product description field you chose is not valid."),isValid:false};return{isValid:true,errorMsg:""}};r.prototype.toAPI=function(){return babelHelpers["extends"]({},o(this),{product_id_list:this.productIDList.toArray(),item_headline:this.itemHeadlineTemplate,item_description:this.itemDescriptionTemplate})};function r(){i.apply(this,arguments)}f.exports=r}),null);
__d("AdsCanvasVideoElement",["fbt","AdsCanvasElementBase","AdsCanvasElementStyle","InstantShoppingDocumentElementType","RichMediaElementTypeConstant"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("AdsCanvasElementBase").AdsCanvasElementRecord,l=c("AdsCanvasElementBase").AdsCanvasElementDefault,m=c("AdsCanvasElementBase").getSharedAPIFields,n=c("AdsCanvasElementBase").setSharedAPIFields,o=c("AdsCanvasElementStyle").AdsCanvasElementStyleDefault,p=c("AdsCanvasElementStyle").getStyleFields,q=c("AdsCanvasElementStyle").setStyleFields,r=c("RichMediaElementTypeConstant").RichMediaElementTypes,s=babelHelpers["extends"]({},l,o,{elementType:r.VIDEO,name:h._("Video").toString(),video:null,type:c("InstantShoppingDocumentElementType").VIDEO,uploadStatus:null});i=babelHelpers.inherits(t,k(s));j=i&&i.prototype;t.fromAPI=function(u){var v=u.video,w=v?v.thumbnails.data.filter(function(x){return x.is_preferred})[0]:null;return new t(babelHelpers["extends"]({},m(u),p(u.style),{video:v&&w?{height:w.height,id:v.id,preferredThumbnail:w,spherical:!!v.spherical,width:w.width}:null}))};t.createNewElement=function(u){return new t({id:u})};t.validate=function(u){if(!u.video)return{errorMsg:h._("Missing video"),isValid:false};if(u.uploadStatus&&(u.uploadStatus.isUploading!==false||u.uploadStatus.isEncoding!==false))return{errorMsg:"",isValid:false};return{errorMsg:"",isValid:true}};t.prototype.toAPI=function(){var u=this.get("video");return babelHelpers["extends"]({},n(this),q(this.get("layout")),{video_id:u?u.id:null})};function t(){i.apply(this,arguments)}f.exports=t}),null);
__d("RichMediaBundleItem",["fbt","AdsCanvasEditorEnums","immutable","RichMediaEditorUtil","RichMediaElementValidationUtil","getByPath","validateDeepLink"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("AdsCanvasEditorEnums").LinkDestinationEnum,l=c("immutable").Record,m={id:"",index:0,photo:null,name:"",itemHeadline:null,itemDescription:null,description:null,link:null,deeplink:null,linkedCanvasName:null,destination:k.WEBSITE,uploadStatus:null,uploadRequest:null},n=l(m);i=babelHelpers.inherits(o,n);j=i&&i.prototype;o.create=function(p,q,r,s,t,u,v,w,x,y,z,A,B){return new o({id:p,index:q,photo:r,name:s,itemHeadline:t,itemDescription:u,description:v,link:w,deeplink:x,linkedCanvasName:y,destination:z,uploadStatus:A,uploadRequest:B})};o.createDefault=function(p,q,r){return o.create(p,q,null,"",null,null,null,null,null,null,k.WEBSITE,null,r)};o.createFromObject=function(p){return o.create(p.id||p.name+"_"+Date.now(),p.index,p.photo,p.name,p.itemHeadline,p.itemDescription,p.description,p.link,p.deeplink,p.linkedCanvasName,p.destination,null,p.uploadRequest)};o.createFromPayloadAndElementField=function(p,q){if(q)p.photo.src=c("getByPath")(q,["element","photo","source"]);return o.create(p.id||p.name+"_"+Date.now(),p.index,p.photo,p.name,p.itemHeadline,p.itemDescription,p.description,p.link,p.deeplink,p.linkedCanvasName,p.destination,null,p.uploadRequest)};o.validate=function(p,q){__p&&__p();if(!p.photo)return{isValid:false,errorMsg:h._("Missing photo")};if(!p.link)return{isValid:false,errorMsg:h._("Missing destination URL")};if(p.link&&!c("RichMediaEditorUtil").isValidURL(p.link))if(p.destination===k.NATIVE)return{isValid:false,errorMsg:h._("Invalid Store URL")};else return{isValid:false,errorMsg:h._("Invalid Website URL")};if(!p.itemHeadline)return{isValid:false,errorMsg:h._("Missing Product Headline")};if(!p.itemDescription)return{isValid:false,errorMsg:h._("Missing Product Description")};var r=c("RichMediaElementValidationUtil").validateForAppstoreDestination(p,q);if(!r.isValid)return r;if(p.deeplink)if(!c("validateDeepLink")(p.deeplink))return{isValid:false,errorMsg:h._("Invalid Deeplink")};if(p.uploadStatus&&p.uploadStatus.isUploading!==false)return{isValid:false,errorMsg:""};return{isValid:true,errorMsg:""}};function o(){i.apply(this,arguments)}f.exports=o}),null);
__d("RichMediaBundleElement",["fbt","immutable","InstantShoppingDocumentElementType","RichMediaBundleItem","RichMediaEditorConstants","getByPath"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("RichMediaEditorConstants").EDITOR_DEFAULT_PADDING,l=c("immutable").Record,m={id:"",name:"",type:c("InstantShoppingDocumentElementType").BUNDLE,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:k,paddingBottom:k},layout:"fit_to_width",items:[],selectedItemIndex:0,addFile:function p(){return null},onFileProgress:function p(){return o.createDefault(0)},onFileSuccess:function p(){return o.createDefault(0)},onFileError:function p(){return o.createDefault(0)}},n=l(m);i=babelHelpers.inherits(o,n);j=i&&i.prototype;o.create=function(p,q,r,s,t,u,v,w){return new o({index:p,name:q,type:c("InstantShoppingDocumentElementType").BUNDLE,expanded:r,advancedExpanded:s,padding:t,layout:u,items:v,selectedItemIndex:w})};o.createDefault=function(p){return o.create(p,h._("Bundle").toString(),true,false,{paddingTop:k,paddingBottom:k},"fit_to_width",[0,1,2,3].map(function(q){return c("RichMediaBundleItem").createDefault("bundle_item_"+q,q,null)}),0)};o.createFromObject=function(p){__p&&__p();var q=[],r=0;p.items.forEach(function(t){if(t){var u=c("RichMediaBundleItem").createFromObject(t);q.push(u.set("index",r));r++}});var s=p.selectedItemIndex||p.selectedItemIndex===0?p.selectedItemIndex:0;s=Math.min(Math.max(0,s),q.length-1);return o.create(p.index,p.name,p.expanded,p.advancedExpanded,p.padding,p.layout,q,s)};o.createFromPayloadAndElementField=function(p,q){__p&&__p();var r=[],s=c("getByPath")(q,["element","child_elements","length"],0);for(var t=0;t<p.items.length;t++){var u=p.items[t],v=t<s&&q.element&&q.element.child_elements?q.element.child_elements[t]:null;if(u){var w=c("RichMediaBundleItem").createFromPayloadAndElementField(u,v);r.push(w.set("index",t))}}var x=p.selectedItemIndex||p.selectedItemIndex===0?p.selectedItemIndex:0;x=Math.min(Math.max(0,x),r.length-1);return o.create(p.index,p.name,p.expanded,p.advancedExpanded,p.padding,p.layout,r,x)};o.validate=function(p,q){if(p.items.length<4)return{isValid:false,errorMsg:h._("Upload at least 4 images to create a bundle").toString()};for(var r=0;r<p.items.length;++r){var s=p.items[r],t=c("RichMediaBundleItem").validate(s,q);if(!t.isValid)return{isValid:false,errorMsg:h._({"*":"Item {bundle_item_number}"},[h.param("bundle_item_number",r+1,[0])]).toString()+" "+t.errorMsg}}return{isValid:true,errorMsg:""}};o.equals=function(p,q){if(p.padding&&(p.padding.paddingTop!==q.padding.paddingTop||p.padding.paddingBottom!==q.padding.paddingBottom)||p.layout!==q.layout||p.selectedItemIndex!==q.selectedItemIndex||p.items.length!==q.items.length||p.items.some(function(r,s){if(!r.photo||!q.items[s].photo)return true;return r.photo.src!==q.items[s].photo.src||r.itemHeadline!==q.items[s].itemHeadline||r.itemDescription!==q.items[s].itemDescription}))return false;return true};o.prototype.addFile=function(p,q){this.items.push(c("RichMediaBundleItem").createDefault(p,this.items.length,q));return this};o.prototype.reorderItem=function(p,q){var r=this.items[p];this.items.splice(p,1);this.items.splice(q,0,r);return this};o.prototype.replaceFile=function(p,q){var r=this.items.findIndex(function(s){return s.id===p});if(r<0)return this;this.items[r]=this.items[r].set("uploadStatus",{isUploading:true,percentage:0});return this};o.prototype.onFileProgress=function(p,q){var r=this.items.findIndex(function(s){return s.id===p});this.items[r]=this.items[r].set("uploadStatus",{isUploading:true,percentage:q});return this};o.prototype.onFileSuccess=function(p,q){var r=this.items.findIndex(function(s){return s.id===p});this.items[r]=this.items[r].set("uploadStatus",{isUploading:false}).set("photo",q.payload.photo);return this};o.prototype.onFileError=function(p){var q=this.items.findIndex(function(r){return r.id===p});this.items[q]=this.items[q].set("uploadStatus",{isUploading:false});return this};function o(){i.apply(this,arguments)}f.exports=o}),null);
__d("RichMediaButtonElement",["fbt","immutable","InstantShoppingDocumentElementType","RichMediaEditorUtil","RichMediaElementValidationUtil","RichMediaRichFormatText","RichMediaEditorConstants","AdsCanvasEditorEnums","validateDeepLink"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("RichMediaEditorConstants").EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL,l=c("RichMediaEditorConstants").EDITOR_DEFAULT_TEXT_BUTTON_PADDING_HORIZONTAL,m=c("AdsCanvasEditorEnums").LinkDestinationEnum,n=c("immutable").Record,o=40,p={id:"",name:"",type:c("InstantShoppingDocumentElementType").BUTTON,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:k,paddingBottom:k,paddingLeft:l,paddingRight:l},backgroundColor:"#FFFFFF",buttonColor:"#000",isFilled:false,isFixedToBottom:false,link:"",deeplink:null,linkedCanvasName:null,destination:m.WEBSITE,richFormatText:c("RichMediaRichFormatText").createDefault()},q=n(p);i=babelHelpers.inherits(r,q);j=i&&i.prototype;r.create=function(s,t,u,v,w,x,y,z,A,B,C,D,E,F){return new r({index:s,name:t,type:c("InstantShoppingDocumentElementType").BUTTON,expanded:u,advancedExpanded:v,padding:w,buttonColor:x,backgroundColor:y,isFilled:z,isFixedToBottom:A,link:B,deeplink:C,linkedCanvasName:D,destination:E,richFormatText:F})};r.createDefault=function(s){return r.create(s,h._("Button").toString(),true,false,{paddingTop:k,paddingBottom:k,paddingLeft:l,paddingRight:l},"#000","#FFFFFF",false,false,"",null,null,m.WEBSITE,c("RichMediaRichFormatText").createDefault())};r.createFromObject=function(s){return r.create(s.index,s.name,s.expanded,s.advancedExpanded,{paddingTop:s.padding&&s.padding.paddingTop?s.padding.paddingTop:k,paddingBottom:s.padding&&s.padding.paddingBottom?s.padding.paddingBottom:k,paddingLeft:s.padding&&s.padding.paddingLeft?s.padding.paddingLeft:l,paddingRight:s.padding&&s.padding.paddingRight?s.padding.paddingRight:l},s.buttonColor,s.backgroundColor?s.backgroundColor:"#FFFFFF",s.isFilled,s.isFixedToBottom,s.link,s.deeplink,s.linkedCanvasName,s.destination,c("RichMediaRichFormatText").createFromObject(s.richFormatText))};r.createFromAdAsset=function(s,t,u){return r.create(s,"Button",true,false,{paddingTop:k,paddingBottom:k,paddingLeft:l,paddingRight:l},"#000","#FFFFFF",false,t,"",null,null,m.WEBSITE,c("RichMediaRichFormatText").createFromAdAsset(u))};r.validate=function(s,t){__p&&__p();if(!s.link)return{isValid:false,errorMsg:h._("Empty Link URL")};if(!c("RichMediaEditorUtil").isValidURL(s.link))if(s.destination===m.NATIVE)return{isValid:false,errorMsg:h._("Invalid Store URL")};else return{isValid:false,errorMsg:h._("Invalid Website URL")};var u=c("RichMediaElementValidationUtil").validateForAppstoreDestination(s,t);if(!u.isValid)return u;if(s.deeplink)if(!c("validateDeepLink")(s.deeplink))return{isValid:false,errorMsg:h._("Invalid Deeplink")};var v=c("RichMediaRichFormatText").getPlainTextFromComposedText(s.richFormatText.composedText);if(v.length<=0)return{isValid:false,errorMsg:h._("Button text not provided")};if(v.length>o)return{isValid:false,errorMsg:h._({"*":"Button text exceeds {number} characters"},[h.param("number",o,[0])])};return{isValid:true,errorMsg:""}};function r(){i.apply(this,arguments)}f.exports=r}),null);
__d("RichMediaCarouselItem",["fbt","AdsCanvasEditorEnums","immutable","RichMediaEditorUtil","RichMediaElementValidationUtil","getByPath","validateDeepLink"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("AdsCanvasEditorEnums").LinkDestinationEnum,l=c("immutable").Record,m={id:"",index:0,photo:null,name:"",description:null,link:null,deeplink:null,linkedCanvasName:null,destination:k.WEBSITE,uploadStatus:null,uploadRequest:null},n=l(m);i=babelHelpers.inherits(o,n);j=i&&i.prototype;o.create=function(p,q,r,s,t,u,v,w,x,y,z){return new o({id:p,index:q,photo:r,name:s,description:t,link:u,deeplink:v,linkedCanvasName:w,destination:x,uploadStatus:y,uploadRequest:z})};o.createDefault=function(p,q,r){return o.create(p,q,null,"",null,null,null,null,k.WEBSITE,null,r)};o.createFromObject=function(p){return o.create(p.id||p.name+"_"+Date.now(),p.index,p.photo,p.name,p.description,p.link,p.deeplink,p.linkedCanvasName,p.destination,null,p.uploadRequest)};o.createFromPayloadAndElementField=function(p,q){if(q)p.photo.src=c("getByPath")(q,["element","photo","source"]);return o.create(p.id||p.name+"_"+Date.now(),p.index,p.photo,p.name,p.description,p.link,p.deeplink,p.linkedCanvasName,p.destination,null,p.uploadRequest)};o.validate=function(p,q){__p&&__p();if(!p.photo)return{isValid:false,errorMsg:h._("Missing photo")};if(p.link&&!c("RichMediaEditorUtil").isValidURL(p.link))if(p.destination===k.NATIVE)return{isValid:false,errorMsg:h._("Invalid Store URL")};else return{isValid:false,errorMsg:h._("Invalid Website URL")};var r=c("RichMediaElementValidationUtil").validateForAppstoreDestination(p,q);if(!r.isValid)return r;if(p.deeplink)if(!c("validateDeepLink")(p.deeplink))return{isValid:false,errorMsg:h._("Invalid Deeplink")};if(p.uploadStatus&&p.uploadStatus.isUploading!==false)return{isValid:false,errorMsg:""};return{isValid:true,errorMsg:""}};function o(){i.apply(this,arguments)}f.exports=o}),null);
__d("RichMediaCarouselElement",["fbt","immutable","InstantShoppingDocumentElementType","RichMediaCarouselItem","RichMediaEditorConstants","getByPath"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("RichMediaEditorConstants").EDITOR_DEFAULT_PADDING,l=c("immutable").Record,m={id:"",name:"",type:c("InstantShoppingDocumentElementType").SLIDESHOW,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:k,paddingBottom:k},layout:"fit_to_width",items:[],selectedItemIndex:0,addFile:function p(){return null},onFileProgress:function p(){return o.createDefault(0)},onFileSuccess:function p(){return o.createDefault(0)},onFileError:function p(){return o.createDefault(0)}},n=l(m);i=babelHelpers.inherits(o,n);j=i&&i.prototype;o.create=function(p,q,r,s,t,u,v,w){return new o({index:p,name:q,type:c("InstantShoppingDocumentElementType").SLIDESHOW,expanded:r,advancedExpanded:s,padding:t,layout:u,items:v,selectedItemIndex:w})};o.createDefault=function(p){return o.create(p,h._("Carousel").toString(),true,false,{paddingTop:k,paddingBottom:k},"fit_to_width",[0,1].map(function(q){return c("RichMediaCarouselItem").createDefault(q+"_"+Math.round(Math.random()*1e4)+"_"+Date.now(),q,null)}),0)};o.createFromObject=function(p,q){__p&&__p();var r=[],s=0;p.items.forEach(function(u){if(u){var v=c("RichMediaCarouselItem").createFromObject(u);r.push(v.set("index",s));s++}});var t=p.selectedItemIndex||p.selectedItemIndex===0?p.selectedItemIndex:0;t=Math.min(Math.max(0,t),r.length-1);return o.create(p.index,p.name,p.expanded,p.advancedExpanded,p.padding,q?"fit_to_width":p.layout,r,t)};o.createFromPayloadAndElementField=function(p,q){__p&&__p();var r=[],s=c("getByPath")(q,["element","child_elements","length"],0);for(var t=0;t<p.items.length;t++){var u=p.items[t],v=t<s&&q.element&&q.element.child_elements?q.element.child_elements[t]:null;if(u){var w=c("RichMediaCarouselItem").createFromPayloadAndElementField(u,v);r.push(w.set("index",t))}}var x=p.selectedItemIndex||p.selectedItemIndex===0?p.selectedItemIndex:0;x=Math.min(Math.max(0,x),r.length-1);return o.create(p.index,p.name,p.expanded,p.advancedExpanded,p.padding,p.layout,r,x)};o.validate=function(p,q){if(p.items.length<=1)return{isValid:false,errorMsg:h._("Upload at least 2 images to create a carousel").toString()};for(var r=0;r<p.items.length;++r){var s=p.items[r],t=c("RichMediaCarouselItem").validate(s,q);if(!t.isValid)return{isValid:false,errorMsg:h._({"*":"Item {carousel_item_number}"},[h.param("carousel_item_number",r+1,[0])]).toString()+t.errorMsg}}return{isValid:true,errorMsg:""}};o.equals=function(p,q){if(p.padding&&(p.padding.paddingTop!==q.padding.paddingTop||p.padding.paddingBottom!==q.padding.paddingBottom)||p.layout!==q.layout||p.selectedItemIndex!==q.selectedItemIndex||p.items.length!==q.items.length||p.items.some(function(r,s){if(!r.photo||!q.items[s].photo)return true;return r.photo.src!==q.items[s].photo.src}))return false;return true};o.prototype.addFile=function(p,q){this.items.push(c("RichMediaCarouselItem").createDefault(p,this.items.length,q));return this};o.prototype.reorderItem=function(p,q){var r=this.items[p];this.items.splice(p,1);this.items.splice(q,0,r);return this};o.prototype.replaceFile=function(p,q){var r=this.items.findIndex(function(s){return s.id===p});if(r<0)return this;this.items[r]=this.items[r].set("uploadStatus",{isUploading:true,percentage:0});return this};o.prototype.onFileProgress=function(p,q){var r=this.items.findIndex(function(s){return s.id===p});this.items[r]=this.items[r].set("uploadStatus",{isUploading:true,percentage:q});return this};o.prototype.onFileSuccess=function(p,q){var r=this.items.findIndex(function(s){return s.id===p});this.items[r]=this.items[r].set("uploadStatus",{isUploading:false}).set("photo",q.payload.photo);return this};o.prototype.onFileError=function(p){var q=this.items.findIndex(function(r){return r.id===p});this.items[q]=this.items[q].set("uploadStatus",{isUploading:false});return this};function o(){i.apply(this,arguments)}f.exports=o}),null);
__d("RichMediaHeaderElement",["fbt","CanvasColorUtils","immutable","InstantShoppingDocumentElementType","RichMediaEditorConstants","getByPath"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("RichMediaEditorConstants").EDITOR_DEFAULT_PADDING,l=c("immutable").Record,m={id:"",name:"",type:c("InstantShoppingDocumentElementType").HEADER,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:k,paddingBottom:k},fixToTop:true,photo:null,backgroundColor:null,uploadStatus:null},n=l(m);i=babelHelpers.inherits(o,n);j=i&&i.prototype;o.create=function(p,q,r,s,t,u,v,w){return new o({name:p,type:c("InstantShoppingDocumentElementType").HEADER,expanded:r,advancedExpanded:s,padding:t,index:q,fixToTop:true,photo:u,backgroundColor:v,uploadStatus:w})};o.createDefault=function(p){return o.create(h._("Header").toString(),p,true,false,{paddingTop:k,paddingBottom:k},null,"FFFFFFFF",null)};o.createFromObject=function(p){return o.create(p.name,p.index,p.expanded,p.advancedExpanded,p.padding,p.photo,p.backgroundColor)};o.createFromPayloadAndElementField=function(p,q){if(p.photo)p.photo.src=c("getByPath")(q,["element","child_elements","0","element","photo","source"]);return o.create(p.name,p.index,p.expanded,p.advancedExpanded,p.padding,p.photo,p.backgroundColor)};o.validate=function(p){if(!p.photo)return{isValid:false,errorMsg:h._("Missing photo")};if(!p.backgroundColor)return{isValid:false,errorMsg:h._("Missing background color")};if(p.uploadStatus&&p.uploadStatus.isUploading!==false)return{isValid:false,errorMsg:""};return{isValid:true,errorMsg:""}};o.prototype.isOpaque=function(){if(!this.backgroundColor)return true;var p=c("CanvasColorUtils").convertARGBToColorWithOpacity(this.backgroundColor);if(p.opacity===100)return true;return false};function o(){i.apply(this,arguments)}f.exports=o}),null);
__d("RichMediaPhotoElement",["fbt","AdsCanvasEditorEnums","immutable","InstantShoppingDocumentElementType","RichMediaEditorConstants","RichMediaEditorUtil","RichMediaElementValidationUtil","getByPath","validateDeepLink"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("AdsCanvasEditorEnums").LinkDestinationEnum,l=c("RichMediaEditorConstants").EDITOR_DEFAULT_PADDING,m=c("immutable").Record,n={id:"",name:"",type:c("InstantShoppingDocumentElementType").PHOTO,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:l,paddingBottom:l},layout:"fit_to_width",description:null,link:null,deeplink:null,linkedCanvasName:null,destination:k.WEBSITE,photo:null,uploadStatus:null,crops:null,elementGroupKey:null},o=m(n);i=babelHelpers.inherits(p,o);j=i&&i.prototype;p.create=function(q,r,s,t,u,v,w,x,y,z,A,B,C,D,E){return new p({name:q,type:c("InstantShoppingDocumentElementType").PHOTO,index:r,expanded:s,advancedExpanded:t,padding:u,layout:v,description:w,link:x,deeplink:y,linkedCanvasName:z,destination:A,photo:B,uploadStatus:C,crops:D,elementGroupKey:E})};p.createFromBundle=function(q,r,s){return p.create("item_photo",r,true,false,{paddingBottom:"0",paddingTop:"0"},"fit_to_width",null,q.link,null,null,k.WEBSITE,q.photo,null,null,s)};p.createDefault=function(q){return p.create("Photo",q,true,false,{paddingTop:l,paddingBottom:l},"fit_to_width",null,null,null,null,k.WEBSITE,null,null,null,null)};p.createFromObject=function(q,r){return p.create(q.name,q.index,q.expanded,q.advancedExpanded,q.padding,r?"fit_to_width":q.layout,q.description,q.link,q.deeplink,q.linkedCanvasName,q.destination,q.photo,null,q.crops,q.elementGroupKey)};p.createFromPayloadAndElementField=function(q,r){if(q.photo)q.photo.src=c("getByPath")(r,["element","photo","images","0","source"]);return p.create(q.name,q.index,q.expanded,q.advancedExpanded,q.padding,q.layout,q.description,q.link,q.deeplink,q.linkedCanvasName,q.destination,q.photo,null,q.crops,q.elementGroupKey)};p.createFromAdAsset=function(q,r,s){return p.create(h._("Photo").toString(),q,true,false,{paddingTop:l,paddingBottom:l},"fit_to_width",null,r.link,null,null,k.WEBSITE,r,null,s,null)};p.validate=function(q,r){__p&&__p();if(!q.photo)return{isValid:false,errorMsg:h._("Missing photo")};if(q.link&&!c("RichMediaEditorUtil").isValidURL(q.link))if(q.destination===k.NATIVE)return{isValid:false,errorMsg:h._("Invalid Store URL")};else return{isValid:false,errorMsg:h._("Invalid Website URL")};var s=c("RichMediaElementValidationUtil").validateForAppstoreDestination(q,r);if(!s.isValid)return s;if(q.deeplink)if(!c("validateDeepLink")(q.deeplink))return{isValid:false,errorMsg:h._("Invalid Deeplink")};if(q.uploadStatus&&q.uploadStatus.isUploading!==false)return{isValid:false,errorMsg:""};return{isValid:true,errorMsg:""}};function p(){i.apply(this,arguments)}f.exports=p}),null);
__d("RichMediaProductSetElement",["fbt","AdsCollectionsConstants","immutable","InstantShoppingDocumentElementType","RichMediaEditorConstants","gkx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("RichMediaEditorConstants").EDITOR_DEFAULT_PADDING,l=c("immutable").Record,m={id:"",name:"",type:c("InstantShoppingDocumentElementType").ELEMENT_GROUP,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:k,paddingBottom:k},catalogID:null,setID:null,limit:0,retailerItemIDs:null,itemHeadlineTemplate:null,itemDescriptionTemplate:null},n=l(m);i=babelHelpers.inherits(o,n);j=i&&i.prototype;o.create=function(p,q,r,s,t,u,v,w,x,y,z){return new o({name:p,index:q,type:c("InstantShoppingDocumentElementType").ELEMENT_GROUP,expanded:r,advancedExpanded:s,padding:t,catalogID:u,setID:v,limit:w,retailerItemIDs:x,itemHeadlineTemplate:y,itemDescriptionTemplate:z})};o.createDefault=function(p){return o.create("Product",p,true,false,{paddingTop:k,paddingBottom:k},null,null,c("AdsCollectionsConstants").COLLECTION_PRODUCT_MAX_COUNT,null,null,null)};o.createFromObject=function(p){return o.create(p.name,p.index,p.expanded,p.advancedExpanded,p.padding,p.catalogID,p.setID,p.limit,p.retailerItemIDs,p.itemHeadlineTemplate,p.itemDescriptionTemplate)};o.createFromAdAsset=function(p,q,r,s,t,u){return o.create(h._("Product").toString(),p,true,false,{paddingTop:k,paddingBottom:k},q,r,c("AdsCollectionsConstants").COLLECTION_PRODUCT_MAX_COUNT,s,t,u)};o.validate=function(p,q){__p&&__p();if(p.catalogID==null)return{isValid:false,errorMsg:h._("Missing catalog ID")};if(p.setID==null)return{isValid:false,errorMsg:c("gkx")("AT7iCpz3axJXLEmft81XAYp0aTZTU7L2gpodRvBNYuuPzMgrI-BTH7QsAblvzJu-lBxG_yOJNeg4a1LUowQIbA7l")?h._("Please choose or create a product set from your catalog"):h._("Please choose or create a Product Set from your Product Catalog")};if(p.limit<=0)return{isValid:false,errorMsg:h._("Invalid maximum products count")};if(q&&p.itemHeadlineTemplate&&!o.$RichMediaProductSetElement1(q,p.itemHeadlineTemplate))return{isValid:false,errorMsg:h._("The template field you chose is not valid.")};if(q&&p.itemDescriptionTemplate&&!o.$RichMediaProductSetElement1(q,p.itemDescriptionTemplate))return{isValid:false,errorMsg:h._("The template field you chose is not valid.")};return{isValid:true,errorMsg:""}};o.$RichMediaProductSetElement1=function(p,q){var r=q.match(/(\{\{[a-z]+\.[a-z]+\}\})/g);return r?r.every(function(s){if(s===c("AdsCollectionsConstants").POST_CLICK_FIELD_HIDE)return true;var t=p.getFieldConfig().fields.findIndex(function(q){return"{{"+q.property+"}}"===s});return t!==-1}):true};function o(){i.apply(this,arguments)}f.exports=o}),null);
__d("RichMediaTextElement",["fbt","AdsCanvasEditorEnums","immutable","InstantShoppingDocumentElementType","RichMediaEditorConstants","RichMediaEditorUtil","RichMediaRichFormatText","validateDeepLink"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("AdsCanvasEditorEnums").LinkDestinationEnum,l=c("RichMediaEditorConstants").EDITOR_DEFAULT_LINE_HEIGHT,m=c("RichMediaEditorConstants").EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL,n=c("RichMediaEditorConstants").EDITOR_DEFAULT_TEXT_BUTTON_PADDING_HORIZONTAL,o=c("immutable").Record,p={id:"",name:"",type:c("InstantShoppingDocumentElementType").RICH_TEXT,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:m,paddingBottom:m,paddingLeft:n,paddingRight:n},richFormatText:{composedText:{entityMap:{},blocks:[]},textAlignment:"center",textColor:"#000",fontSize:12,fontFamily:"sans-serif",lineHeight:l},backgroundColor:"#FFFFFF",link:null,deeplink:null,destination:k.WEBSITE,elementGroupKey:null},q=o(p);i=babelHelpers.inherits(r,q);j=i&&i.prototype;r.create=function(s,t,u,v,w,x,y,z,A,B,C){return new r({index:s,name:t,type:c("InstantShoppingDocumentElementType").RICH_TEXT,expanded:u,advancedExpanded:v,padding:w,richFormatText:x,backgroundColor:y,link:z,deeplink:A,destination:B,elementGroupKey:C})};r.createDefault=function(s){return r.create(s,h._("Text").toString(),true,false,{paddingTop:m,paddingBottom:m,paddingLeft:n,paddingRight:n},c("RichMediaRichFormatText").createDefault(),"#FFFFFF",null,null,k.WEBSITE,null)};r.createFromBundle=function(s,t,u,v,w){var x=w==="item_headline"?"20":"4",y=w==="item_headline"?"0":"32";return r.create(u,w,true,false,{paddingTop:x,paddingBottom:y,paddingLeft:n,paddingRight:n},c("RichMediaRichFormatText").createFromBundle(s,w),"#FFFFFF",t,null,k.WEBSITE,v)};r.createFromObject=function(s){return r.create(s.index,s.name,s.expanded,s.advancedExpanded,{paddingTop:s.padding&&s.padding.paddingTop?s.padding.paddingTop:m,paddingBottom:s.padding&&s.padding.paddingBottom?s.padding.paddingBottom:m,paddingLeft:s.padding&&s.padding.paddingLeft?s.padding.paddingLeft:n,paddingRight:s.padding&&s.padding.paddingRight?s.padding.paddingRight:n},c("RichMediaRichFormatText").createFromObject(s.richFormatText),s.backgroundColor,s.link,s.deeplink,s.destination?s.destination:k.WEBSITE,s.elementGroupKey)};r.createFromAdAsset=function(s,t){return r.create(s,h._("Text").toString(),true,false,{paddingTop:m,paddingBottom:m,paddingLeft:n,paddingRight:n},c("RichMediaRichFormatText").createFromAdAsset(t),"#FFFFFF",null,null,k.WEBSITE,null)};r.validate=function(s){__p&&__p();var t=c("RichMediaRichFormatText").getPlainTextFromComposedText(s.richFormatText.composedText);if(t.length==0)return{isValid:false,errorMsg:h._("Empty text block is not allowed")};if(s.link&&!c("RichMediaEditorUtil").isValidURL(s.link))if(s.destination===k.NATIVE)return{isValid:false,errorMsg:h._("Invalid Store URL")};else return{isValid:false,errorMsg:h._("Invalid Website URL")};if(s.deeplink)if(!c("validateDeepLink")(s.deeplink))return{isValid:false,errorMsg:h._("Invalid Deeplink")};return{isValid:true,errorMsg:""}};function r(){i.apply(this,arguments)}f.exports=r}),null);
__d("RichMediaVideoElement",["fbt","immutable","InstantShoppingDocumentElementType","RichMediaEditorConstants"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("RichMediaEditorConstants").EDITOR_DEFAULT_PADDING,l=c("immutable").Record,m={id:"",name:"",type:c("InstantShoppingDocumentElementType").VIDEO,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:k,paddingBottom:k},layout:"fit_to_width",video:null,uploadStatus:null},n=l(m);i=babelHelpers.inherits(o,n);j=i&&i.prototype;o.create=function(p,q,r,s,t,u,v,w){return new o({name:p,type:c("InstantShoppingDocumentElementType").VIDEO,index:q,expanded:r,advancedExpanded:s,padding:t,layout:u?u:"fit_to_width",video:v,uploadStatus:w})};o.createDefault=function(p){return o.create(h._("Video").toString(),p,true,false,{paddingTop:k,paddingBottom:k},"fit_to_width",null,null)};o.createFromObject=function(p,q){return o.create(p.name,p.index,p.expanded,p.advancedExpanded,p.padding,q?"fit_to_width":p.layout,p.video)};o.createFromAdAsset=function(p,q){return o.create("Video",p,true,false,{paddingTop:k,paddingBottom:k},"fit_to_width",q,null)};o.validate=function(p){if(!p.video)return{isValid:false,errorMsg:h._("Missing video")};if(p.uploadStatus&&(p.uploadStatus.isUploading||p.uploadStatus.isEncoding))return{isValid:false,errorMsg:""};return{isValid:true,errorMsg:""}};function o(){i.apply(this,arguments)}f.exports=o}),null);
__d("RichMediaElementUtil",["fbt","AdsAppUtils","AdsCanvasAdUtils","AdsCanvasBundleElement","AdsCanvasButtonElement","AdsCanvasCarouselElement","AdsCanvasFooterElement","AdsCanvasHeaderElement","AdsCanvasPhotoElement","AdsCanvasProductListElement","AdsCanvasProductSetElement","AdsCanvasStoreLocatorElement","AdsCanvasTextElement","AdsCanvasVideoElement","InstantShoppingDocumentElementType","RichMediaBundleElement","RichMediaButtonElement","RichMediaCarouselElement","RichMediaElementTypeConstant","RichMediaHeaderElement","RichMediaPhotoElement","RichMediaProductSetElement","RichMediaRichFormatText","RichMediaTextElement","RichMediaVideoElement","UnicodeBidi"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=c("RichMediaElementTypeConstant").RichMediaElementTypes,k={_elementTypeNameMap:(i={},i[c("InstantShoppingDocumentElementType").BUTTON]=h._("Button").toString(),i[c("InstantShoppingDocumentElementType").RICH_TEXT]=h._("Rich Text").toString(),i[c("InstantShoppingDocumentElementType").PHOTO]=h._("Photo").toString(),i[c("InstantShoppingDocumentElementType").SCRUBBABLE_GIF]=h._("Scrubbable GIF").toString(),i[c("InstantShoppingDocumentElementType").VIDEO]=h._("Video").toString(),i[c("InstantShoppingDocumentElementType").SLIDESHOW]=h._("Carousel").toString(),i[c("InstantShoppingDocumentElementType").ELEMENT_GROUP]=h._("Product").toString(),i[c("InstantShoppingDocumentElementType").HEADER]=h._("Header").toString(),i[c("InstantShoppingDocumentElementType").STORE_LOCATOR]=h._("Button").toString(),i),getDefaultElementName:function l(m){if(this._elementTypeNameMap[m])return this._elementTypeNameMap[m];return h._("Untitled").toString()},validateElements:function l(m,n){var o=true,p=[];m.map(function(q){var r=this.validateElement(q,m,n);if(!r.isValid){o=false;var s=this._elementTypeNameMap[q.type];p.push({element:s,errorMsg:r.errorMsg})}}.bind(this));return{isValid:o,errorMsg:JSON.stringify(p)}},validateElement:function l(m,n,o){__p&&__p();if(Array.isArray(n))switch(m.type){case c("InstantShoppingDocumentElementType").RICH_TEXT:return c("RichMediaTextElement").validate(m);case c("InstantShoppingDocumentElementType").PHOTO:return c("RichMediaPhotoElement").validate(m,n);case c("InstantShoppingDocumentElementType").VIDEO:return c("RichMediaVideoElement").validate(m);case c("InstantShoppingDocumentElementType").BUTTON:return c("RichMediaButtonElement").validate(m,n);case c("InstantShoppingDocumentElementType").SLIDESHOW:return c("RichMediaCarouselElement").validate(m,n);case c("InstantShoppingDocumentElementType").HEADER:return c("RichMediaHeaderElement").validate(m);case c("InstantShoppingDocumentElementType").ELEMENT_GROUP:return c("RichMediaProductSetElement").validate(m,o);case c("InstantShoppingDocumentElementType").BUNDLE:return c("RichMediaBundleElement").validate(m,n)}else switch(m.elementType){case j.BUTTON:return c("AdsCanvasButtonElement").validate(m,n);case j.CAROUSEL:return c("AdsCanvasCarouselElement").validate(m,n);case j.ELEMENT_GROUP:return c("AdsCanvasProductSetElement").validate(m,o);case j.FOOTER:return c("AdsCanvasFooterElement").validate(m,n);case j.HEADER:return c("AdsCanvasHeaderElement").validate(m);case j.PHOTO:return c("AdsCanvasPhotoElement").validate(m,n);case j.PRODUCT_LIST:return c("AdsCanvasProductListElement").validate(m,o);case j.RICH_TEXT:return c("AdsCanvasTextElement").validate(m);case j.STORE_LOCATOR:return c("AdsCanvasStoreLocatorElement").validate(m);case j.VIDEO:return c("AdsCanvasVideoElement").validate(m);case j.BUNDLE:return c("AdsCanvasBundleElement").validate(m)}return{isValid:true,errorMsg:""}},validateElementsForInstagram:function l(m){__p&&__p();var n=true,o=[];m.map(function(p){var q=k.validateElementForInstagram(p);if(!q.isValid){n=false;n=false;var r=k._elementTypeNameMap[p.type];o.push({element:r,errorMsg:q.errorMsg})}});return{isValid:n,errorMsg:JSON.stringify(o)}},validateElementForInstagram:function l(m){var n=this.validateElementComponentLevelErrorForInstagram(m);if(!n.isValid)return n;if(m.type===c("InstantShoppingDocumentElementType").BUTTON){var o=this.validateButtonForInstagram(m);if(!o.isValid)return o}return{isValid:true,errorMsg:""}},validateElementComponentLevelErrorForInstagram:function l(m){__p&&__p();var n=[c("InstantShoppingDocumentElementType").STORE_LOCATOR,c("InstantShoppingDocumentElementType").OFFER];if(n.indexOf(m.type)!==-1){var o=h._("Canvas ads on Instagram does not support {unsupported component type}",[h.param("unsupported component type",m.name)]);return{isValid:false,errorMsg:o.toString()}}if(m.type===c("InstantShoppingDocumentElementType").RICH_TEXT){var p=this.validateRTLForInstagram(m);if(!p.isvalid)return p}else if(m.type===c("InstantShoppingDocumentElementType").VIDEO){var q=this.validate360VideoForInstagram(m);if(!q.isValid)return q}return{isValid:true,errorMsg:""}},validateRTLForInstagram:function l(m){var n=c("RichMediaRichFormatText").getPlainTextFromComposedText(m.richFormatText.composedText);if(c("UnicodeBidi").isDirectionRTL(n)){var o=h._("Canvas ads on Instagram don't support languages that appear right-to-left.");return{isValid:false,errorMsg:o.toString()}}return{isValid:true,errorMsg:""}},validate360VideoForInstagram:function l(m){if(m.video){var n=m.video.spherical;if(n){var o=h._("Canvas ads on Instagram don't support 360 videos");return{isValid:false,errorMsg:o.toString()}}}return{isValid:true,errorMsg:""}},validateButtonForInstagram:function l(m){var n=m.link;if(c("AdsAppUtils").getMobileAppStoreNameFromUrl(n))return{isValid:false,errorMsg:h._("Canvas ads on Instagram don't support mobile app installation").toString()};else if(c("AdsCanvasAdUtils").isCanvasLink(n))return{isValid:false,errorMsg:h._("Instagram Canvas does not support link to canvas in buttons").toString()};return{isValid:true,errorMsg:""}},getFixToBottomButtonElement:function l(m){if(m.length===0)return null;if(m[m.length-1].type===c("InstantShoppingDocumentElementType").BUTTON&&m[m.length-1].isFixedToBottom)return m[m.length-1];return null},getHeaderElement:function l(m){if(m.length===0)return null;if(m[0].type===c("InstantShoppingDocumentElementType").HEADER)return c("RichMediaHeaderElement").createFromObject(m[0]);return null},hasFixToTopHeaderElement:function l(m){if(m.length===0)return false;if(m[0].type===c("InstantShoppingDocumentElementType").HEADER)return m[0].isOpaque();return false},isContentUploadingInElement:function l(m){__p&&__p();if(m.uploadStatus)switch(m.type){case c("InstantShoppingDocumentElementType").PHOTO:if(m.uploadStatus.isUploading)return true;break;case c("InstantShoppingDocumentElementType").VIDEO:if(m.uploadStatus.isUploading||m.uploadStatus.isEncoding)return true;break;default:break}else if(m.type===c("InstantShoppingDocumentElementType").SLIDESHOW)return m.items.some(function(n){return n.uploadStatus&&n.uploadStatus.isUploading});return false},getLinks:function l(m){__p&&__p();var n=[];for(var o=0;o<m.length;o++){var p=m[o];switch(p.type){case c("InstantShoppingDocumentElementType").PHOTO:n.push(p.link);break;case c("InstantShoppingDocumentElementType").BUTTON:n.push(p.link);break;case c("InstantShoppingDocumentElementType").SLIDESHOW:for(var q=0;q<p.items.length;q++)n.push(p.items[q].link);break}}return n.filter(function(r){return!!r})},isValidColor:function l(m){return/^[A-Fa-f0-9]{8}$/.test(m)||/^#[A-Fa-f0-9]{6}$/.test(m)}};f.exports=k}),null);
__d("RichMediaStoreLocatorElementTheme",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LIGHT:"Light",DARK:"Dark",CUSTOM:"Custom"})}),null);
__d("RichMediaStoreLocatorThemes",["fbt","RichMediaStoreLocatorElementTheme"],(function a(b,c,d,e,f,g,h){"use strict";var i;f.exports={STORE_LOCATOR_THEMES:c("RichMediaStoreLocatorElementTheme"),STORE_LOCATOR_THEMES_LABELS:(i={},i[c("RichMediaStoreLocatorElementTheme").LIGHT]=h._("Light"),i[c("RichMediaStoreLocatorElementTheme").DARK]=h._("Dark"),i[c("RichMediaStoreLocatorElementTheme").CUSTOM]=h._("Custom"),i),STORE_LOCATOR_LIGHT_HEADER_BACKGROUND_COLOR:"#FFFFFF",STORE_LOCATOR_DARK_HEADER_BACKGROUND_COLOR:"#000000",STORE_LOCATOR_DEFAULT_CUSTOM_HEADER_BACKGROUND_COLOR:"#4267b2",STORE_LOCATOR_DEFAULT_TYPEFACE:"HelveticaNeue-Light"}}),null);
__d("AdsCanvasStoreLocatorElement",["fbt","AdsCanvasElementBase","InstantShoppingDocumentElementType","RichMediaEditorConstants","RichMediaElementTypeConstant","RichMediaElementUtil","RichMediaStoreLocatorThemes"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("AdsCanvasElementBase").AdsCanvasElementRecord,l=c("AdsCanvasElementBase").AdsCanvasElementDefault,m=c("AdsCanvasElementBase").getSharedAPIFields,n=c("RichMediaEditorConstants").EDITOR_FONT_FAMILIES,o=c("RichMediaElementTypeConstant").RichMediaElementTypes,p=c("RichMediaStoreLocatorThemes").STORE_LOCATOR_DARK_HEADER_BACKGROUND_COLOR,q=c("RichMediaStoreLocatorThemes").STORE_LOCATOR_DEFAULT_CUSTOM_HEADER_BACKGROUND_COLOR,r=c("RichMediaStoreLocatorThemes").STORE_LOCATOR_DEFAULT_TYPEFACE,s=c("RichMediaStoreLocatorThemes").STORE_LOCATOR_LIGHT_HEADER_BACKGROUND_COLOR,t=c("RichMediaStoreLocatorThemes").STORE_LOCATOR_THEMES,u=babelHelpers["extends"]({},l,{customHeaderBackgroundColor:q,elementType:o.STORE_LOCATOR,hidden:false,locationSourceID:"",name:h._("Store Locator").toString(),theme:t.LIGHT,type:c("InstantShoppingDocumentElementType").STORE_LOCATOR,typeface:r});i=babelHelpers.inherits(v,k(u));j=i&&i.prototype;v.fromAPI=function(w){return new v(babelHelpers["extends"]({},m(w),{customHeaderBackgroundColor:"#"+w.header_background_color.substring(2),locationSourceID:w.location_source_id?w.location_source_id:"",theme:w.theme,typeface:w.typeface}))};v.createNewElement=function(w,x){var y=new v({id:w,locationSourceID:x});return y};v.validate=function(w){if(!c("RichMediaElementUtil").isValidColor(w.customHeaderBackgroundColor))return{errorMsg:h._("The custom header background color {background_color} is not a valid hex color.",[h.param("background_color",w.customHeaderBackgroundColor)]),isValid:false};return{isValid:true,errorMsg:""}};v.prototype.toAPI=function(){return{header_background_color:this.get("customHeaderBackgroundColor"),location_source_id:this.get("locationSourceID"),name:this.get("name"),page_set_id:this.get("locationSourceID"),theme:this.get("theme"),typeface:this.get("typeface")}};v.prototype.headerBackgroundColor=function(){switch(this.theme){case t.LIGHT:return s;case t.DARK:return p;case t.CUSTOM:return this.get("customHeaderBackgroundColor");default:throw new Error("Theme not supported.")}};function v(){i.apply(this,arguments)}f.exports=v}),null);
__d("AdsCanvasElementDataDispatcher",["Promise","AdsCanvasButtonElement","AdsCanvasCarouselElement","AdsCanvasElementCreateErrorDataAction","AdsCanvasElementCreateSuccessDataAction","AdsCanvasElementDataLoader","AdsCanvasElementLoadErrorDataAction","AdsCanvasElementLoadSuccessDataAction","AdsCanvasElementSaveErrorDataAction","AdsCanvasElementSaveSuccessDataAction","AdsCanvasFooterElement","AdsCanvasHeaderElement","AdsCanvasPhotoElement","AdsCanvasProductListElement","AdsCanvasProductSetElement","AdsCanvasStoreLocatorElement","AdsCanvasTextElement","AdsCanvasVideoElement","CanvasDataUtils","RichMediaElementTypeConstant"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("RichMediaElementTypeConstant").RichMediaElementTypes;i.prototype.getButtonElement=function(j){c("AdsCanvasElementDataLoader").getButtonElement(j).done(function(k){var l=c("AdsCanvasButtonElement").fromAPI(k);c("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:j,canvasElement:l})},function(k){c("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:j,error:k})})};i.prototype.getCarouselElement=function(j){c("AdsCanvasElementDataLoader").getCarouselElement(j).done(function(k){var l=c("AdsCanvasCarouselElement").fromAPI(k);c("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:j,canvasElement:l})},function(k){c("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:j,error:k})})};i.prototype.getElement=function(j){__p&&__p();c("AdsCanvasElementDataLoader").getElementType(j).done(function(k){__p&&__p();switch(k.element_type){case h.BUTTON:this.getButtonElement(j);break;case h.CAROUSEL:this.getCarouselElement(j);break;case h.ELEMENT_GROUP:this.getProductSetElement(j);break;case h.FOOTER:this.getFooterElement(j);break;case h.HEADER:this.getHeaderElement(j);break;case h.PHOTO:this.getPhotoElement(j);break;case h.PRODUCT_LIST:this.getProductListElement(j);break;case h.RICH_TEXT:this.getTextElement(j);break;case h.STORE_LOCATOR:this.getStoreLocatorElement(j);break;case h.VIDEO:this.getVideoElement(j);break;default:break}}.bind(this),function(k){c("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:j,error:k})})};i.prototype.getFooterElement=function(j){c("AdsCanvasElementDataLoader").getFooterElement(j).done(function(k){var l=c("AdsCanvasFooterElement").fromAPI(k);c("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:j,canvasElement:l})},function(k){c("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:j,error:k})})};i.prototype.getHeaderElement=function(j){c("AdsCanvasElementDataLoader").getHeaderElement(j).done(function(k){var l=c("AdsCanvasHeaderElement").fromAPI(k);c("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:j,canvasElement:l})},function(k){c("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:j,error:k})})};i.prototype.getPhotoElement=function(j){c("AdsCanvasElementDataLoader").getPhotoElement(j).done(function(k){var l=c("AdsCanvasPhotoElement").fromAPI(k);c("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:j,canvasElement:l})},function(k){c("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:j,error:k})})};i.prototype.getProductListElement=function(j){c("AdsCanvasElementDataLoader").getProductListElement(j).done(function(k){var l=c("AdsCanvasProductListElement").fromAPI(k);c("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:j,canvasElement:l})},function(k){c("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:j,error:k})})};i.prototype.getProductSetElement=function(j){c("AdsCanvasElementDataLoader").getProductSetElement(j).done(function(k){var l=c("AdsCanvasProductSetElement").fromAPI(k);c("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:j,canvasElement:l})},function(k){c("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:j,error:k})})};i.prototype.getStoreLocatorElement=function(j){c("AdsCanvasElementDataLoader").getStoreLocatorElement(j).done(function(k){var l=c("AdsCanvasStoreLocatorElement").fromAPI(k);c("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:j,canvasElement:l})},function(k){c("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:j,error:k})})};i.prototype.getTextElement=function(j){c("AdsCanvasElementDataLoader").getTextElement(j).done(function(k){var l=c("AdsCanvasTextElement").fromAPI(k);c("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:j,canvasElement:l})},function(k){c("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:j,error:k})})};i.prototype.getVideoElement=function(j){c("AdsCanvasElementDataLoader").getVideoElement(j).done(function(k){var l=c("AdsCanvasVideoElement").fromAPI(k);c("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:j,canvasElement:l})},function(k){c("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:j,error:k})})};i.prototype.saveElements=function(j,k){return c("Promise").all(j.map(function(l){return this.saveElement(l,k)}.bind(this)).toArray())};i.prototype.saveElement=function(j,k){return c("CanvasDataUtils").isNewElement(j)?this.createElement(j,k):this.updateElement(j,k)};i.prototype.createElement=function(j,k){return c("AdsCanvasElementDataLoader").createElement(j,k).then(function(l){j=j.set("id",l.id);c("AdsCanvasElementCreateSuccessDataAction").dispatch({elementID:l.id,canvasElement:j});return{id:l.id,elementType:j.getElementType()}})["catch"](function(l){c("AdsCanvasElementCreateErrorDataAction").dispatch({elementID:j.getID(),error:l});return{id:j.getID(),elementType:j.getElementType()}})};i.prototype.updateElement=function(j,k){return c("AdsCanvasElementDataLoader").updateElement(j,k).then(function(l){c("AdsCanvasElementSaveSuccessDataAction").dispatch({elementID:j.getID(),canvasElement:j});return{id:j.getID(),elementType:j.getElementType()}})["catch"](function(l){c("AdsCanvasElementSaveErrorDataAction").dispatch({elementID:j.getID(),error:l});return{id:j.getID(),elementType:j.getElementType()}})};function i(){}f.exports=new i()}),null);
__d("AddCanvasAddCanvasDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CANVAS.ADD_CANVAS");f.exports=h}),null);
__d("AdsCanvasBuilderSelectTemplateDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CANVAS.BUILDER.SELECT_TEMPLATE");f.exports=h}),null);
__d("AdsCanvasElementDeleteDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ELEMENT.DELETE");f.exports=h}),null);
__d("AdsCanvasElementMultiUpdateDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ELEMENT.MULTI_UPDATE");f.exports=h}),null);
__d("AdsCanvasElementSwitchButtonPositionDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ELEMENT.SWITCH_BUTTON_POSITION");f.exports=h}),null);
__d("AdsCanvasElementSwitchElementTypeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CANVAS.SWITCH_ELEMENT");f.exports=h}),null);
__d("AdsCanvasElementSwitchMediaElementTypeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"LEGACY.FLUX.ACTION.TYPE.LITERAL");f.exports=h}),null);
__d("AdsCanvasElementUpdateDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ELEMENT.UPDATE");f.exports=h}),null);
__d("AdsCanvasEnableMultiTabCanvasDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CANVAS.ENABLE_MULTI_TAB_CANVAS");f.exports=h}),null);
__d("AdsCanvasInlineTransformCanvasDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS.CANVAS.INLINE.TRANSFORM_CANVAS");f.exports=h}),null);
__d("AdsCanvasResetCanvasDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CANVAS.RESET_CANVAS");f.exports=h}),null);
__d("AdsUEditorAdgroupSetCanvasDocumentDataActionPlugin",[],(function a(b,c,d,e,f,g){"use strict";var h={key:"uEditorAdgroupSetCanvasDocument",actionType:"ADS_ADGROUP_EDITOR_SET_CANVAS_DOCUMENT"};f.exports=h}),null);
__d("AdsUEditorAdgroupSetCanvasDocumentActionHandler",["AdsAPIAdgroupRecordUtils","AdsAPICampaignGroupPaths","AdsAPICampaignGroupRecordUtils","AdsAPIChildAttachmentPaths","AdsAppUtils","AdsCampaignUtils","AdsCanvasAdUtils","AdsCanvasCollectionsConstants","AdsCollectionsAdUtils","AdsCollectionsConstants","AdsDataAtom","AdsMultiProductMutators","AdsMutators","AdsSelectorUtils","AdsUEditorAdgroupSetCanvasDocumentDataActionPlugin","AdsUEditorCallToActionMutators","AdsUnifiedCreativeAPIFields","Bootloader","adsUEditorAdgroupSpecPathPluginSelector","adsUEditorCampaignGroupSelector","adsUEditorCampaignSelector","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("AdsMultiProductMutators").setInEachChild,i=c("AdsMutators").mapExistingValues,j=c("AdsMutators").mutateEach,k={type:c("AdsUEditorAdgroupSetCanvasDocumentDataActionPlugin").actionType,genExtraData:function p(q,r,s){c("AdsDataAtom").waitFor(c("AdsSelectorUtils").getStoreDispatchTokens([c("adsUEditorAdgroupSpecPathPluginSelector"),c("adsUEditorCampaignGroupSelector")],s));return i(r,q.ids,function(t,u){var v=babelHelpers["extends"]({},s,c("AdsAPIAdgroupRecordUtils").getParentIDs(t)),w=c("nullthrows")(c("adsUEditorCampaignGroupSelector")(v)),x=c("nullthrows")(c("adsUEditorCampaignSelector")(v)),y=c("adsUEditorAdgroupSpecPathPluginSelector")(v),z=c("AdsAPICampaignGroupRecordUtils").getObjective(w),A=c("AdsCampaignUtils").getPromotedObjectType(z,x),B=w.getIn(c("AdsAPICampaignGroupPaths").PROMOTED_OBJECT.PAGE_ID),C=c("nullthrows")(t.getIn(c("AdsUnifiedCreativeAPIFields").pageID.getPath(t,y)));return{campaignGroupPromotedPageID:B,objective:z,pageID:C,promotedObjectType:A,specPlugin:y}})},mutate:function p(q,r,s){__p&&__p();var t=c("AdsCanvasAdUtils").getCanvasLink(q.canvasID);return j(r,q.ids,function(u,v){var w=c("nullthrows")(s[v]),x=w.campaignGroupPromotedPageID,y=w.objective,z=w.pageID,A=w.promotedObjectType,B=w.specPlugin;u=u.setIn(c("AdsUnifiedCreativeAPIFields").linkURL.getPath(u,B),t);if(c("AdsAPIAdgroupRecordUtils").isCarouselAd(u))u=h(c("AdsAPIChildAttachmentPaths").LINK,t,u);else if(c("AdsCollectionsAdUtils").isCollectionsAd(u.creative))u=l(u,B,q.shouldSetCollectionFields,q.shouldUseRetailerItemIDs,q.productSetID,q.productSetElement,z);if(c("AdsAppUtils").isMobileAppObjective(y,A))u=c("AdsUEditorCallToActionMutators").setCallToActionLink({link:t,adgroup:u,campaignGroupPromotedPageID:x,objective:y,promotedObjectType:A,specPlugin:B});return u})}};function l(p,q,r,s,t,u,v){__p&&__p();if(r){p=m(p,q);if(s)p=n(p,q,c("nullthrows")(t));else p=o(p,q,t)}else if(u){var w=p.getIn(c("AdsUnifiedCreativeAPIFields").retailerItemIDs.getPath(p,q));u=u.set("retailerItemIDs",w);c("Bootloader").loadModules(["AdsCanvasElementDataDispatcher"],function(x){return x.updateElement(u,v)},"AdsUEditorAdgroupSetCanvasDocumentActionHandler")}return p}function m(p,q){if(c("AdsUnifiedCreativeAPIFields").videoID.isSupported(p,q))p=p.deleteIn(c("AdsUnifiedCreativeAPIFields").videoID.getPath(p,q));if(c("AdsUnifiedCreativeAPIFields").imageHash.isSupported(p,q))p=p.deleteIn(c("AdsUnifiedCreativeAPIFields").imageHash.getPath(p,q));if(c("AdsUnifiedCreativeAPIFields").imageURL.isSupported(p,q))p=p.deleteIn(c("AdsUnifiedCreativeAPIFields").imageURL.getPath(p,q));return p}function n(p,q,r){var s=p.getIn(c("AdsUnifiedCreativeAPIFields").productSetID.getPath(p,q));if(r!==s)p=p.setIn(c("AdsUnifiedCreativeAPIFields").retailerItemIDs.getPath(p,q),c("AdsCollectionsConstants").EMPTY_COLLECTIONS_RETAIL_ID).setIn(c("AdsUnifiedCreativeAPIFields").productSetID.getPath(p,q),r).deleteIn(c("AdsUnifiedCreativeAPIFields").collectionThumbnails.getPath(p,q)).deleteIn(c("AdsUnifiedCreativeAPIFields").postClickItemHeadline.getPath(p,q)).deleteIn(c("AdsUnifiedCreativeAPIFields").postClickItemDescription.getPath(p,q));return p}function o(p,q,r){if(r)p=p.setIn(c("AdsUnifiedCreativeAPIFields").productSetID.getPath(p,q),r);else p=p.deleteIn(c("AdsUnifiedCreativeAPIFields").productSetID.getPath(p,q));return p.setIn(c("AdsUnifiedCreativeAPIFields").collectionThumbnails.getPath(p,q),c("AdsCanvasCollectionsConstants").EMPTY_COLLECTION_THUMBNAILS).deleteIn(c("AdsUnifiedCreativeAPIFields").retailerItemIDs.getPath(p,q)).deleteIn(c("AdsUnifiedCreativeAPIFields").postClickItemHeadline.getPath(p,q)).deleteIn(c("AdsUnifiedCreativeAPIFields").postClickItemDescription.getPath(p,q))}f.exports=k}),null);
__d("AdsCFAdgroupSetCanvasDocumentActionDataReducerPlugin",["AdsCFAdgroupDataReducerUtils","AdsUEditorAdgroupSetCanvasDocumentActionHandler"],(function a(b,c,d,e,f,g){"use strict";var h={reduce:c("AdsCFAdgroupDataReducerUtils").wrapActionHandler(c("AdsUEditorAdgroupSetCanvasDocumentActionHandler"))};f.exports=h}),null);
__d("AdsCFAdgroupSetCanvasDocumentActionDataReducer",["AdsCFAdgroupDataProvider","AdsCFAdgroupSetCanvasDocumentActionDataReducerPlugin","AdsDataReducer"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataReducer").create(c("AdsCFAdgroupDataProvider"),{},c("AdsCFAdgroupSetCanvasDocumentActionDataReducerPlugin").reduce);f.exports=h}),null);
__d("AdsUEditorAdgroupSetCanvasDocumentDataAction",["AdsCFAdgroupSetCanvasDocumentActionDataReducer","AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([c("AdsCFAdgroupSetCanvasDocumentActionDataReducer")],"ADS_ADGROUP_EDITOR_SET_CANVAS_DOCUMENT");f.exports=h}),null);
__d("AdsCanvasElementStore",["invariant","AddCanvasAddCanvasDataAction","AdsCanvasBuilderSelectTemplateDataAction","AdsCanvasButtonElement","AdsCanvasCarouselElement","AdsCanvasConstants","AdsCanvasDocumentAddNewElementsDataAction","AdsCanvasDocumentRefreshDataAction","AdsCanvasElementCreateSuccessDataAction","AdsCanvasElementDataDispatcher","AdsCanvasElementDeleteDataAction","AdsCanvasElementLoadErrorDataAction","AdsCanvasElementLoadSuccessDataAction","AdsCanvasElementMultiUpdateDataAction","AdsCanvasElementSaveSuccessDataAction","AdsCanvasElementSwitchButtonPositionDataAction","AdsCanvasElementSwitchElementTypeDataAction","AdsCanvasElementSwitchMediaElementTypeDataAction","AdsCanvasElementUpdateDataAction","AdsCanvasEnableMultiTabCanvasDataAction","AdsCanvasFooterElement","AdsCanvasHeaderElement","AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataAction","AdsCanvasInlineBuilderShowProductTaggingOverlayDataAction","AdsCanvasInlineTransformCanvasDataAction","AdsCanvasPhotoElement","AdsCanvasProductSetElement","AdsCanvasResetCanvasDataAction","AdsCanvasStoreLocatorElement","AdsCanvasTextElement","AdsCanvasVideoElement","AdsDataAtom","AdsUEditorAdgroupSetCanvasDocumentDataAction","CanvasDataUtils","FluxLoadObjectStore","immutable","Map","RichMediaElementTypeConstant","adsCreateStoreThunkSelector","nullthrows"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("AdsCanvasConstants").CANVAS_COPY_SUFFIX,l=c("immutable").List,m=c("RichMediaElementTypeConstant").RichMediaElementTypes;i=babelHelpers.inherits(n,c("FluxLoadObjectStore"));j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.getByID=c("adsCreateStoreThunkSelector")(this,this.get.bind(this)),p}n.prototype.reduce=function(o,p){__p&&__p();var q=p.action,r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0;switch(q.type){case c("AdsCanvasDocumentAddNewElementsDataAction").actionType:v=q.elements;u=new(c("Map"))();v.map(function(x){__p&&__p();switch(x.elementType){case m.BUTTON:u.set(x.id,c("AdsCanvasButtonElement").createNewElement(x.id));break;case m.CAROUSEL:u.set(x.id,c("AdsCanvasCarouselElement").createNewElement(x.id));break;case m.ELEMENT_GROUP:u.set(x.id,c("AdsCanvasProductSetElement").createNewElement(x.id));break;case m.FOOTER:u.set(x.id,c("AdsCanvasFooterElement").createNewElement(x.id));break;case m.HEADER:u.set(x.id,c("AdsCanvasHeaderElement").createNewElement(x.id));break;case m.PHOTO:u.set(x.id,c("AdsCanvasPhotoElement").createNewElement(x.id,!!q.options.addProductTags));break;case m.RICH_TEXT:u.set(x.id,c("AdsCanvasTextElement").createNewElement(x.id));break;case m.STORE_LOCATOR:u.set(x.id,c("AdsCanvasStoreLocatorElement").createNewElement(x.id,c("nullthrows")(q.options.locationSourceID)));break;case m.VIDEO:u.set(x.id,c("AdsCanvasVideoElement").createNewElement(x.id));break;default:break}});return this.__handleMap(o,u);case c("AdsCanvasElementLoadSuccessDataAction").actionType:case c("AdsCanvasElementCreateSuccessDataAction").actionType:case c("AdsCanvasElementSaveSuccessDataAction").actionType:s=q.elementID;r=q.canvasElement;o=this.__handleOne(o,s,r);return this.__handleOne(o,s+k,r);case c("AdsCanvasElementLoadErrorDataAction").actionType:s=q.elementID;w=q.error;return this.__handleOne(o,s,w);case c("AdsCanvasDocumentRefreshDataAction").actionType:t=q.elementIDs;o=this.__setEmptyAndLoading(o,t);t.some(function(x){return c("AdsCanvasElementDataDispatcher").getElement(x)});return o;case c("AdsCanvasElementUpdateDataAction").actionType:s=q.elementID;r=q.canvasElement;this.get(s)!=null&&this.get(s).hasValue()||h(0);return this.__handleOne(o,s,r);case c("AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataAction").actionType:return this.$AdsCanvasElementStore1(o,q);case c("AdsCanvasInlineBuilderShowProductTaggingOverlayDataAction").actionType:return this.$AdsCanvasElementStore2(o,q);case c("AdsCanvasElementSwitchButtonPositionDataAction").actionType:case c("AdsCanvasElementSwitchElementTypeDataAction").actionType:case c("AdsCanvasElementSwitchMediaElementTypeDataAction").actionType:s=q.elementID;r=q.canvasElement;return this.__handleOne(o,s,r);case c("AdsCanvasElementDeleteDataAction").actionType:s=q.elementID;return this.__setEmpty(o,l([s]));case c("AdsUEditorAdgroupSetCanvasDocumentDataAction").actionType:t=q.elementIDs;if(t){o=this.__setEmptyAndLoading(o,t);this.__loadAll(t)}return o;case c("AdsCanvasBuilderSelectTemplateDataAction").actionType:case c("AdsCanvasInlineTransformCanvasDataAction").actionType:case c("AdsCanvasEnableMultiTabCanvasDataAction").actionType:case c("AdsCanvasElementMultiUpdateDataAction").actionType:case c("AddCanvasAddCanvasDataAction").actionType:v=q.elements;v.map(function(x){o=this.__handleOne(o,x.id,x)}.bind(this));return o;case c("AdsCanvasResetCanvasDataAction").actionType:t=q.elementIDs;t.map(function(s){if(!c("CanvasDataUtils").isNewElementID(s)){var x=this.get(s+k).getValueEnforcing();o=this.__handleOne(o,s,x)}}.bind(this));return o;default:return o}};n.prototype.getElementList=function(o){return o.map(function(p){return this.get(p)}.bind(this))};n.prototype.__load=function(o){c("AdsCanvasElementDataDispatcher").getElement(o)};n.prototype.$AdsCanvasElementStore1=function(o,p){var q=p.photoElementID,r=p.productID,s=p.coordinates,t=this.get(q);t!=null&&t.hasValue()||h(0);var u=t.getValueEnforcing(),v=u.get("productTags"),w=c("nullthrows")(v).findIndex(function(y){return y.productID===r});w!==-1||h(0);v=v.updateIn([w],function(y){return y.set("coordinates",s)});var x=u.set("productTags",v);return this.__handleOne(o,q,x)};n.prototype.$AdsCanvasElementStore2=function(o,p){var q=p.photoElementID,r=p.productID,s=this.get(q);s!=null&&s.hasValue()||h(0);var t=s.getValueEnforcing(),u=t.get("productTags"),v=c("nullthrows")(u).findIndex(function(x){return x.productID===r});v!==-1||h(0);var w=t.set("currentItemIndex",v);return this.__handleOne(o,q,w)};f.exports=new n(c("AdsDataAtom"))}),null);
__d("AdsCanvasDocumentDataDispatcher",["Promise","AdsCanvasDefaultNewDocumentID","AdsCanvasDocument","AdsCanvasDocumentCreateErrorDataAction","AdsCanvasDocumentCreateSuccessDataAction","AdsCanvasDocumentDataLoader","AdsCanvasDocumentDuplicateErrorDataAction","AdsCanvasDocumentDuplicateSuccessDataAction","AdsCanvasDocumentLoadErrorDataAction","AdsCanvasDocumentLoadSuccessDataAction","AdsCanvasDocumentSaveDynamicCanvasErrorDataAction","AdsCanvasDocumentSaveErrorDataAction","AdsCanvasDocumentSaveSuccessDataAction","AdsCanvasElementDataDispatcher","AdsCanvasElementStore","AdsCanvasInlineBuilderUtils","CanvasDataUtils","immutable","RichMediaElementTypeConstant","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").List,i=c("RichMediaElementTypeConstant").RichMediaElementTypes;j.prototype.getDocument=function(k){c("AdsCanvasDocumentDataLoader").getDocument(k).done(function(l){var m=c("AdsCanvasDocument").fromAPI(l);c("AdsCanvasDocumentLoadSuccessDataAction").dispatch({canvasDocument:m,canvasID:k})},function(l){c("AdsCanvasDocumentLoadErrorDataAction").dispatch({canvasID:k,error:l})})};j.prototype.saveDocument=function(k,l,m,n){c("AdsCanvasElementDataDispatcher").saveElements(l,m).done(function(o){var p=function p(q){n(q.toOldAPI())};k=k.setElements(h(o));if(c("CanvasDataUtils").isNewDocument(k))this.createDocument(k,m,false).done(p);else this.updateDocument(k,false,false).done(p)}.bind(this))};j.prototype.saveInlineDocument=function(k,l,m,n,o,p,q,r){c("AdsCanvasElementDataDispatcher").saveElements(l,n).done(function(s){var t=function t(v){o(v.id,m,!!m)},u=function u(v){return p(v)};k=k.setElements(h(s));if(c("CanvasDataUtils").isNewDocument(k))this.createDocument(k,n,false).done(t,u);else this.updateDocument(k,false,false,q,r).done(t,u)}.bind(this))};j.prototype.saveAllInlineDocuments=function(k,l,m,n,o,p,q,r){__p&&__p();c("Promise").all(k.map(function(s,t){return c("AdsCanvasElementDataDispatcher").saveElements(l.get(t),n).then(function(u){s=s.setElements(h(u));if(c("CanvasDataUtils").isNewDocument(s))return this.createDocument(s,n,true,false);return this.updateDocument(s,false,true,q,r,false)}.bind(this),function(u){c("AdsCanvasDocumentSaveDynamicCanvasErrorDataAction").dispatch({error:u});throw new Error(u)})}.bind(this)).toArray()).then(function(k){return c("AdsCanvasDocumentDataLoader").createDynamicDocument(k.map(function(s){return s.id}),n)},function(s){c("AdsCanvasDocumentSaveDynamicCanvasErrorDataAction").dispatch({error:s});throw new Error(s)}).then(function(s){var t=s.id;return c("AdsCanvasDocumentDataLoader").getDocument(t)},function(s){c("AdsCanvasDocumentSaveDynamicCanvasErrorDataAction").dispatch({error:s});throw new Error(s)}).done(function(s){var t=c("AdsCanvasDocument").fromAPI(s);c("AdsCanvasDocumentLoadSuccessDataAction").dispatch({canvasDocument:t,canvasID:t.id});o(t.id,c("nullthrows")(t.dynamicSetting).productSetID,t.useRetailerItemIDs)},function(s){c("AdsCanvasDocumentSaveDynamicCanvasErrorDataAction").dispatch({error:s});throw new Error(s)})};j.prototype.publishDocument=function(k,l,m){k=k.set("isPublished",true);c("AdsCanvasDocumentDataLoader").getLinkedCanvases(k.id).done(function(n){var o=n.linked_documents.filter(function(q){return!q.is_published}),p=function p(q){m(q.toOldAPI(),o)};this.updateDocument(k,true,false).done(p)}.bind(this))};j.prototype.createDocument=function(k,l,m){var n=arguments.length<=3||arguments[3]===undefined?true:arguments[3];return c("AdsCanvasDocumentDataLoader").createDocument(k,l,m).then(function(o){k=k.set("id",o.id);c("AdsCanvasDocumentCreateSuccessDataAction").dispatch({canvasDocument:k,canvasID:o.id,setSavedState:n});return k},function(o){c("AdsCanvasDocumentCreateErrorDataAction").dispatch({canvasID:k.getID(),error:o});throw new Error(o)})};j.prototype.updateDocument=function(k,l,m,n,o){var p=arguments.length<=5||arguments[5]===undefined?true:arguments[5];return c("AdsCanvasDocumentDataLoader").updateDocument(k,l,m).then(function(q){c("AdsCanvasDocumentSaveSuccessDataAction").dispatch({canvasDocument:k,canvasID:k.getID(),adgroupIDs:n,hostID:o,setSavedState:p});return k},function(q){c("AdsCanvasDocumentSaveErrorDataAction").dispatch({canvasID:k.getID(),error:q});throw new Error(q)})};j.prototype.duplicateDocument=function(k,l,m,n){__p&&__p();var o=k.id;k=k.set("id",c("AdsCanvasDefaultNewDocumentID")).set("isPublished",false);l=l.map(function(p,q){return c("AdsCanvasInlineBuilderUtils").scrapIDFromElement(p,q)});c("Promise").all(l.map(function(p){return c("AdsCanvasElementDataDispatcher").saveElement(p,m)}).toArray()).done(function(p){k=k.setElements(h(p));c("AdsCanvasDocumentDataLoader").createDocument(k,m,false).done(function(q){var r=q.id;k=k.set("id",r);c("AdsCanvasDocumentDuplicateSuccessDataAction").dispatch({canvasDocument:k,canvasID:q.id,parentCanvasID:o});var s=p.find(function(u){return u.elementType===i.ELEMENT_GROUP}),t=s?c("AdsCanvasElementStore").get(s.id).getValue():null;n(k.toOldAPI(),t)},function(q){c("AdsCanvasDocumentDuplicateErrorDataAction").dispatch({canvasID:k.getID(),error:q})})})};function j(){}f.exports=new j()}),null);
__d("AdsCanvasPageDataLoader",["AdsCanvasConstants","AdsGraphAPI","GraphAPIFieldUtils","GraphSort"],(function a(b,c,d,e,f,g){"use strict";var h=["cover","id","name","hours","location","picture"];i.prototype.getPageWithLocations=function(j){return c("AdsGraphAPI").get(f.id).object("page",j).get({fields:[].concat(h,[c("GraphAPIFieldUtils").getFieldWithSubfields("locations.limit(10)",h)])})};i.prototype.getPageCanvasInfo=function(j){return c("AdsGraphAPI").get(f.id).object("page",j).edge("rich_media_documents").get({fields:["id","name","is_published","update_time"],limit:c("AdsCanvasConstants").ADS_CANVAS_LIBRARY_DOC_MAX,sort:"date"+c("GraphSort").DESC,summary:true})};function i(){}f.exports=new i()}),null);
__d("AdsRichMediaEditorLoadPageCanvasDocsBasicInfoErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RichMediaEditor.LOAD_PAGE_CANVAS_DOCS_BASIC_INFO_ERROR");f.exports=h}),null);
__d("AdsRichMediaEditorLoadPageCanvasDocsBasicInfoSuccessDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RichMediaEditor.LOAD_PAGE_CANVAS_DOCS_BASIC_INFO_SUCCESS");f.exports=h}),null);
__d("AdsRichMediaEditorLoadPageLocationsErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RichMediaEditor.LOAD_PAGE_LOCATIONS_ERROR");f.exports=h}),null);
__d("AdsRichMediaEditorLoadPageLocationsSuccessDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RichMediaEditor.LOAD_PAGE_LOCATIONS_SUCCESS");f.exports=h}),null);
__d("AdsCanvasPageDataDispatcher",["AdsCanvasPageDataLoader","AdsRichMediaEditorLoadPageCanvasDocsBasicInfoErrorDataAction","AdsRichMediaEditorLoadPageCanvasDocsBasicInfoSuccessDataAction","AdsRichMediaEditorLoadPageLocationsErrorDataAction","AdsRichMediaEditorLoadPageLocationsSuccessDataAction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();h.prototype.getPageWithLocations=function(i){c("AdsCanvasPageDataLoader").getPageWithLocations(i).done(function(j){c("AdsRichMediaEditorLoadPageLocationsSuccessDataAction").dispatch({page:j})},function(j){c("AdsRichMediaEditorLoadPageLocationsErrorDataAction").dispatch({pageID:i,error:j})})};h.prototype.getPageCanvasInfo=function(i){c("AdsCanvasPageDataLoader").getPageCanvasInfo(i).done(function(j){var k=j.data;c("AdsRichMediaEditorLoadPageCanvasDocsBasicInfoSuccessDataAction").dispatch({pageID:i,pageCanvasBasicInfo:k})},function(j){c("AdsRichMediaEditorLoadPageCanvasDocsBasicInfoErrorDataAction").dispatch({pageID:i,error:j})})};function h(){}f.exports=new h()}),null);
__d("AdsCanvasProductDataLoader",["AdsGraphAPI","HotelGraphApiFields","ProductItemGraphApiFields"],(function a(b,c,d,e,f,g){"use strict";var h=[c("ProductItemGraphApiFields").ID,c("ProductItemGraphApiFields").IMAGE_URL,c("ProductItemGraphApiFields").NAME,c("ProductItemGraphApiFields").PRICE],i=[c("HotelGraphApiFields").ID,c("HotelGraphApiFields").IMAGES,c("HotelGraphApiFields").LOWEST_BASE_PRICE,c("HotelGraphApiFields").NAME];j.prototype.getCommerceProduct=function(k){return c("AdsGraphAPI").get(f.id).object("product_item",k).get({fields:h})};j.prototype.getHotelProduct=function(k){return c("AdsGraphAPI").get(f.id).object("hotel",k).get({fields:i})};function j(){}f.exports=new j()}),null);
__d("AdsCanvasProductLoadErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"PRODUCT.LOAD_ERROR");f.exports=h}),null);
__d("AdsCanvasProductLoadSuccessDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"PRODUCT.LOAD_SUCCESS");f.exports=h}),null);
__d("AdsCanvasProductDataDispatcher",["AdsCanvasProductDataLoader","AdsCanvasProductLoadErrorDataAction","AdsCanvasProductLoadSuccessDataAction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();h.prototype.getProduct=function(i){c("AdsCanvasProductDataLoader").getCommerceProduct(i).done(function(j){var k={id:j.id,imgSource:j.image_url,name:j.name,price:j.price};c("AdsCanvasProductLoadSuccessDataAction").dispatch({product:k})},function(j){c("AdsCanvasProductLoadErrorDataAction").dispatch({productID:i,error:j})})};h.prototype.getHotel=function(i){c("AdsCanvasProductDataLoader").getHotelProduct(i).done(function(j){var k="/images/ads/common/place_holder_image_600x600.png";if(j.images instanceof Array&&j.images.length>0&&JSON.parse(j.images[0])&&JSON.parse(j.images[0]).url)k=JSON.parse(j.images[0]).url;var l={id:j.id,imgSource:k,name:j.name,price:j.lowest_base_price};c("AdsCanvasProductLoadSuccessDataAction").dispatch({product:l})},function(j){c("AdsCanvasProductLoadErrorDataAction").dispatch({})})};function h(){}f.exports=new h()}),null);
__d("AdsRichMediaEditorLoadPageDataErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RichMediaEditor.LOAD_PAGE_DATA_ERROR");f.exports=h}),null);
__d("AdsRichMediaEditorLoadPageDataSuccessDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RichMediaEditor.LOAD_PAGE_DATA_SUCCESS");f.exports=h}),null);
__d("XCanvasAdsUtilsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ads/canvas/pageconfig/",{page_id:{type:"String",required:true}})}),null);
__d("RichMediaEditorDataLoader",["AdsGraphAPI","AsyncRequest","XCanvasAdsUtilsController"],(function a(b,c,d,e,f,g){"use strict";var h={getCanvasPageData:function i(j){var k=c("XCanvasAdsUtilsController").getURIBuilder().setString("page_id",j).getURI();return new(c("AsyncRequest"))().setURI(k).exec()},createCanvas:function i(j,k){delete j.id;return c("AdsGraphAPI").get(f.id).object("page",k).edge("rich_media_documents").post(babelHelpers["extends"]({},j,{owner_id:k}))},updateCanvas:function i(j){return c("AdsGraphAPI").get(f.id).object("rich_media_document",j.id).post(j)}};f.exports=h}),null);
__d("RichMediaEditorDataDispatcher",["AdsRichMediaEditorLoadPageDataErrorDataAction","AdsRichMediaEditorLoadPageDataSuccessDataAction","RichMediaEditorDataLoader"],(function a(b,c,d,e,f,g){"use strict";var h={getCanvasPageData:function i(j,k,l){c("RichMediaEditorDataLoader").getCanvasPageData(j).then(function(m){var n=m.getPayload(),o=n.page_canvas_count,p=n.page_published_canvas_count;c("AdsRichMediaEditorLoadPageDataSuccessDataAction").dispatch({funnelLogger:l,logger:k,pageCanvasCount:o,pagePublishedCanvasCount:p})})["catch"](function(m){c("AdsRichMediaEditorLoadPageDataErrorDataAction").dispatch({funnelLogger:l,logger:k})}).done()}};f.exports=h}),null);
__d("InstantShoppingSequenceEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:InstantShoppingSequenceEventsLoggerConfig",this.$InstantShoppingSequenceEventsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:InstantShoppingSequenceEventsLoggerConfig",this.$InstantShoppingSequenceEventsTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$InstantShoppingSequenceEventsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$InstantShoppingSequenceEventsTypedLogger1=babelHelpers["extends"]({},this.$InstantShoppingSequenceEventsTypedLogger1,j);return this};h.prototype.setActionType=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.action_type=j;return this};h.prototype.setActionURL=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.action_url=j;return this};h.prototype.setAdAccountID=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.ad_account_id=j;return this};h.prototype.setAdID=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.ad_id=j;return this};h.prototype.setAdProductTypesName=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.ad_product_types_name=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setBrowserMetricsJoinKey=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.browser_metrics_join_key=j;return this};h.prototype.setCanvasID=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.canvas_id=j;return this};h.prototype.setCanvasMutedOnClose=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.canvas_muted_on_close=j;return this};h.prototype.setCanvasScreenViewPercent=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.canvas_screen_view_percent=j;return this};h.prototype.setCanvasViewPercent=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.canvas_view_percent=j;return this};h.prototype.setCanvasViewTime=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.canvas_view_time=j;return this};h.prototype.setCatalogContentCached=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.catalog_content_cached=j;return this};h.prototype.setCatalogDownloadTime=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.catalog_download_time=j;return this};h.prototype.setCatalogID=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.catalog_id=j;return this};h.prototype.setCatalogRenderTime=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.catalog_render_time=j;return this};h.prototype.setChildElementsViewed=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.child_elements_viewed=j;return this};h.prototype.setClickSource=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.click_source=j;return this};h.prototype.setClientTime=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.client_time=j;return this};h.prototype.setCloseReason=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.close_reason=j;return this};h.prototype.setComponentDwellTime=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.component_dwell_time=j;return this};h.prototype.setComponentHeights=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.component_heights=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setComponentID=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.component_id=j;return this};h.prototype.setDidTapColor=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.did_tap_color=j;return this};h.prototype.setDidTilt=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.did_tilt=j;return this};h.prototype.setDocumentView=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.document_view=j;return this};h.prototype.setElementClick=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.element_click=j;return this};h.prototype.setElementDescription=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.element_description=j;return this};h.prototype.setElementDwellTimeRaw=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.element_dwell_time_raw=j;return this};h.prototype.setElementText=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.element_text=j;return this};h.prototype.setElementTitle=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.element_title=j;return this};h.prototype.setElementType=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.element_type=j;return this};h.prototype.setElementsSeen=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.elements_seen=j;return this};h.prototype.setEntryPoint=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.entry_point=j;return this};h.prototype.setEventName=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.event_name=j;return this};h.prototype.setExpand=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.expand=j;return this};h.prototype.setFeedUnitMediaType=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.feed_unit_media_type=j;return this};h.prototype.setFeedUnitVideoMuted=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.feed_unit_video_muted=j;return this};h.prototype.setHasAudio=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.has_audio=j;return this};h.prototype.setHasAudioOnFirstScreen=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.has_audio_on_first_screen=j;return this};h.prototype.setIconIsFilled=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.icon_is_filled=j;return this};h.prototype.setImpressionViewPercent=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.impression_view_percent=j;return this};h.prototype.setIsEmployee=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.is_employee=j;return this};h.prototype.setIsLegal=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.is_legal=j;return this};h.prototype.setIsP2=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.is_p2=j;return this};h.prototype.setIsReload=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.is_reload=j;return this};h.prototype.setIsSwipeToOpen=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.is_swipe_to_open=j;return this};h.prototype.setIsTestUser=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.is_test_user=j;return this};h.prototype.setIsVideo=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.is_video=j;return this};h.prototype.setLinkOpenTime=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.link_open_time=j;return this};h.prototype.setLoadTime=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.load_time=j;return this};h.prototype.setLoggingPushPhase=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.logging_push_phase=j;return this};h.prototype.setMutedOnClose=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.muted_on_close=j;return this};h.prototype.setMutedOnOpen=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.muted_on_open=j;return this};h.prototype.setNavigationTabIndex=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.navigation_tab_index=j;return this};h.prototype.setNumProducts=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.num_products=j;return this};h.prototype.setPlacement=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.placement=j;return this};h.prototype.setPostClickValueFlag=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.post_click_value_flag=j;return this};h.prototype.setProductID=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.product_id=j;return this};h.prototype.setProductPosition=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.product_position=j;return this};h.prototype.setProductSetVerticalName=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.product_set_vertical_name=j;return this};h.prototype.setRef=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.ref=j;return this};h.prototype.setRenderingPushPhase=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.rendering_push_phase=j;return this};h.prototype.setSaved=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.saved=j;return this};h.prototype.setScrollViewHeight=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.scroll_view_height=j;return this};h.prototype.setSessionID=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.session_id=j;return this};h.prototype.setShareActionType=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.share_action_type=j;return this};h.prototype.setSlideshowIndex=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.slideshow_index=j;return this};h.prototype.setSubattachmentIndex=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.subattachment_index=j;return this};h.prototype.setSubstoryIndex=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.substory_index=j;return this};h.prototype.setSwipeProductCard=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.swipe_product_card=j;return this};h.prototype.setSwipeToOpenViewTime=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.swipe_to_open_view_time=j;return this};h.prototype.setTapOnProductCard=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.tap_on_product_card=j;return this};h.prototype.setTapOnTouchTarget=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.tap_on_touch_target=j;return this};h.prototype.setTemplateName=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.template_name=j;return this};h.prototype.setTotalHeightViewed=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.total_height_viewed=j;return this};h.prototype.setTti=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.tti=j;return this};h.prototype.setVC=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.vc=j;return this};h.prototype.setViewTime=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.view_time=j;return this};h.prototype.setVolumeOnClose=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.volume_on_close=j;return this};h.prototype.setVolumeOnOpen=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.volume_on_open=j;return this};var i={action_type:true,action_url:true,ad_account_id:true,ad_id:true,ad_product_types_name:true,browser_metrics_join_key:true,canvas_id:true,canvas_muted_on_close:true,canvas_screen_view_percent:true,canvas_view_percent:true,canvas_view_time:true,catalog_content_cached:true,catalog_download_time:true,catalog_id:true,catalog_render_time:true,child_elements_viewed:true,click_source:true,client_time:true,close_reason:true,component_dwell_time:true,component_heights:true,component_id:true,did_tap_color:true,did_tilt:true,document_view:true,element_click:true,element_description:true,element_dwell_time_raw:true,element_text:true,element_title:true,element_type:true,elements_seen:true,entry_point:true,event_name:true,expand:true,feed_unit_media_type:true,feed_unit_video_muted:true,has_audio:true,has_audio_on_first_screen:true,icon_is_filled:true,impression_view_percent:true,is_employee:true,is_legal:true,is_p2:true,is_reload:true,is_swipe_to_open:true,is_test_user:true,is_video:true,link_open_time:true,load_time:true,logging_push_phase:true,muted_on_close:true,muted_on_open:true,navigation_tab_index:true,num_products:true,placement:true,post_click_value_flag:true,product_id:true,product_position:true,product_set_vertical_name:true,ref:true,rendering_push_phase:true,saved:true,scroll_view_height:true,session_id:true,share_action_type:true,slideshow_index:true,subattachment_index:true,substory_index:true,swipe_product_card:true,swipe_to_open_view_time:true,tap_on_product_card:true,tap_on_touch_target:true,template_name:true,total_height_viewed:true,tti:true,vc:true,view_time:true,volume_on_close:true,volume_on_open:true};f.exports=h}),null);
__d("AdsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlay.react",["cx","immutable","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("immutable").List;function j(l){return c("React").createElement("div",{className:"_oz4"},l.productTags.map(function(m,n){if(!m.coordinates||l.activeProductID!=null&&m.productID!=l.activeProductID)return null;var o=m.coordinates;return c("React").createElement("div",{key:n},c("React").createElement(k,{left:o.get("x")*100+"%",top:o.get("y")*100+"%"}))}).toArray())}function k(l){return c("React").createElement("div",{className:"_oz7",style:{top:l.top,left:l.left}})}f.exports=j}),null);
__d("AdsCanvasDisableMultiTabCanvasDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CANVAS.DISABLE_MULTI_TAB_CANVAS");f.exports=h}),null);
__d("AdsFullscreenExperienceRadioTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirror")({CANVAS:true,PLAYABLE:true})}),null);
__d("AdsCanvasInlineUIRecord",["AdsFullscreenExperienceRadioTypes","immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({canvasID:"",inlineTab:"create",fullscreenExperience:c("AdsFullscreenExperienceRadioTypes").CANVAS,productTaggingOverlayPhotoElementID:undefined,productTaggingOverlayProductID:null,showInlineModal:false,templateID:undefined});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("AdsCanvasInlineUIStore",["AdsCanvasDisableMultiTabCanvasDataAction","AdsCanvasElementUpdateDataAction","AdsCanvasInlineBuilderHideProductTaggingOverlayDataAction","AdsCanvasInlineBuilderRemoveInlineCanvasDataAction","AdsCanvasInlineBuilderShowInlineModalDataAction","AdsCanvasInlineBuilderShowProductTaggingOverlayDataAction","AdsCanvasInlineBuilderSwitchInlineTabsDataAction","AdsCanvasInlineUIRecord","AdsCFVideoMediaTypeSelectedDataAction","AdsDataAtom","AdsFullscreenExperienceRadioToggleDataAction","AdsFullscreenExperienceRadioTypes","AdsUEditorAdgroupSetCanvasDocumentDataAction","FluxReduceStore","adsCreateStoreSelector"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k;h=babelHelpers.inherits(l,c("AdsCanvasInlineUIRecord"));i=h&&h.prototype;function l(){h.apply(this,arguments)}j=babelHelpers.inherits(m,c("FluxReduceStore"));k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.getInlineTab=c("adsCreateStoreSelector")([this],function(){return this.getState().get("inlineTab")}.bind(this),f.id),this.getTemplateID=c("adsCreateStoreSelector")([this],function(){return this.getState().get("templateID")}.bind(this),f.id),o}m.prototype.getInitialState=function(){return new l()};m.prototype.reduce=function(n,o){__p&&__p();var p=o.action;switch(p.type){case c("AdsCanvasInlineBuilderRemoveInlineCanvasDataAction").actionType:return n.set("canvasID",null).set("templateID",null);case c("AdsCanvasInlineBuilderShowInlineModalDataAction").actionType:return n.set("showInlineModal",p.showModal).set("canvasID",p.canvasID).set("templateID",p.templateID);case c("AdsCanvasInlineBuilderSwitchInlineTabsDataAction").actionType:return n.set("inlineTab",p.tab);case c("AdsUEditorAdgroupSetCanvasDocumentDataAction").actionType:return n.set("showInlineModal",false);case c("AdsCanvasElementUpdateDataAction").actionType:var q=p.elementID,r=p.canvasElement;if(q===n.get("productTaggingOverlayPhotoElementID")&&r.get("productTags")!=null&&r.get("productTags").size===0)return n.set("productTaggingOverlayPhotoElementID",null).set("productTaggingOverlayProductID",null);return n;case c("AdsCanvasInlineBuilderShowProductTaggingOverlayDataAction").actionType:return n.set("productTaggingOverlayPhotoElementID",p.photoElementID).set("productTaggingOverlayProductID",p.productID);case c("AdsCanvasInlineBuilderHideProductTaggingOverlayDataAction").actionType:return n.set("productTaggingOverlayPhotoElementID",null).set("productTaggingOverlayProductID",null);case c("AdsFullscreenExperienceRadioToggleDataAction").actionType:return n.set("fullscreenExperience",p.selectedOption);case c("AdsCFVideoMediaTypeSelectedDataAction").actionType:return n.set("fullscreenExperience",c("AdsFullscreenExperienceRadioTypes").CANVAS);default:return n}};m.prototype.getShowInlineModal=function(){return this.getState().get("showInlineModal")};m.prototype.getCanvasID=function(){return this.getState().get("canvasID")};m.prototype.getFullscreenExperience=function(){return this.getState().get("fullscreenExperience")};m.prototype.getProductTaggingOverlayPhotoElementID=function(){return this.getState().get("productTaggingOverlayPhotoElementID")};m.prototype.getProductTaggingOverlayProductID=function(){return this.getState().get("productTaggingOverlayProductID")};f.exports=new m(c("AdsDataAtom"))}),null);
__d("adsCanvasEditorProductTaggingUIStateSelector",["AdsCanvasInlineUIStore","adsCreateStoreSelector","nullthrows"],(function a(b,c,d,e,f,g){"use strict";var h=c("adsCreateStoreSelector")([c("AdsCanvasInlineUIStore")],function(i){var j=c("AdsCanvasInlineUIStore").getProductTaggingOverlayPhotoElementID();if(j!==i)return{shown:false};return{shown:true,productID:c("nullthrows")(c("AdsCanvasInlineUIStore").getProductTaggingOverlayProductID())}},f.id+".selector");f.exports=h}),null);
__d("adsCanvasElementSelector",["AdsCanvasElementStore","adsCreateStoreSelector"],(function a(b,c,d,e,f,g){"use strict";var h=c("adsCreateStoreSelector")([c("AdsCanvasElementStore")],function(i){return c("AdsCanvasElementStore").get(i)},f.id+".selector");f.exports=h}),null);
__d("adsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlaySelector",["invariant","AdsCanvasPhotoElement","immutable","adsCanvasEditorProductTaggingUIStateSelector","adsCanvasElementSelector","adsCreateStoreSelector","getByPath"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("immutable").List,j=c("adsCreateStoreSelector")([].concat(c("adsCanvasEditorProductTaggingUIStateSelector").getStores(),c("adsCanvasElementSelector").getStores()),function(k){var l=c("adsCanvasElementSelector")(k);if(!l.hasValue())return{isReady:false};var m=l.getValueEnforcing();m instanceof c("AdsCanvasPhotoElement")||h(0);var n=c("adsCanvasEditorProductTaggingUIStateSelector")(k);return{isReady:true,productTags:m.productTags?m.productTags:i(),activeProductID:c("getByPath")(n,["productID"])}},f.id+".selector");f.exports=j}),null);
__d("AdsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlayContainer.react",["AdsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlay.react","AdsFluxContainer","React","adsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlaySelector"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return c("adsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlaySelector").getStores()};j.calculateState=function(k,l){return c("adsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlaySelector")(l.photoElementID)};j.prototype.render=function(){if(!this.state.isReady)return null;return c("React").createElement(c("AdsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlay.react"),{activeProductID:this.state.activeProductID,height:this.props.height,productTags:this.state.productTags,width:this.props.width})};function j(){h.apply(this,arguments)}f.exports=c("AdsFluxContainer").create(j,{withProps:true,name:f.id})}),null);
__d("AdsCanvasPreviewPhotoElementProductTaggingOverlay.react",["ix","cx","fbt","AdsFBIconDownsized.react","BIGAdoptionConfig","Image.react","immutable","React","SUIText.react","asset","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("immutable").Map;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$AdsCanvasPreviewPhotoElementProductTaggingOverlay1=function(t){var u=t.nativeEvent,v=u.offsetX,w=u.offsetY,x=this.refs["tagging-overlay"],y=x.offsetHeight,z=x.offsetWidth;this.props.onSetCoordinates(m({x:v/z,y:w/y}))}.bind(this),this.$AdsCanvasPreviewPhotoElementProductTaggingOverlay2=function(t){t.stopPropagation();this.props.onDone()}.bind(this),this.$AdsCanvasPreviewPhotoElementProductTaggingOverlay3=function(t){t.stopPropagation();this.props.onSetCoordinates(null)}.bind(this),p}n.prototype.render=function(){var o=this.props.hasCoordinates?j._("Click on the photo to update the tag"):j._("Click on the photo to add a tag"),p=this.props.hasCoordinates?c("React").createElement("div",{role:"link",tabIndex:0,onClick:this.$AdsCanvasPreviewPhotoElementProductTaggingOverlay3},c("React").createElement(c("Image.react"),{className:"_1uaf",src:h("319342")}),c("React").createElement(c("SUIText.react"),{className:"_4651",color:"white",weight:"bold"},j._("Remove Tag"))):null;return c("React").createElement("div",{className:"_464-",ref:"tagging-overlay",role:"link",tabIndex:0,onClick:this.$AdsCanvasPreviewPhotoElementProductTaggingOverlay1},c("React").createElement("div",{className:"_464_"},c("React").createElement("div",{className:"_4650"},c("React").createElement(c("AdsFBIconDownsized.react"),{className:"_1uag",src:c("BIGAdoptionConfig").ads_fbicon_adoption?h("376588"):h("274453")}),c("React").createElement(c("SUIText.react"),{className:"_4651",shade:"white"},o)),p,c("React").createElement("div",{role:"link",tabIndex:0,onClick:this.$AdsCanvasPreviewPhotoElementProductTaggingOverlay2},c("React").createElement(c("SUIText.react"),{className:"_4651",color:"white",weight:"bold"},j._("Done")))))};f.exports=n}),null);
__d("adsCanvasEditorProductTaggingTokenizerTokenTagButtonSelector",["invariant","AdsCanvasPhotoElement","adsCanvasElementSelector","adsCreateStoreSelector","nullthrows"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("adsCreateStoreSelector")([].concat(c("adsCanvasElementSelector").getStores()),function(j){__p&&__p();var k=j.photoElementID,l=j.productID,m=c("adsCanvasElementSelector")(k);if(!m.hasValue())return{isReady:false};var n=m.getValueEnforcing();n instanceof c("AdsCanvasPhotoElement")||h(0);n.productTags!=null||h(0);var o=c("nullthrows")(n.productTags).find(function(o){return o.productID===l});o!=null||h(0);return{isReady:true,actived:o.coordinates!=null}},f.id+".selector");f.exports=i}),null);
__d("adsCanvasPreviewPhotoElementProductTaggingSelector",["adsCanvasEditorProductTaggingTokenizerTokenTagButtonSelector","adsCanvasEditorProductTaggingUIStateSelector","adsCreateStoreSelector"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("adsCreateStoreSelector")([].concat(c("adsCanvasEditorProductTaggingTokenizerTokenTagButtonSelector").getStores(),c("adsCanvasEditorProductTaggingUIStateSelector").getStores()),function(i){var j=c("adsCanvasEditorProductTaggingUIStateSelector")(i);if(!j.shown)return{shown:false};var k=c("adsCanvasEditorProductTaggingTokenizerTokenTagButtonSelector")({photoElementID:i,productID:j.productID});if(!k.isReady)return{shown:false};return{hasCoordinates:k.actived,productID:j.productID,shown:true}},f.id+".selector");f.exports=h}),null);
__d("AdsCanvasPreviewPhotoElementProductTaggingOverlayContainer.react",["invariant","AdsCanvasInlineBuilderActions","AdsCanvasPreviewPhotoElementProductTaggingOverlay.react","AdsFluxContainer","React","adsCanvasPreviewPhotoElementProductTaggingSelector"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$AdsCanvasPreviewPhotoElementProductTaggingOverlayContainer2=function(q){this.state.productID!=null||h(0);c("AdsCanvasInlineBuilderActions").setProductTaggingCoordinates(this.props.photoElementID,this.state.productID,q)}.bind(this),m}k.getStores=function(){return c("adsCanvasPreviewPhotoElementProductTaggingSelector").getStores()};k.calculateState=function(l,m){return c("adsCanvasPreviewPhotoElementProductTaggingSelector")(m.photoElementID)};k.prototype.render=function(){if(!this.state.shown)return null;return c("React").createElement(c("AdsCanvasPreviewPhotoElementProductTaggingOverlay.react"),{hasCoordinates:this.state.hasCoordinates,onDone:this.$AdsCanvasPreviewPhotoElementProductTaggingOverlayContainer1,onSetCoordinates:this.$AdsCanvasPreviewPhotoElementProductTaggingOverlayContainer2})};k.prototype.$AdsCanvasPreviewPhotoElementProductTaggingOverlayContainer1=function(){c("AdsCanvasInlineBuilderActions").hideProductTaggingOverlay()};f.exports=c("AdsFluxContainer").create(k,{withProps:true,name:f.id})}),null);
__d("AdsCanvasPreviewCarouselSlider.react",["cx","React","ShimButton.react","getByPath","nullthrows"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.render=function(){var p=500,q=c("React").Children.count(this.props.children),r=-this.props.slideWidth*this.props.currentSlide;if(this.props.swipeOffset)r+=this.props.swipeOffset;var s={height:this.props.slideHeight,width:(q+2)*this.props.slideWidth,WebkitTransform:"translate3d("+r+"px, 0px, 0px)",transform:"translate3d("+r+"px, 0px, 0px)",msTransform:"translateX("+r+"px)",WebkitTransition:"-webkit-transform "+p+"ms ease",transition:"transform "+p+"ms ease"};if(!s.height)delete s.height;return c("React").createElement("div",{style:s},c("React").Children.map(this.props.children,function(t,u){return c("React").createElement("div",{key:u,style:{display:"inline-block",width:this.props.slideWidth,height:this.props.slideHeight,position:"relative"}},t)}.bind(this)))};function m(){i.apply(this,arguments)}function n(p){return c("React").createElement("ul",{className:"_se5"},p.children&&p.children.map(function(q,r){return c("React").createElement("li",{key:r},c("React").createElement(c("ShimButton.react"),{className:(p.showIndicator?"_se6":"")+(p.showIndicator&&!p.instagramPreview?" _5_dk":"")+(r===p.currentSlide&&!p.instagramPreview?" _seb":"")+(r!==p.currentSlide&&!p.instagramPreview?" _sed":"")+(r===p.currentSlide&&p.instagramPreview?" _5_dl":"")+(r!==p.currentSlide&&p.instagramPreview?" _5_dm":""),onClick:function s(q){return p.onChangeSlideHandler(r)}}))}))}k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(p){__p&&__p();l.constructor.call(this,p);this.$AdsCanvasPreviewCarouselSlider4=function(q){if(this.props.children&&q>=0&&q<this.props.children.length)this.setState({currentSlide:q})}.bind(this);this.$AdsCanvasPreviewCarouselSlider1=function(event){var q=this.$AdsCanvasPreviewCarouselSlider5(event),r=q.x,s=q.y;this.setState({dragging:true,touchObject:{startX:r,startY:s,curX:r,curY:s}})}.bind(this);this.$AdsCanvasPreviewCarouselSlider3=function(event){if(!this.state.dragging||!this.state.touchObject)return;var q=this.$AdsCanvasPreviewCarouselSlider5(event),r=q.x,s=q.y,t=c("nullthrows")(this.state.touchObject);t.curX=r;t.curY=s;this.setState({touchObject:t,swipeOffset:t.curX-t.startX});event.preventDefault()}.bind(this);this.$AdsCanvasPreviewCarouselSlider2=function(event){__p&&__p();if(!this.state.dragging||!this.state.touchObject)return;var q=50,r=this.state.currentSlide,s=this.state.touchObject;if(s.curX-s.startX>q)r--;else if(s.curX-s.startX<-q)r++;if(r<0)r=0;else if(this.props.children&&r>=this.props.children.length)r=this.props.children.length-1;this.setState({currentSlide:r,dragging:false,swipeOffset:0,touchObject:null})}.bind(this);this.state={currentSlide:this.props.currentItemIndex,dragging:false,swipeOffset:0,touchObject:null}}o.prototype.componentWillReceiveProps=function(p){this.setState({currentSlide:p.currentItemIndex})};o.prototype.render=function(){var p=!this.props.hideIndicator&&this.state.currentSlide<this.props.carouselLength-1,q=this.props.leftOffsetInMiddle&&this.state.currentSlide!==0,r=q?c("nullthrows")(this.props.leftOffsetInMiddle)+"px":0;return c("React").createElement("div",{style:{paddingLeft:r},onMouseDown:this.$AdsCanvasPreviewCarouselSlider1,onMouseLeave:this.state.dragging?this.$AdsCanvasPreviewCarouselSlider2:null,onMouseMove:this.state.dragging?this.$AdsCanvasPreviewCarouselSlider3:null,onMouseUp:this.$AdsCanvasPreviewCarouselSlider2},c("React").createElement(m,{currentSlide:this.state.currentSlide,slideHeight:this.props.slideHeight,slideWidth:this.props.slideWidth,swipeOffset:this.state.swipeOffset},this.props.children),c("React").createElement(n,{currentSlide:this.state.currentSlide,instagramPreview:this.props.instagramPreview,showIndicator:p,onChangeSlideHandler:this.$AdsCanvasPreviewCarouselSlider4},this.props.children))};o.prototype.$AdsCanvasPreviewCarouselSlider5=function(event){var p=c("getByPath")(event,["touches","0","pageX"]);if(p==null)p=event.clientX;var q=c("getByPath")(event,["touches","0","pageY"]);if(q==null)q=event.clientY;return{x:p,y:q}};f.exports=o}),null);
__d("AdsCanvasPreviewProductCard.react",["ix","cx","fbt","AdsFBIconDownsized.react","BIGAdoptionConfig","Image.react","React","SUIBusinessTheme","SUISpinner.react","SUIText.react","asset","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";function k(l){if(l.product.hasError())return c("React").createElement("div",{className:"_e6z"},c("React").createElement(c("SUIText.react"),{display:"block",weight:"bold"},j._("Cannot access this product")));if(!l.product.hasValue())return c("React").createElement("div",{className:"_e6z"},c("React").createElement("div",{className:"_3dye"},c("React").createElement(c("SUISpinner.react"),{theme:c("SUIBusinessTheme")})));var m=l.product.getValueEnforcing(),n=m.imgSource,o=m.name,p=m.price;return c("React").createElement("div",{className:"_e6z"},c("React").createElement(c("Image.react"),{className:"_e6-",height:"100",src:n,width:"100"}),c("React").createElement("div",{className:"_e6_"},c("React").createElement("div",{className:"_e73"},c("React").createElement(c("SUIText.react"),{className:"_3-94 ellipsis",display:"block",shade:"light",size:"medium_DEPRECATED"},o),l.hideProductPrices?null:c("React").createElement(c("SUIText.react"),{display:"block",size:"medium_DEPRECATED",weight:"bold"},p),c("React").createElement("div",{className:"_e74"},c("React").createElement("span",{className:"_e75"},c("React").createElement(c("AdsFBIconDownsized.react"),{className:"_3-8_",src:c("BIGAdoptionConfig").ads_fbicon_adoption?h("375614"):h("125172")}),c("React").createElement(c("SUIText.react"),{className:"_e76",shade:"light",size:"medium_DEPRECATED"},j._("Shop")))))))}f.exports=k}),null);
__d("AdsCanvasProductStore",["AdsCanvasProductDataDispatcher","AdsCanvasProductLoadErrorDataAction","AdsCanvasProductLoadSuccessDataAction","AdsDataAtom","FluxLoadObjectStore","LoadObject"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxLoadObjectStore"));i=h&&h.prototype;j.prototype.reduce=function(k,l){var m=l.action;switch(m.type){case c("AdsCanvasProductLoadSuccessDataAction").actionType:var n=m.product;return this.__handleOne(k,n.id,n);case c("AdsCanvasProductLoadErrorDataAction").actionType:var o=m.productID,p=m.error;return this.__handleOne(k,o,p);default:return k}};j.prototype.__load=function(k){c("AdsCanvasProductDataDispatcher").getProduct(k)};function j(){h.apply(this,arguments)}f.exports=new j(c("AdsDataAtom"))}),null);
__d("adsCanvasProductCardSelector",["AdsCanvasProductStore","adsCreateStoreSelector"],(function a(b,c,d,e,f,g){"use strict";var h=c("adsCreateStoreSelector")([c("AdsCanvasProductStore")],function(i){return c("AdsCanvasProductStore").get(i)},f.id+".selector");f.exports=h}),null);
__d("AdsCanvasPreviewProductCardContainer.react",["AdsCanvasPreviewProductCard.react","AdsFluxContainer","React","adsCanvasProductCardSelector"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return c("adsCanvasProductCardSelector").getStores()};j.calculateState=function(k,l){var m=c("adsCanvasProductCardSelector")(l.productID);return{product:m}};j.prototype.render=function(){return c("React").createElement(c("AdsCanvasPreviewProductCard.react"),{hideProductPrices:this.props.hideProductPrices,product:this.state.product})};function j(){h.apply(this,arguments)}f.exports=c("AdsFluxContainer").create(j,{withProps:true,name:f.id})}),null);
__d("AdsCanvasPreviewProductCardSlider.react",["cssVar","AdsCanvasPreviewCarouselSlider.react","AdsCanvasPreviewProductCardContainer.react","immutable","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("immutable").List;function j(k){var l=k.currentItemIndex,m=k.hideProductPrices,n=k.productTags;return c("React").createElement("div",{style:{paddingLeft:n.count()===1?"34px":0}},c("React").createElement(c("AdsCanvasPreviewCarouselSlider.react"),{carouselLength:n.count(),currentItemIndex:l==null||l>=n.count()?0:l,hideIndicator:true,leftOffsetInMiddle:24,slideHeight:parseInt("120px",10),slideWidth:350},n.map(function(o,p){return c("React").createElement("div",{key:p,style:{padding:"10px"}},c("React").createElement(c("AdsCanvasPreviewProductCardContainer.react"),{hideProductPrices:m,productID:o.productID}))}).toArray()))}f.exports=j}),null);
__d("AdsCanvasWebdriverIDs",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADD_COMPONENT_DIALOG_BUTTON_COMPONENT:"add-component-dialog-button",ADD_COMPONENT_DIALOG_CANCEL:"add-component-dialog-cancel",ADD_COMPONENT_DIALOG_CAROUSEL_COMPONENT:"add-component-dialog-carousel",ADD_COMPONENT_DIALOG_CONFIRM:"add-component-dialog-confirm",ADD_COMPONENT_DIALOG_DD_FB_TIPS_COMPONENT:"add-component-dialog-fb-tips",ADD_COMPONENT_DIALOG_HEADER_COMPONENT:"add-component-dialog-header",ADD_COMPONENT_DIALOG_OFFER_COMPONENT:"add-component-dialog-offer",ADD_COMPONENT_DIALOG_PHOTO_COMPONENT:"add-component-dialog-photo",ADD_COMPONENT_DIALOG_PRODUCT_SET_COMPONENT:"add-component-dialog-product-set",ADD_COMPONENT_DIALOG_SCRUBBABLE_GIF_COMPONENT:"add-component-dialog-scrubbable-gif",ADD_COMPONENT_DIALOG_STORE_LOCATOR_COMPONENT:"add-component-dialog-store-locator",ADD_COMPONENT_DIALOG_TEXT_COMPONENT:"add-component-dialog-text",ADD_COMPONENT_DIALOG_VIDEO_COMPONENT:"add-component-dialog-video",ADS_CANVAS_BUILDER:"ads-canvas-builder",ADS_CANVAS_BUILDER_COMPONENT_SELECTOR:"ads-canvas-builder-component-selector",ADS_CANVAS_BUILDER_CANVAS_EDITOR:"ads-canvas-builder-element-editor",ADS_CANVAS_BUILDER_PREVIEW:"ads-canvas-builder-preview",ADS_CANVAS_BUILDER_TOOLBAR:"ads-canvas-builder-toolbar",ADS_CANVAS_BUILDER_WELCOME_PANE:"ads-canvas-builder-welcome-pane",ADS_CANVAS_INLINE_BUILDER:"ads-canvas-inline-builder",ADS_CANVAS_INLINE_BUILDER_ELEMENTS_EDITOR:"ads-canvas-inline-builder-elements-editor",ADS_CANVAS_INLINE_BUILDER_PREVIEW_BUTTON:"ads-canvas-inline-builder-preview-button",ADS_CANVAS_INLINE_BUILDER_FINISH_BUTTON:"ads-canvas-inline-builder-finish-button",ADS_CANVAS_TYPEAHEAD:"ads-canvas-typeahead",ADS_CANVAS_TYPEAHEAD_CREATE_BUTTON:"ads-canvas-typeahead-create-button",ADS_CANVAS_TYPEAHEAD_PREVIEW_BUTTON:"ads-canvas-typeahead-preview-button",ADS_CANVAS_TYPEAHEAD_INPUT:"ads-canvas-typeahead-input",ADS_CANVAS_SECTION_CHECKBOX:"ads-canvas-section-checkbox",ADS_CANVAS_SECTION_FINISH_FLOW:"ads-canvas-section-finish-flow",ADS_CANVAS_SECTION_FINISH_FLOW_CANVAS_NAME:"ads-canvas-section-finish-flow-canvas-name",ADS_CANVAS_SECTION_FINISH_FLOW_EDIT_BUTTON:"ads-canvas-section-finish-flow-edit-button",ADS_CANVAS_SECTION_FINISH_FLOW_PREVIEW_BUTTON:"ads-canvas-section-finish-flow-preview-button",ADS_CANVAS_SECTION_FINISH_FLOW_REMOVE_BUTTON:"ads-canvas-section-finish-flow-remove-button",ADS_CANVAS_SECTION_UNSUPPORTED_PLACEMENTS_NOTICE:"ads-canvas-section-unsupported-placements-notice",ADS_CANVAS_SECTION_REMOVE_UNSUPPORTED_PLACEMENTS_LINK:"ads-canvas-section-remove-unsupported-placements-link",ADS_CANVAS_SECTION_REMOVE_UNSUPPORTED_PLACEMENTS_DIALOG:"ads-canvas-section-remove-unsupported-placements-dialog",ADS_CANVAS_SECTION_REMOVE_UNSUPPORTED_PLACEMENTS_DIALOG_CONFIRM:"ads-canvas-section-remove-unsupported-placements-dialog-confirm",ADS_CANVAS_SECTION:"ads-canvas-section",ADS_COLLECTION_CANVAS_SECTION:"ads-collection-canvas-section",ADS_CF_CANVAS_SECTION_INLINE_TABS:"ads-cf-canvas-section-inline-tabs",ADS_CF_CANVAS_SECTION_CREATE_SECTION:"ads-cf-canvas-section-create-section",ADS_CF_CANVAS_SECTION_CREATE_TAB:"ads-cf-canvas-section-create-tab",ADS_CF_CANVAS_SECTION_EXISTING_SECTION:"ads-cf-canvas-section-existing-section",ADS_CF_CANVAS_SECTION_EXISTING_TAB:"ads-cf-canvas-section-existing-tab",ADS_CF_CANVAS_SECTION_TEMPLATE_SELECTOR:"ads-cf-canvas-section-template-selector",ADS_CF_CANVAS_SECTION_TEMPLATE:"ads-cf-canvas-section-template",ADS_CF_CANVAS_SECTION_USE_ADVANCED_BUILDER:"ads-cf-canvas-section-use-advanced-builder",ADS_PE_CANVAS_SECTION_RADIO_LIST:"ads-pe-canvas-section-radio-list",ADS_PE_CANVAS_SECTION_TEMPLATE_OPTION:"ads-pe-canvas-section-template-option",ADS_PE_CANVAS_SECTION_ADVANCED_OPTION:"ads-pe-canvas-section-advanced-option",ADS_PE_CANVAS_SECTION_EXISTING_OPTION:"ads-pe-canvas-section-existing-option",ADS_PE_CANVAS_SECTION_TEMPLATE_SECTION:"ads-pe-canvas-section-template-section",ADS_PE_CANVAS_SECTION_TEMPLATE_DROPDOWN:"ads-pe-canvas-section-template-dropdown",ADS_PE_CANVAS_SECTION_TEMPLATE_ITEM:"ads-pe-canvas-section-template-item",ADS_PE_CANVAS_SECTION_USE_TEMPLATE_BUTTON:"ads-pe-canvas-section-use-template-button",ADS_PE_CANVAS_SECTION_ADVANCED_SECTION:"ads-pe-canvas-section-advanced-section",ADS_PE_CANVAS_SECTION_USE_ADVANCED_BUILDER:"ads-pe-canvas-section-use-advanced-builder",ADS_PE_CANVAS_SECTION_USE_ADVANCED_BUTTON:"ads-pe-canvas-section-use-advanced-button",ADS_PE_CANVAS_SECTION_EXISTING_SECTION:"ads-pe-canvas-section-existing-section",CANVAS_EDITOR_BUTTON_COMPONENT:"canvas-editor-button-component",CANVAS_EDITOR_CAROUSEL_COMPONENT:"canvas-editor-carousel-component",CANVAS_EDITOR_DOCUMENT_NAME_FIELD:"canvas-editor-document-name-field",CANVAS_EDITOR_HEADER_COMPONENT:"canvas-editor-header-component",CANVAS_EDITOR_PHOTO_COMPONENT:"canvas-editor-photo-component",CANVAS_EDITOR_TEXT_COMPONENT:"canvas-editor-text-component",CANVAS_EDITOR_VIDEO_COMPONENT:"canvas-editor-video-component",CANVAS_EDITOR_DD_SVG_COMPONENT:"canvas-editor-dd-svg-component",CAROUSEL_COMPONENT_ADD_NEW_ITEM_BUTTON:"carousel-component-add-new-item-button",CAROUSEL_COMPONENT_ITEM:"carousel-component-item",CAROUSEL_COMPONENT_ITEM_SELECT_BAR:"carousel-component-item-select-bar",DESTINATION_FIELD:"destination-field",DESTINATION_INPUT_FIELD:"destination-input-field",DESTINATION_TYPE_FIELD:"destination-type-field",PAGE_COMPOSER_SHARE_CANVAS_LINK:"page-composer-share-canvas-link",PAGE_COMPOSER_UPLOAD_PHOTO_VIDEO:"page-composer-upload-photo-video",PAGE_PUBLISH_TOOLS_CREATE_BUTTON:"ppt-create-button",PAGE_PUBLISH_TOOLS_VIEW_BUTTON:"ppt-view-button",PHOTO_UPLOADER_PREVIEW:"photo-uploader-preview",PHOTO_UPLOADER_PROGRESS_BAR:"photo-uploader-progress-bar",PHOTO_UPLOADER_UPLOAD_BUTTON:"photo-uploader-upload-button",PREVIEW_BUTTON_COMPONENT:"preview-button-component",PREVIEW_CAROUSEL_COMPONENT:"preview-carousel-component",PREVIEW_CAROUSEL_IMAGE:"preview-carousel-image",PREVIEW_HEADER_IMAGE:"preview-header-image",PREVIEW_HEADER_COMPONENT:"preview-header-component",PREVIEW_PHOTO_IMAGE:"preview-photo-image",PREVIEW_PHOTO_COMPONENT:"preview-photo-component",PREVIEW_TEXT_COMPONENT:"preview-text-component",PREVIEW_VIDEO_THUMBNAIL:"preview-video-thumbnail",PREVIEW_VIDEO_COMPONENT:"preview-video-component",PUBLISH_DIALOG:"publish-dialog",PUBLISH_DIALOG_CANCEL:"publish-dialog-cancel",PUBLISH_DIALOG_CONFIRM:"publish-dialog-confirm",TOOLBAR_ADD_COMPONENT_BUTTON:"toolbar-add-component-button",TOOLBAR_LOADING_INDICATOR:"toolbar-loading-indicator",TOOLBAR_PUBLISH_BUTTON:"toolbar-publish-button",TOOLBAR_SAVE_BUTTON:"toolbar-save-button",VIDEO_COMPONENT_THUMBNAIL:"video-component-thumbnail",VIDEO_COMPONENT_PROGRESS_BAR:"video-component-progress-bar",VIDEO_COMPONENT_UPLOAD_BUTTON:"video-component-upload-button",WELCOME_PANE_OPEN_BLANK_CANVAS_BUTTON:"welcome-pane-open-blank-canvas-button",TEXT_EDITOR:"text-component-editor",CHECKBOX:"checkbox",DESKTOP_PREVIEW_LINK:"desktop-preview-link"})}),null);
__d("RichMediaPreviewConstants",[],(function a(b,c,d,e,f,g){"use strict";f.exports={DEVICE_HEIGHT:720,DEVICE_WIDTH:405,BUTTON_HEIGHT:90,BOTTOM_BUTTON_HEIGHT:62,HEADER_HEIGHT:44,PREVIEW_ELEMENT_ID_PREFIX:"preview_element",PREVIEW_ELEMENTS_ID:"preview_elements",STORE_LOCATOR_HEADER_RATIO:.3,STORE_LOCATOR_MAP_RATIO:.7}}),null);
__d("RichMediaPreviewUtil",["RichMediaElementTypeConstant","RichMediaElementUtil","RichMediaPreviewConstants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("RichMediaPreviewConstants").BOTTOM_BUTTON_HEIGHT,i=c("RichMediaPreviewConstants").HEADER_HEIGHT,j=c("RichMediaElementTypeConstant").RichMediaElementTypes,k={getScrollableAreaFullHeight:function l(m,n){__p&&__p();var o=false,p=false;if(Array.isArray(n)){o=c("RichMediaElementUtil").getFixToBottomButtonElement(n);p=c("RichMediaElementUtil").hasFixToTopHeaderElement(n)}else if(n.count()>0){p=n.first().getElementType()===j.HEADER;o=n.last().getElementType()===j.FOOTER}return m-(o?h:0)-(p?i:0)},getNewScrollableAreaFullHeight:function l(m,n,o){return m-(o?h:0)-(n?i:0)},formatPadding:function l(m){var n=m?m.paddingTop:"0",o=m?m.paddingBottom:"0";return n+"px 0px "+o+"px"}};f.exports=k}),null);
__d("AdsCanvasPreviewPhotoElement.react",["cssVar","cx","AdsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlayContainer.react","AdsCanvasPreviewPhotoElementProductTaggingOverlayContainer.react","AdsCanvasPreviewProductCardSlider.react","AdsCanvasWebdriverIDs","AdsImageUtils","Image.react","React","RichMediaPreviewUtil"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=3;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={playTiltToPan:true},this.$AdsCanvasPreviewPhotoElement1=null,o}m.prototype.componentDidMount=function(){if(this.props.photoElement.layout=="fit_to_height")this.$AdsCanvasPreviewPhotoElement2()};m.prototype.componentWillReceiveProps=function(n){if(n.photoElement.layout!=this.props.photoElement.layout&&n.photoElement.layout=="fit_to_height"||n.photoElement.photo!=this.props.photoElement.photo&&n.photoElement.layout=="fit_to_height")this.$AdsCanvasPreviewPhotoElement2()};m.prototype.render=function(){__p&&__p();var n=this.props.photoElement,o=n.crops;if(o&&o.aspectRatio){var p=n.photo,q=p.src;if(q)return c("AdsImageUtils").renderScaledCroppedImage(q,this.props.width,parseInt(this.props.width/o.aspectRatio,10),p.width,p.height,o.crop);else return c("React").createElement("div",{className:"_49qc",style:{height:this.props.width,width:this.props.width}},c("React").createElement(c("Image.react"),{src:"/images/ads/rich_media/photo_placeholder.png"}))}if(n.photo){var r=n.photo,s=r.src;if(s){var t=0,u=0;if(n.layout=="fit_to_height"){t=this.props.fullHeight;u=r.width*this.props.fullHeight/r.height}else{u=this.props.width;t=r.height*this.props.width/r.width}var v=u>this.props.width?this.props.width:u,w=n.productTags!=null&&n.productTags.count()>0,x=w?parseInt("120px",10):0,y=(v-u)/2,z={height:t+x,width:v,overflow:"hidden",padding:c("RichMediaPreviewUtil").formatPadding(this.props.photoElement.padding),position:"relative"},A={position:"relative",left:y},B=w?c("React").createElement(c("AdsCanvasPreviewProductCardSlider.react"),{currentItemIndex:n.currentItemIndex,hideProductPrices:n.hideProductPrices,productTags:n.productTags}):null,C=w?c("React").createElement(c("AdsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlayContainer.react"),{height:t,photoElementID:this.props.photoElement.id,width:u}):null,D=n.layout=="fit_to_height"&&this.state.playTiltToPan?c("React").createElement("div",null,c("React").createElement(c("Image.react"),{className:"_3-rs",src:"/images/ads/rich_media/tilt_to_pan_BG.png"}),c("React").createElement(c("Image.react"),{className:"_3-rt",id:"tiltToPanOverlayGif",src:"/images/ads/rich_media/tilt_to_pan_phone_noBG.gif"})):null;return c("React").createElement("div",{"data-index":n.index,"data-testid":c("AdsCanvasWebdriverIDs").PREVIEW_PHOTO_COMPONENT,style:z},D,c("React").createElement("div",{style:{height:t,width:u,position:"relative"}},c("React").createElement(c("Image.react"),{"data-testid":c("AdsCanvasWebdriverIDs").PREVIEW_PHOTO_IMAGE,height:t,src:s,style:A,width:u}),C,c("React").createElement(c("AdsCanvasPreviewPhotoElementProductTaggingOverlayContainer.react"),{photoElementID:this.props.photoElement.id})),B)}}return c("React").createElement("div",null,c("React").createElement("div",{className:"_49qc",style:{height:this.props.width,width:this.props.width}},c("React").createElement(c("Image.react"),{src:"/images/ads/rich_media/photo_placeholder.png"})))};m.prototype.$AdsCanvasPreviewPhotoElement2=function(){this.setState({playTiltToPan:true});if(this.$AdsCanvasPreviewPhotoElement1!=null)this.$AdsCanvasPreviewPhotoElement3();this.$AdsCanvasPreviewPhotoElement1=setTimeout(function(){this.$AdsCanvasPreviewPhotoElement4()}.bind(this),l*1e3)};m.prototype.$AdsCanvasPreviewPhotoElement3=function(){clearTimeout(this.$AdsCanvasPreviewPhotoElement1)};m.prototype.$AdsCanvasPreviewPhotoElement4=function(){this.$AdsCanvasPreviewPhotoElement3();var n=document.getElementById("tiltToPanOverlayGif");if(n!=null)n.setAttribute("src","");this.setState({playTiltToPan:false})};f.exports=m}),null);
__d("CanvasCreationEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADD_ELEMENT:"editor.add_element",ADD_ELEMENT_TOP_TOOLBAR_BUTTON:"editor.add_element_top_toolbar",ADD_ELEMENT_BOTTOM_TOOLBAR_BUTTON:"editor.add_element_bottom_toolbar",BACK_TO_MENU:"editor.back_to_menu",CREATE:"create",CREATE_FAILURE:"editor.create_failure",CREATE_SUCCESS:"editor.create_success",CANVAS_INLINE_BUILDER_NUX_TOUR_COMPLETE:"canvas_inline_builder_nux_tour_complete",CANVAS_INLINE_BUILDER_NUX_TOUR_XOUT:"canvas_inline_builder_nux_tour_xout",DUPLICATE:"duplicate",DUPLICATE_FAILURE:"editor.duplicate_failure",DUPLICATE_SUCCESS:"editor.duplicate_success",EDITOR_EXIT:"editor.editor_exit",EDITOR_LINE_HEIGHT_TOUCH:"editor.editor_line_height_touch",EDITOR_PADDING_TOUCH:"editor.editor_padding_touch",EDITOR_PHOTO_ASPECT_RATIO_WARNING:"editor.editor_photo_aspect_ratio_warning",EDITOR_PHOTO_UPLOAD_TIMEOUT:"editor.editor_photo_upload_timeout",EXIT_INLINE_MODAL:"exit_inline_modal",GETTING_STARTED_GUIDE:"welcome_screen.getting_started_guide",INIT_DUPLICATE:"editor.init_duplicate",INIT_PUBLISH:"editor.init_publish",INIT_SAVE:"editor.init_save",INSTAGRAM_VALIDATION_ERROR:"editor.instagram_validation_error",LOAD:"load",LOAD_FAILURE:"editor.load_failure",LOAD_SUCCESS:"editor.load_success",LOAD_TEMPLATE:"editor.load_template",PHOTO_UPLOAD_ERROR:"editor.photo_upload_error",PHOTO_UPLOAD_SUCCESS:"editor.photo_upload_success",PHOTO_LIBRARY_UPLOADER_OPEN:"editor.photo_library_uploader_open",PHOTO_LIBRARY_UPLOADER_IMAGE_UPLOAD:"editor.photo_library_uploader_image_upload",PHOTO_LIBRARY_UPLOADER_CANCEL:"editor.photo_library_uploader_cancel",PHOTO_MANUAL_UPLOADER_IMAGE_UPLOAD:"editor.photo_manual_uploader_image_upload",PHOTO_MANUAL_UPLOADER_OPEN:"editor.photo_manual_uploader_open",PREVIEW_FAILURE:"editor.preview_failure",PREVIEW_SUCCESS:"editor.preview_success",PUBLISH:"publish",PUBLISH_FAILURE:"editor.publish_failure",REORDER_COMPONENT:"editor.reorder_component",TEMPLATE_FETCH_FAILED:"editor.template_fetch_failed",TEMPLATE_DOWNLOADED:"editor.template_downloaded",TEMPLATE_SELECTED:"editor.template_selected",TOOLBAR_PUBLISH_CLICKED:"editor.toolbar_publish_clicked",VIDEO_ENCODE_SUCCESS:"editor.video_encode_success",VIDEO_ENCODE_ERROR:"editor.video_encode_error",VIDEO_POST_SUCCESS:"editor.video_post_success",VIDEO_POST_ERROR:"editor.video_post_error",VIDEO_UPLOAD_SUCCESS:"editor.video_upload_success",VIDEO_UPLOAD_ERROR:"editor.video_upload_error",VIDEO_LIBRARY_UPLOADER_CANCEL:"editor.video_library_uploader_cancel",VIDEO_LIBRARY_UPLOADER_OPEN:"editor.video_library_uploader_open",VIDEO_LIBRARY_UPLOADER_VIDEO_CLICK:"editor.video_library_uploader_video_click",VIDEO_LIBRARY_UPLOADER_VIDEO_IMPORT:"editor.video_library_uploader_video_import",VIDEO_LIBRARY_UPLOADER_VIDEO_SELECT_EXISTING:"editor.video_library_uploader_video_select_existing",VIDEO_LIBRARY_UPLOADER_VIDEO_UPLOAD:"editor.video_library_uploader_video_upload",VIDEO_MANUAL_UPLOADER_OPEN:"editor.video_manual_uploader_open",VIDEO_MANUAL_UPLOADER_VIDEO_UPLOAD:"editor.video_manual_uploader_video_upload",SAVE:"save",SAVE_FROM_INLINE_BUILDER:"save_from_inline_builder",SAVE_INCOMPLETE_ELEMENTS:"save_incomplete_elements",SAVE_FAILURE:"editor.save_failure",SAVE_SUCCESS:"editor.save_success",SHARE_PREVIEW:"editor.share_preview",SHOW_INLINE_MODAL:"show_inline_modal",SWIPE_TO_OPEN_TOGGLED:"editor.swipe_to_open_toggled",VALIDATION_ERROR:"editor.validation_error",WELCOMESCREEN_ADD_COMPONENT:"welcome_screen.addcomponents",WELCOMESCREEN_BLANKCANVAS:"welcome_screen.blankcanvas",WELCOMESCREEN_EXAMPLES:"welcome_screen.examples",WELCOMESCREEN_TEMPLATE:"welcome_screen.template",WELCOMESCREEN_TIPS:"welcome_screen.tips",WELCOMESCREEN_TOUR:"welcome_screen.tour",WEBPARSING_SET_URL:"webparsing.set_url",WEBPARSING_LOADING_MEDIA:"webparsing.loading_media",WEBPARSING_LOADING_SUCCESS:"webparsing.loading_success",WEBPARSING_LOADING_FAIL:"webparsing.loading_fail",WEBPARSING_TOGGLE_PANNEL:"webparsing.toggle_pannel",WEBPARSING_IMAGE_SELECT:"webparsing.image_select",WEBPARSING_CONTINUE_BUILDER:"webparsing.continue_to_builder"})}),null);
__d("CanvasCreationWaterfallTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:CanvasCreationWaterfallLoggerConfig",this.$CanvasCreationWaterfallTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:CanvasCreationWaterfallLoggerConfig",this.$CanvasCreationWaterfallTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$CanvasCreationWaterfallTypedLogger1={};return this};h.prototype.updateData=function(j){this.$CanvasCreationWaterfallTypedLogger1=babelHelpers["extends"]({},this.$CanvasCreationWaterfallTypedLogger1,j);return this};h.prototype.setAdAccountID=function(j){this.$CanvasCreationWaterfallTypedLogger1.ad_account_id=j;return this};h.prototype.setCanvasID=function(j){this.$CanvasCreationWaterfallTypedLogger1.canvas_id=j;return this};h.prototype.setCanvasLoadType=function(j){this.$CanvasCreationWaterfallTypedLogger1.canvas_load_type=j;return this};h.prototype.setCanvasName=function(j){this.$CanvasCreationWaterfallTypedLogger1.canvas_name=j;return this};h.prototype.setCanvasTags=function(j){this.$CanvasCreationWaterfallTypedLogger1.canvas_tags=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setDuplicateParentCanvasID=function(j){this.$CanvasCreationWaterfallTypedLogger1.duplicate_parent_canvas_id=j;return this};h.prototype.setEditorLineHeight=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_line_height=j;return this};h.prototype.setEditorPaddingBottom=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_padding_bottom=j;return this};h.prototype.setEditorPaddingTop=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_padding_top=j;return this};h.prototype.setEditorPhotoHeight=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_photo_height=j;return this};h.prototype.setEditorPhotoWidth=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_photo_width=j;return this};h.prototype.setEditorURL=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_url=j;return this};h.prototype.setElementPayload=function(j){this.$CanvasCreationWaterfallTypedLogger1.element_payload=j;return this};h.prototype.setElementType=function(j){this.$CanvasCreationWaterfallTypedLogger1.element_type=j;return this};h.prototype.setErrorCode=function(j){this.$CanvasCreationWaterfallTypedLogger1.error_code=j;return this};h.prototype.setErrorMessage=function(j){this.$CanvasCreationWaterfallTypedLogger1.error_message=j;return this};h.prototype.setEventDetails=function(j){this.$CanvasCreationWaterfallTypedLogger1.event_details=j;return this};h.prototype.setEventName=function(j){this.$CanvasCreationWaterfallTypedLogger1.event_name=j;return this};h.prototype.setFbtraceID=function(j){this.$CanvasCreationWaterfallTypedLogger1.fbtrace_id=j;return this};h.prototype.setHelpPageEventName=function(j){this.$CanvasCreationWaterfallTypedLogger1.help_page_event_name=j;return this};h.prototype.setIncompleteElements=function(j){this.$CanvasCreationWaterfallTypedLogger1.incomplete_elements=j;return this};h.prototype.setIsNewUser=function(j){this.$CanvasCreationWaterfallTypedLogger1.is_new_user=j;return this};h.prototype.setNuxTourStep=function(j){this.$CanvasCreationWaterfallTypedLogger1.nux_tour_step=j;return this};h.prototype.setPageCanvasCount=function(j){this.$CanvasCreationWaterfallTypedLogger1.page_canvas_count=j;return this};h.prototype.setPageID=function(j){this.$CanvasCreationWaterfallTypedLogger1.page_id=j;return this};h.prototype.setPageName=function(j){this.$CanvasCreationWaterfallTypedLogger1.page_name=j;return this};h.prototype.setPagePublishedCanvasCount=function(j){this.$CanvasCreationWaterfallTypedLogger1.page_published_canvas_count=j;return this};h.prototype.setPropertyList=function(j){this.$CanvasCreationWaterfallTypedLogger1.property_list=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setPublishedURL=function(j){this.$CanvasCreationWaterfallTypedLogger1.published_url=j;return this};h.prototype.setReorderComponentDistance=function(j){this.$CanvasCreationWaterfallTypedLogger1.reorder_component_distance=j;return this};h.prototype.setSource=function(j){this.$CanvasCreationWaterfallTypedLogger1.source=j;return this};h.prototype.setVC=function(j){this.$CanvasCreationWaterfallTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$CanvasCreationWaterfallTypedLogger1.video_id=j;return this};h.prototype.setViewerID=function(j){this.$CanvasCreationWaterfallTypedLogger1.viewer_id=j;return this};var i={ad_account_id:true,canvas_id:true,canvas_load_type:true,canvas_name:true,canvas_tags:true,duplicate_parent_canvas_id:true,editor_line_height:true,editor_padding_bottom:true,editor_padding_top:true,editor_photo_height:true,editor_photo_width:true,editor_url:true,element_payload:true,element_type:true,error_code:true,error_message:true,event_details:true,event_name:true,fbtrace_id:true,help_page_event_name:true,incomplete_elements:true,is_new_user:true,nux_tour_step:true,page_canvas_count:true,page_id:true,page_name:true,page_published_canvas_count:true,property_list:true,published_url:true,reorder_component_distance:true,source:true,vc:true,video_id:true,viewer_id:true};f.exports=h}),null);
__d("RichMediaEditorColorDialog.react",["cx","invariant","colr","color-picker","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","Keys","LayerHideOnBlur","React","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIDialogCloseButton.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(o){k.constructor.call(this,o);n.call(this);var p=o.color.substr(1);this.state={inputValue:p,showColorPicker:false}}m.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_1ky7"),ref:"nub",role:"button",style:babelHelpers["extends"]({},this.props.style),tabIndex:0,onClick:this.showDialog},this.$RichMediaEditorColorDialog1(),this.props.children)};m.prototype.$RichMediaEditorColorDialog1=function(){return c("React").createElement(c("XUIContextualDialog.react"),{behaviors:{ContextualLayerAutoFlip:c("ContextualLayerAutoFlip"),ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll"),LayerHideOnBlur:c("LayerHideOnBlur")},contextRef:this.$RichMediaEditorColorDialog2,position:"below",shown:this.state.showColorPicker,width:c("XUIContextualDialog.react").WIDTH.NORMAL,onToggle:this.$RichMediaEditorColorDialog3},c("React").createElement(c("XUIContextualDialogBody.react"),null,c("React").createElement("div",{className:"_1ky8"},c("React").createElement(c("color-picker"),{color:this.props.color,onChange:this.$RichMediaEditorColorDialog4})),c("React").createElement("div",{className:"_1ky9"},"#",c("React").createElement("input",{className:"_1kya",maxLength:6,ref:"textInput",style:this.$RichMediaEditorColorDialog5(),value:this.state.inputValue,onChange:this.$RichMediaEditorColorDialog6,onKeyPress:this.$RichMediaEditorColorDialog7,onKeyUp:this.$RichMediaEditorColorDialog8}))),c("React").createElement(c("XUIContextualDialogFooter.react"),null,c("React").createElement(c("XUIDialogCloseButton.react"),{label:"Close",use:"confirm",onClick:this.$RichMediaEditorColorDialog9})))};m.prototype.hideDialog=function(){this.$RichMediaEditorColorDialog3(false)};m.prototype.$RichMediaEditorColorDialog7=function(event){if(event.charCode===c("Keys").ESC||event.charCode>=c("Keys").ZERO&&event.charCode<=c("Keys").NINE||event.charCode>=c("Keys").A&&event.charCode<=c("Keys").F||event.charCode>=c("Keys").NUMPAD_1&&event.charCode<=c("Keys").NUMPAD_6)return;event.preventDefault()};m.prototype.$RichMediaEditorColorDialog5=function(){var o=c("colr").fromHex(this.props.color).toGrayscale()/255,p=o>.5?"#000":"#FFF";return{backgroundColor:this.props.color,color:p}};m.propTypes={className:l.string,color:l.string.isRequired,disabled:l.bool,style:l.object,onChange:l.func.isRequired};var n=function n(){__p&&__p();this.showDialog=function(){this.$RichMediaEditorColorDialog3(true)}.bind(this);this.$RichMediaEditorColorDialog2=function(){return this.refs.nub}.bind(this);this.$RichMediaEditorColorDialog8=function(event){if(event.charCode===c("Keys").ESC)this.$RichMediaEditorColorDialog3(false)}.bind(this);this.$RichMediaEditorColorDialog9=function(){this.$RichMediaEditorColorDialog3(false)}.bind(this);this.$RichMediaEditorColorDialog3=function(o){if(o!==this.state.showColorPicker&&!this.props.disabled)this.setState({showColorPicker:o})}.bind(this);this.$RichMediaEditorColorDialog6=function(o){var p=o.target;p instanceof HTMLInputElement||i(0);this.setState({inputValue:p.value});var q=void 0;try{q=c("colr").fromHex("#"+p.value).toHex()}catch(r){}if(q)this.props.onChange(q)}.bind(this);this.$RichMediaEditorColorDialog4=function(o){this.setState({inputValue:o.substr(1)});this.props.onChange(o)}.bind(this)};f.exports=m}),null);
__d("RichMediaEditorColorInput.react",["cx","fbt","React","RichMediaEditorColorDialog.react","XUIButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k){return c("React").createElement(c("RichMediaEditorColorDialog.react"),{className:"_1l-d"+(k.disabled?" _4k_6":""),color:k.color,disabled:k.disabled,onChange:k.onChange},c("React").createElement(c("XUIButton.react"),{className:"_18dg",disabled:k.disabled,label:i._("Change color"),labelIsHidden:true,style:{backgroundColor:k.color}}))}f.exports=j}),null);
__d("AdsCanvasBuilderLoadTemplateDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CANVAS.BUILDER.LOAD_TEMPLATE");f.exports=h}),null);
__d("AdsCanvasBuilderOpenBlankCanvasDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CANVAS.BUILDER.OPEN_BLANK_CANVAS");f.exports=h}),null);
__d("AdsCanvasBuilderOpenNUXTourDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CANVAS.BUILDER.OPEN_NUX_TOUR");f.exports=h}),null);
__d("AdsCanvasDeleteDocumentDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CANVAS.DELTE_CANVAS");f.exports=h}),null);
__d("AdsCanvasInitDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"INIT");f.exports=h}),null);
__d("AdsCanvasInlineBuilderPreviewCanvasDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"PREVIEW_CANVAS");f.exports=h}),null);
__d("AdsCanvasInlineBuilderSaveAllCanvasesDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SAVE_ALL_CANVASES");f.exports=h}),null);
__d("AdsCanvasReorderMultiCanvasDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CANVAS.REORDER_MULTI_CANVAS");f.exports=h}),null);
__d("AdsCanvasShowCloseUnsavedCanvasDialogDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CANVAS.SHOW_CLOSE_UNSAVED_CANVAS_DIALOG");f.exports=h}),null);
__d("AdsRichMediaEditorBackToMenuDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RichMediaEditor.BACK_TO_MENU");f.exports=h}),null);
__d("AdsRichMediaEditorSetAddComponentDialogShownDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RichMediaEditor.SET_ADD_COMPONENT_DIALOG_SHOWN");f.exports=h}),null);
__d("AdsRichMediaEditorSetCanvasPageidDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RichMediaEditor.SET_CANVAS_PAGEID");f.exports=h}),null);
__d("AdsRichMediaEditorSetCanvasSourceDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RichMediaEditor.SET_CANVAS_SOURCE");f.exports=h}),null);
__d("AdsRichMediaEditorSetDocumentThemeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RichMediaEditor.SET_DOCUMENT_THEME");f.exports=h}),null);
__d("AdsRichMediaEditorSetDocumentUrlDialogShownDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RichMediaEditor.SET_DOCUMENT_URL_DIALOG_SHOWN");f.exports=h}),null);
__d("AdsRichMediaEditorSetPreviewFailedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RichMediaEditor.SET_PREVIEW_FAILED");f.exports=h}),null);
__d("AdsRichMediaEditorSetPreviewTypeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RichMediaEditor.SET_PREVIEW_TYPE");f.exports=h}),null);
__d("AdsRichMediaEditorSetSendingPreviewDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RichMediaEditor.SET_SENDING_PREVIEW");f.exports=h}),null);
__d("AdsRichMediaEditorSetShowTemplatesDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RichMediaEditor.SET_SHOW_TEMPLATES");f.exports=h}),null);
__d("AdsRichMediaEditorSetSwipeToOpenEnabledDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RichMediaEditor.SET_SWIPE_TO_OPEN_ENABLED");f.exports=h}),null);
__d("AdsRichMediaEditorSetValidationFailedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RichMediaEditor.SET_VALIDATION_FAILED");f.exports=h}),null);
__d("AdsRichMediaEditorToggleDocumentDebugPaneShownDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RichMediaEditor.TOGGLE_DOCUMENT_DEBUG_PANE_SHOWN");f.exports=h}),null);
__d("AdsRichMediaEditorTriggerNuxTourDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RichMediaEditor.TRIGGER_NUX_TOUR");f.exports=h}),null);
__d("RichMediaDocumentThemeConstants",[],(function a(b,c,d,e,f,g){"use strict";f.exports={WHITE:"FFFFFFFF",BLACK:"FF000000"}}),null);
__d("RichMediaEditorStore",["AddCanvasAddCanvasDataAction","AdsCanvasBuilderLoadTemplateDataAction","AdsCanvasBuilderOpenBlankCanvasDataAction","AdsCanvasBuilderOpenNUXTourDataAction","AdsCanvasBuilderSelectTemplateDataAction","AdsCanvasDeleteDocumentDataAction","AdsCanvasDisableMultiTabCanvasDataAction","AdsCanvasDocumentAddNewElementsDataAction","AdsCanvasDocumentCreateErrorDataAction","AdsCanvasDocumentCreateSuccessDataAction","AdsCanvasDocumentDuplicateErrorDataAction","AdsCanvasDocumentDuplicateSuccessDataAction","AdsCanvasDocumentInitDuplicateDataAction","AdsCanvasDocumentInitPublishDataAction","AdsCanvasDocumentInitSaveDataAction","AdsCanvasDocumentLoadSuccessDataAction","AdsCanvasDocumentReorderElementsDataAction","AdsCanvasDocumentSaveDynamicCanvasErrorDataAction","AdsCanvasDocumentSaveErrorDataAction","AdsCanvasDocumentSaveSuccessDataAction","AdsCanvasDocumentSetSupportInstagramDataAction","AdsCanvasDocumentSetTitleDataAction","AdsCanvasEditorEnums","AdsCanvasElementCreateErrorDataAction","AdsCanvasElementDeleteDataAction","AdsCanvasElementMultiUpdateDataAction","AdsCanvasElementSaveErrorDataAction","AdsCanvasElementSwitchButtonPositionDataAction","AdsCanvasElementSwitchMediaElementTypeDataAction","AdsCanvasElementUpdateDataAction","AdsCanvasInitDataAction","AdsCanvasInlineBuilderPreviewCanvasDataAction","AdsCanvasInlineBuilderSaveAllCanvasesDataAction","AdsCanvasInlineBuilderSaveCanvasDataAction","AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataAction","AdsCanvasReorderMultiCanvasDataAction","AdsCanvasResetCanvasDataAction","AdsCanvasShowCloseUnsavedCanvasDialogDataAction","AdsDataAtom","AdsRichMediaEditorBackToMenuDataAction","AdsRichMediaEditorSetAddComponentDialogShownDataAction","AdsRichMediaEditorSetCanvasPageidDataAction","AdsRichMediaEditorSetCanvasSourceDataAction","AdsRichMediaEditorSetDocumentThemeDataAction","AdsRichMediaEditorSetDocumentUrlDialogShownDataAction","AdsRichMediaEditorSetPreviewFailedDataAction","AdsRichMediaEditorSetPreviewTypeDataAction","AdsRichMediaEditorSetSendingPreviewDataAction","AdsRichMediaEditorSetShowTemplatesDataAction","AdsRichMediaEditorSetSwipeToOpenEnabledDataAction","AdsRichMediaEditorSetValidationFailedDataAction","AdsRichMediaEditorToggleDocumentDebugPaneShownDataAction","AdsRichMediaEditorTriggerNuxTourDataAction","AdsUEditorAdgroupSetCanvasDocumentDataAction","CanvasSource","FluxStore","RichMediaDocumentThemeConstants","SimpleNUXMessage","SimpleNUXMessageTypes","adsCreateStoreSelector"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("AdsCanvasEditorEnums").DocumentThemeEnum,k=c("AdsCanvasEditorEnums").ErrorTypeEnum,l=c("AdsCanvasEditorEnums").PreviewEnum,m=c("AdsCanvasEditorEnums").SaveStateEnum,n=c("RichMediaDocumentThemeConstants").BLACK;h=babelHelpers.inherits(o,c("FluxStore"));i=h&&h.prototype;function o(p){__p&&__p();i.constructor.call(this,p);this.getCanvasPageId=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore21}.bind(this),f.id);this.getCanvasSource=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore20}.bind(this),f.id);this.getCustomThemeColor=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore2}.bind(this),f.id);this.getDocumentThemeType=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore3}.bind(this),f.id);this.getDocumentEditState=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore4}.bind(this),f.id);this.getPreviewFailed=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore7}.bind(this),f.id);this.getPreviewType=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore24}.bind(this),f.id);this.getSendingPreview=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore9}.bind(this),f.id);this.getSaveFailed=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore8}.bind(this),f.id);this.getDocumentURLDialogShown=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore11}.bind(this),f.id);this.getDocumentDebugPaneShown=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore10}.bind(this),f.id);this.getCurrentEditingElementIndex=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore12}.bind(this),f.id);this.getShowAddComponentDialog=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore13}.bind(this),f.id);this.getShowBackToMenuUnsavedDialog=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore18}.bind(this),f.id);this.getShowCloseUnsavedCanvasDialog=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore19}.bind(this),f.id);this.getError=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore25}.bind(this),f.id);this.getErrorType=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore5}.bind(this),f.id);this.getSelectedTemplate=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore17}.bind(this),f.id);this.getShowTemplates=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore14}.bind(this),f.id);this.getSwipeToOpenEnabled=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore23}.bind(this),f.id);this.isDefaultDocument=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore6}.bind(this),f.id);this.isWelcomePaneShown=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore16}.bind(this),f.id);this.showNuxTour=c("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore15}.bind(this),f.id);this.$RichMediaEditorStore1=null;this.$RichMediaEditorStore2=n;this.$RichMediaEditorStore3=j.WHITE;this.$RichMediaEditorStore4=m.SAVED;this.$RichMediaEditorStore5=k.NONE;this.$RichMediaEditorStore6=false;this.$RichMediaEditorStore7=false;this.$RichMediaEditorStore8=false;this.$RichMediaEditorStore9=false;this.$RichMediaEditorStore10=false;this.$RichMediaEditorStore11=false;this.$RichMediaEditorStore12=-1;this.$RichMediaEditorStore13=false;this.$RichMediaEditorStore15=false;this.$RichMediaEditorStore16=false;this.$RichMediaEditorStore17=null;this.$RichMediaEditorStore18=false;this.$RichMediaEditorStore19=false;this.$RichMediaEditorStore14=false;this.$RichMediaEditorStore20=c("CanvasSource").OTHER;this.$RichMediaEditorStore21="";this.$RichMediaEditorStore22=!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").AD_CANVAS_EDITOR_TOOLBAR_NUX);this.$RichMediaEditorStore23=true;this.$RichMediaEditorStore24=l.FACEBOOK;this.$RichMediaEditorStore25=null}o.prototype.__onDispatch=function(p){__p&&__p();var q=p.action;switch(q.type){case c("AdsRichMediaEditorSetDocumentThemeDataAction").actionType:if(q.themeType===j.CUSTOM)this.$RichMediaEditorStore2=q.theme;this.$RichMediaEditorStore3=q.themeType;this.$RichMediaEditorStore4=m.UNSAVED;this.__emitChange();break;case c("AdsRichMediaEditorSetPreviewFailedDataAction").actionType:this.$RichMediaEditorStore7=q.previewFailed;this.__emitChange();break;case c("AdsRichMediaEditorSetPreviewTypeDataAction").actionType:this.$RichMediaEditorStore24=q.previewType;this.__emitChange();break;case c("AdsRichMediaEditorSetSendingPreviewDataAction").actionType:this.$RichMediaEditorStore9=q.sendingPreview;this.__emitChange();break;case c("AdsCanvasDocumentSaveErrorDataAction").actionType:this.$RichMediaEditorStore8=true;this.$RichMediaEditorStore5=k.ERROR;this.$RichMediaEditorStore25=q.error;this.$RichMediaEditorStore4=m.UNSAVED;this.__emitChange();break;case c("AdsRichMediaEditorSetValidationFailedDataAction").actionType:if(!q.elementValidation.isValid)this.$RichMediaEditorStore5=k.ERROR;this.__emitChange();break;case c("AdsRichMediaEditorSetDocumentUrlDialogShownDataAction").actionType:this.$RichMediaEditorStore11=q.dialogShown;this.__emitChange();break;case c("AdsRichMediaEditorToggleDocumentDebugPaneShownDataAction").actionType:this.$RichMediaEditorStore10=!this.$RichMediaEditorStore10;this.__emitChange();break;case c("AdsRichMediaEditorTriggerNuxTourDataAction").actionType:this.$RichMediaEditorStore15=q.shown;this.__emitChange();break;case c("AdsRichMediaEditorSetAddComponentDialogShownDataAction").actionType:this.$RichMediaEditorStore13=q.dialogShown;this.__emitChange();break;case c("AdsCanvasDocumentAddNewElementsDataAction").actionType:this.$RichMediaEditorStore4=m.UNSAVED;this.$RichMediaEditorStore13=false;this.$RichMediaEditorStore16=false;this.__emitChange();break;case c("AdsRichMediaEditorSetShowTemplatesDataAction").actionType:this.$RichMediaEditorStore14=q.showTemplates;this.__emitChange();break;case c("AdsCanvasBuilderLoadTemplateDataAction").actionType:this.$RichMediaEditorStore17=q.selectedTemplate;this.$RichMediaEditorStore23=false;this.__emitChange();break;case c("AdsCanvasBuilderOpenBlankCanvasDataAction").actionType:this.$RichMediaEditorStore16=false;this.$RichMediaEditorStore13=true;this.$RichMediaEditorStore23=true;this.__emitChange();break;case c("AdsCanvasBuilderOpenNUXTourDataAction").actionType:this.$RichMediaEditorStore16=false;this.$RichMediaEditorStore15=true;this.$RichMediaEditorStore23=true;this.__emitChange();break;case c("AdsCanvasBuilderSelectTemplateDataAction").actionType:this.$RichMediaEditorStore16=false;this.$RichMediaEditorStore23=true;this.__emitChange();break;case c("AdsRichMediaEditorBackToMenuDataAction").actionType:this.$RichMediaEditorStore6=true;this.$RichMediaEditorStore16=true;this.$RichMediaEditorStore17=null;this.$RichMediaEditorStore23=true;this.$RichMediaEditorStore5=k.NONE;this.$RichMediaEditorStore3=j.WHITE;this.$RichMediaEditorStore2=n;this.$RichMediaEditorStore4=m.UNSAVED;this.$RichMediaEditorStore10=false;this.$RichMediaEditorStore15=false;this.__emitChange();break;case c("AdsRichMediaEditorSetCanvasSourceDataAction").actionType:this.$RichMediaEditorStore20=q.source;this.__emitChange();break;case c("AdsRichMediaEditorSetCanvasPageidDataAction").actionType:this.$RichMediaEditorStore21=q.pageId;this.__emitChange();break;case c("AdsRichMediaEditorSetSwipeToOpenEnabledDataAction").actionType:this.$RichMediaEditorStore23=q.value;this.$RichMediaEditorStore4=m.UNSAVED;this.__emitChange();break;case c("AdsCanvasDocumentSetSupportInstagramDataAction").actionType:this.$RichMediaEditorStore4=m.UNSAVED;this.$RichMediaEditorStore24=l.FACEBOOK;this.__emitChange();break;case c("AdsCanvasInlineBuilderSaveCanvasDataAction").actionType:case c("AdsCanvasInlineBuilderSaveAllCanvasesDataAction").actionType:this.$RichMediaEditorStore4=m.SAVING;this.__emitChange();break;case c("AdsCanvasInlineBuilderPreviewCanvasDataAction").actionType:this.$RichMediaEditorStore9=false;this.__emitChange();break;case c("AdsUEditorAdgroupSetCanvasDocumentDataAction").actionType:this.$RichMediaEditorStore4=m.SAVED;this.__emitChange();break;case c("AdsCanvasInitDataAction").actionType:this.$RichMediaEditorStore3=j.WHITE;this.$RichMediaEditorStore2=n;this.$RichMediaEditorStore4=q.canvasID?m.SAVED:m.UNSAVED;this.$RichMediaEditorStore25=null;if(this.$RichMediaEditorStore5!==k.WARNING)this.$RichMediaEditorStore5=k.NONE;this.$RichMediaEditorStore7=false;this.$RichMediaEditorStore8=false;this.$RichMediaEditorStore9=false;this.$RichMediaEditorStore10=false;this.$RichMediaEditorStore11=false;this.$RichMediaEditorStore12=-1;this.$RichMediaEditorStore13=false;this.$RichMediaEditorStore15=false;this.$RichMediaEditorStore17=null;this.$RichMediaEditorStore18=false;this.$RichMediaEditorStore24=l.FACEBOOK;this.$RichMediaEditorStore6=!q.canvasID;this.$RichMediaEditorStore16=!q.canvasID;if(!q.canvasID)this.$RichMediaEditorStore23=true;this.$RichMediaEditorStore21=q.pageID;this.__emitChange();break;case c("AdsCanvasDocumentLoadSuccessDataAction").actionType:this.$RichMediaEditorStore23=q.canvasDocument.swipeToOpenEnabled;this.$RichMediaEditorStore4=m.SAVED;this.__emitChange();break;case c("AdsCanvasDocumentInitSaveDataAction").actionType:this.$RichMediaEditorStore5=q.hasErrors?k.WARNING:k.NONE;this.$RichMediaEditorStore4=m.SAVING;this.__emitChange();break;case c("AdsCanvasDocumentInitPublishDataAction").actionType:case c("AdsCanvasDocumentInitDuplicateDataAction").actionType:this.$RichMediaEditorStore4=m.SAVING;this.__emitChange();break;case c("AdsCanvasDocumentCreateSuccessDataAction").actionType:case c("AdsCanvasDocumentDuplicateSuccessDataAction").actionType:case c("AdsCanvasDocumentSaveSuccessDataAction").actionType:this.$RichMediaEditorStore4=q.setSavedState?m.SAVED:this.$RichMediaEditorStore4;this.$RichMediaEditorStore23=q.canvasDocument.swipeToOpenEnabled;this.$RichMediaEditorStore8=false;this.__emitChange();break;case c("AdsCanvasDocumentSaveDynamicCanvasErrorDataAction").actionType:case c("AdsCanvasDocumentCreateErrorDataAction").actionType:case c("AdsCanvasDocumentDuplicateErrorDataAction").actionType:case c("AdsCanvasElementCreateErrorDataAction").actionType:case c("AdsCanvasElementSaveErrorDataAction").actionType:this.$RichMediaEditorStore4=m.SAVED;this.$RichMediaEditorStore25=q.error;this.$RichMediaEditorStore8=true;this.__emitChange();break;case c("AdsCanvasElementUpdateDataAction").actionType:case c("AdsCanvasElementSwitchButtonPositionDataAction").actionType:case c("AdsCanvasElementSwitchMediaElementTypeDataAction").actionType:case c("AdsCanvasElementMultiUpdateDataAction").actionType:this.$RichMediaEditorStore4=q.setUnsavedState?m.UNSAVED:this.$RichMediaEditorStore4;this.$RichMediaEditorStore6=q.setUnsavedState;this.$RichMediaEditorStore12=q.scrollToIndex?q.scrollToIndex:this.$RichMediaEditorStore12;this.$RichMediaEditorStore5=k.NONE;this.$RichMediaEditorStore25=null;this.__emitChange();break;case c("AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataAction").actionType:case c("AdsCanvasDisableMultiTabCanvasDataAction").actionType:case c("AdsCanvasReorderMultiCanvasDataAction").actionType:case c("AddCanvasAddCanvasDataAction").actionType:case c("AdsCanvasDeleteDocumentDataAction").actionType:this.$RichMediaEditorStore4=m.UNSAVED;this.$RichMediaEditorStore6=false;this.__emitChange();break;case c("AdsCanvasDocumentReorderElementsDataAction").actionType:this.$RichMediaEditorStore4=m.UNSAVED;this.$RichMediaEditorStore6=false;this.$RichMediaEditorStore12=q.target;this.__emitChange();break;case c("AdsCanvasDocumentSetTitleDataAction").actionType:case c("AdsCanvasElementDeleteDataAction").actionType:this.$RichMediaEditorStore4=m.UNSAVED;this.$RichMediaEditorStore6=false;this.__emitChange();break;case c("AdsCanvasResetCanvasDataAction").actionType:this.$RichMediaEditorStore19=false;this.__emitChange();break;case c("AdsCanvasShowCloseUnsavedCanvasDialogDataAction").actionType:this.$RichMediaEditorStore19=q.showDialog;this.__emitChange();break}};o.prototype.isNewUser=function(){return this.$RichMediaEditorStore22};o.prototype.setIsNotNewUser=function(){if(this.$RichMediaEditorStore22){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").AD_CANVAS_EDITOR_TOOLBAR_NUX);this.$RichMediaEditorStore22=false}};f.exports=new o(c("AdsDataAtom"))}),null);
__d("AdsCanvasLoadDynamicCanvasDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CANVAS.LOAD_DYNAMIC_CANVAS");f.exports=h}),null);
__d("AdsCanvasSelectCanvasDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CANVAS.SELECT_CANVAS");f.exports=h}),null);
__d("AdsCanvasCurrentCanvasIDStore",["AddCanvasAddCanvasDataAction","AdsCanvasBuilderLoadTemplateDataAction","AdsCanvasBuilderOpenBlankCanvasDataAction","AdsCanvasBuilderOpenNUXTourDataAction","AdsCanvasBuilderSelectTemplateDataAction","AdsCanvasDefaultNewDocumentID","AdsCanvasDeleteDocumentDataAction","AdsCanvasDisableMultiTabCanvasDataAction","AdsCanvasDocumentCreateSuccessDataAction","AdsCanvasDocumentDuplicateSuccessDataAction","AdsCanvasEnableMultiTabCanvasDataAction","AdsCanvasInitDataAction","AdsCanvasInlineTransformCanvasDataAction","AdsCanvasLoadDynamicCanvasDataAction","AdsCanvasReorderMultiCanvasDataAction","AdsCanvasSelectCanvasDataAction","AdsDataAtom","AdsRichMediaEditorSetValidationFailedDataAction","FluxReduceStore","immutable","adsCreateStoreSelector","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=c("immutable").List,m=c("immutable").Record;h=babelHelpers.inherits(n,m({canvasIDs:l([c("AdsCanvasDefaultNewDocumentID")]),activeCanvasIndex:0}));i=h&&h.prototype;function n(){h.apply(this,arguments)}j=babelHelpers.inherits(o,c("FluxReduceStore"));k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.getCurrentDocumentID=c("adsCreateStoreSelector")([this],function(){var u=this.getState(),v=u.activeCanvasIndex,w=u.canvasIDs;return c("nullthrows")(w.get(v))}.bind(this),f.id),this.getActiveCanvasIndex=c("adsCreateStoreSelector")([this],function(){return this.getState().activeCanvasIndex}.bind(this),f.id),this.getAllDocumentIDs=c("adsCreateStoreSelector")([this],function(){return this.getState().canvasIDs}.bind(this),f.id),this.hasMultiCanvas=c("adsCreateStoreSelector")([this],function(){return this.getState().canvasIDs.count()>1}.bind(this),f.id),q}o.prototype.getInitialState=function(){return new n()};o.prototype.reduce=function(p,q){__p&&__p();var r=q.action;switch(r.type){case c("AdsCanvasInitDataAction").actionType:if(r.canvasID==null)return this.getInitialState();return p.set("canvasIDs",l([r.canvasID])).set("activeCanvasIndex",0);case c("AdsCanvasLoadDynamicCanvasDataAction").actionType:return p.set("canvasIDs",r.canvasIDs).set("activeCanvasIndex",0);case c("AdsCanvasInlineTransformCanvasDataAction").actionType:return p.set("canvasIDs",r.canvases.map(function(x){return x.id})).set("activeCanvasIndex",0);case c("AdsCanvasDocumentCreateSuccessDataAction").actionType:case c("AdsCanvasDocumentDuplicateSuccessDataAction").actionType:case c("AdsCanvasBuilderLoadTemplateDataAction").actionType:if(!r.setSavedState)return p;return p.set("canvasIDs",l([r.canvasID])).set("activeCanvasIndex",0);case c("AdsCanvasBuilderOpenBlankCanvasDataAction").actionType:case c("AdsCanvasBuilderOpenNUXTourDataAction").actionType:case c("AdsCanvasBuilderSelectTemplateDataAction").actionType:return this.getInitialState();case c("AdsCanvasDisableMultiTabCanvasDataAction").actionType:var s=p.canvasIDs.get(0);return p.set("canvasIDs",l([s])).set("activeCanvasIndex",0);case c("AdsCanvasEnableMultiTabCanvasDataAction").actionType:return p.set("canvasIDs",r.canvasDocuments.map(function(x){return x.id}));case c("AdsCanvasSelectCanvasDataAction").actionType:return p.set("activeCanvasIndex",r.index);case c("AdsCanvasReorderMultiCanvasDataAction").actionType:var t=r.from,u=r.to,v=p.canvasIDs,w=v.get(t);v=v.splice(t,1);v=v.splice(u,0,w);return p.set("canvasIDs",v);case c("AddCanvasAddCanvasDataAction").actionType:return p.set("canvasIDs",p.canvasIDs.push(r.canvasDocument.id)).set("activeCanvasIndex",p.canvasIDs.count());case c("AdsCanvasDeleteDocumentDataAction").actionType:if(r.index===p.activeCanvasIndex)p=p.set("activeCanvasIndex",p.activeCanvasIndex-1);return p.set("canvasIDs",p.canvasIDs.remove(r.index));case c("AdsRichMediaEditorSetValidationFailedDataAction").actionType:return p.set("activeCanvasIndex",r.canvasIndex);default:return p}};f.exports=new o(c("AdsDataAtom"))}),null);
__d("AdsDraftDraftPublishCompletedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AdsDraft.DRAFT.PUBLISH_COMPLETED");f.exports=h}),null);
__d("AdsCanvasDocumentStore",["invariant","AddCanvasAddCanvasDataAction","AdsAdObjectUpdateSuccessDataAction","AdsCanvasBuilderOpenBlankCanvasDataAction","AdsCanvasBuilderOpenNUXTourDataAction","AdsCanvasBuilderSelectTemplateDataAction","AdsCanvasConstants","AdsCanvasDefaultNewDocumentID","AdsCanvasDisableMultiTabCanvasDataAction","AdsCanvasDocument","AdsCanvasDocumentAddNewElementsDataAction","AdsCanvasDocumentCreateSuccessDataAction","AdsCanvasDocumentDataDispatcher","AdsCanvasDocumentDuplicateSuccessDataAction","AdsCanvasDocumentInitDuplicateDataAction","AdsCanvasDocumentInitPublishDataAction","AdsCanvasDocumentInitSaveDataAction","AdsCanvasDocumentLoadErrorDataAction","AdsCanvasDocumentLoadSuccessDataAction","AdsCanvasDocumentRefreshDataAction","AdsCanvasDocumentReorderElementsDataAction","AdsCanvasDocumentSaveSuccessDataAction","AdsCanvasDocumentSetSupportInstagramDataAction","AdsCanvasDocumentSetTitleDataAction","AdsCanvasElementDeleteDataAction","AdsCanvasElementSwitchButtonPositionDataAction","AdsCanvasElementSwitchElementTypeDataAction","AdsCanvasElementSwitchMediaElementTypeDataAction","AdsCanvasEnableMultiTabCanvasDataAction","AdsCanvasInitDataAction","AdsCanvasInlineBuilderSaveAllCanvasesDataAction","AdsCanvasInlineBuilderSaveCanvasDataAction","AdsCanvasInlineTransformCanvasDataAction","AdsCanvasResetCanvasDataAction","AdsCFXPlaceOrderPlaceOrderCreationEndpointSuccessDataAction","AdsCFXPlaceOrderPublishSuccessDataAction","AdsDataAtom","AdsDraftDraftPublishCompletedDataAction","AdsRichMediaEditorBackToMenuDataAction","AdsRichMediaEditorSetDocumentThemeDataAction","AdsUEditorAdgroupSetCanvasDocumentDataAction","CanvasDataUtils","CanvasUIProperty","FluxLoadObjectStore","immutable","LoadObject","adsCreateStoreThunkSelector"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("AdsCanvasConstants").CANVAS_COPY_SUFFIX,l=c("immutable").List;i=babelHelpers.inherits(m,c("FluxLoadObjectStore"));j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.getByID=c("adsCreateStoreThunkSelector")(this,this.get.bind(this)),o}m.prototype.getInitialState=function(){var n;return c("immutable").Map((n={},n[c("AdsCanvasDefaultNewDocumentID")]=c("LoadObject").withValue(new(c("AdsCanvasDocument"))()),n))};m.prototype.reduce=function(n,o){__p&&__p();var p=o.action,q=void 0,r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=void 0,A=void 0,B=void 0,C=void 0,D=void 0,E=void 0,F=void 0,G=void 0;switch(p.type){case c("AdsCanvasDocumentAddNewElementsDataAction").actionType:w=p.elements;z=p.id;this.get(z)!==null&&this.get(z).hasValue()||h(0);return this.__handleOne(n,z,this.get(z).getValueEnforcing().addNewElements(w,p.options.offsetIndex));case c("AddCanvasAddCanvasDataAction").actionType:case c("AdsCanvasBuilderSelectTemplateDataAction").actionType:case c("AdsCanvasDisableMultiTabCanvasDataAction").actionType:s=p.canvasDocument;return this.__handleOne(n,s.id,s);case c("AdsCanvasEnableMultiTabCanvasDataAction").actionType:var H=p.canvasDocuments;H.map(function(P){n=this.__handleOne(n,P.id,P)}.bind(this));return n;case c("AdsCanvasDocumentLoadErrorDataAction").actionType:t=p.canvasID;x=p.error;return this.__handleOne(n,t,x);case c("AdsCanvasInitDataAction").actionType:if(p.canvasID!=null)return n;var I=c("AdsCanvasDocument").createNewDocument(p.source,p.supportInstagramEnabled);return this.__handleOne(n,I.getID(),I);case c("AdsRichMediaEditorBackToMenuDataAction").actionType:s=this.get(c("AdsCanvasDefaultNewDocumentID")).getValueEnforcing();s=new(c("AdsCanvasDocument"))({id:c("AdsCanvasDefaultNewDocumentID"),source:s.source,uiPropertyList:s.uiPropertyList});return this.__handleOne(n,s.id,s);case c("AdsCanvasDocumentInitSaveDataAction").actionType:s=p.canvasDocument;w=p.elements;B=p.onSuccess;C=p.pageID;u=this.get(s.getID()).updating();c("AdsCanvasDocumentDataDispatcher").saveDocument(s,w,C,B);return n.set(p.canvasID,u);case c("AdsCanvasDocumentInitPublishDataAction").actionType:s=p.canvasDocument;B=p.onSuccess;C=p.pageID;u=this.get(s.getID()).updating();c("AdsCanvasDocumentDataDispatcher").publishDocument(s,C,B);return n.set(p.canvasID,u);case c("AdsCanvasInlineBuilderSaveCanvasDataAction").actionType:q=p.adgroupIDs;s=p.canvasDocument;w=p.elements;y=p.hostID;A=p.onError;B=p.onSuccess;C=p.pageID;D=p.productSetID;if(!s)return n;u=this.get(s.getID()).updating();c("AdsCanvasDocumentDataDispatcher").saveInlineDocument(s,w,D,C,B,A,q,y);return n.set(p.canvasID,u);case c("AdsCanvasInlineBuilderSaveAllCanvasesDataAction").actionType:q=p.adgroupIDs;r=p.canvases;w=p.elements;y=p.hostID;A=p.onError;B=p.onSuccess;C=p.pageID;D=p.productSetID;r.map(function(P){var Q=this.get(P.id).updating();n=n.set(P.id,Q)}.bind(this));c("AdsCanvasDocumentDataDispatcher").saveAllInlineDocuments(r,w,D,C,B,A,q,y);return n;case c("AdsCanvasDocumentLoadSuccessDataAction").actionType:case c("AdsCanvasDocumentCreateSuccessDataAction").actionType:case c("AdsCanvasDocumentSaveSuccessDataAction").actionType:case c("AdsCanvasDocumentDuplicateSuccessDataAction").actionType:t=p.canvasID;s=p.canvasDocument;n=this.__handleOne(n,t,s);return this.__handleOne(n,t+k,s);case c("AdsCanvasDocumentInitDuplicateDataAction").actionType:s=p.canvasDocument;w=p.elements;C=p.pageID;c("AdsCanvasDocumentDataDispatcher").duplicateDocument(s,w,C,p.onSuccess);return n;case c("AdsCanvasDocumentSetTitleDataAction").actionType:z=p.id;F=p.title;this.get(z)!==null&&this.get(z).hasValue()||h(0);return this.__handleOne(n,z,this.get(z).getValueEnforcing().setTitle(F));case c("AdsCanvasDocumentSetSupportInstagramDataAction").actionType:z=p.id;G=p.value;this.get(z)!==null&&this.get(z).hasValue()||h(0);s=this.get(z).getValueEnforcing();var J=s.uiPropertyList;if(G)s=s.set("uiPropertyList",J.push(c("CanvasUIProperty").SUPPORT_INSTAGRAM_CANVAS));else{var K=J.indexOf(c("CanvasUIProperty").SUPPORT_INSTAGRAM_CANVAS);if(K!==-1)s=s.set("uiPropertyList",J["delete"](K))}return this.__handleOne(n,z,s);case c("AdsRichMediaEditorSetDocumentThemeDataAction").actionType:z=p.id;E=p.theme;this.get(z)!==null&&this.get(z).hasValue()||h(0);return this.__handleOne(n,z,this.get(z).getValueEnforcing().setBackgroundColor(E));case c("AdsCanvasDocumentReorderElementsDataAction").actionType:var L=void 0,M=void 0;z=p.id;L=p.source;M=p.target;this.get(z)!==null&&this.get(z).hasValue()||h(0);return this.__handleOne(n,z,this.get(z).getValueEnforcing().reorderElements(L,M));case c("AdsCanvasDocumentRefreshDataAction").actionType:n=this.__setEmptyAndLoading(n,c("immutable").List([p.canvasID]));c("AdsCanvasDocumentDataDispatcher").getDocument(p.canvasID);return n;case c("AdsCanvasElementDeleteDataAction").actionType:t=p.canvasID;v=p.elementID;this.get(t)!==null&&this.get(t).hasValue()||h(0);s=this.get(t).getValueEnforcing();w=s.getElements();var N=w.findIndex(function(P){return P.id===v});w=w.remove(N);return this.__handleOne(n,t,s.setElements(w));case c("AdsCanvasElementSwitchMediaElementTypeDataAction").actionType:case c("AdsCanvasElementSwitchElementTypeDataAction").actionType:case c("AdsCanvasElementSwitchButtonPositionDataAction").actionType:t=p.canvasID;s=p.canvasDocument;this.get(t)!==null&&this.get(t).hasValue()||h(0);return this.__handleOne(n,t,s);case c("AdsUEditorAdgroupSetCanvasDocumentDataAction").actionType:n=this.__setEmptyAndLoading(n,c("immutable").List([p.canvasID]));c("AdsCanvasDocumentDataDispatcher").getDocument(p.canvasID);return n;case c("AdsCanvasInlineTransformCanvasDataAction").actionType:r=p.canvases;r.map(function(P){n=this.__handleOne(n,P.id,P)}.bind(this));return n;case c("AdsCanvasBuilderOpenBlankCanvasDataAction").actionType:case c("AdsCanvasBuilderOpenNUXTourDataAction").actionType:s=this.get(c("AdsCanvasDefaultNewDocumentID")).getValueEnforcing();s=s.set("elements",l([]));return this.__handleOne(n,s.id,s);case c("AdsCanvasResetCanvasDataAction").actionType:t=p.canvasID;if(!c("CanvasDataUtils").isNewDocumentID(t)){var O=this.get(t+k).getValueEnforcing();n=this.__handleOne(n,t,O)}return n;case c("AdsCFXPlaceOrderPlaceOrderCreationEndpointSuccessDataAction").actionType:case c("AdsCFXPlaceOrderPublishSuccessDataAction").actionType:case c("AdsAdObjectUpdateSuccessDataAction").actionType:case c("AdsDraftDraftPublishCompletedDataAction").actionType:return this.getInitialState();default:return n}};m.prototype.__load=function(n){c("AdsCanvasDocumentDataDispatcher").getDocument(n)};f.exports=new m(c("AdsDataAtom"))}),null);
__d("adsCanvasCurrentDocumentSelector",["AdsCanvasCurrentCanvasIDStore","AdsCanvasDocumentStore","LoadObject","adsCreateStoreSelector"],(function a(b,c,d,e,f,g){"use strict";var h=c("adsCreateStoreSelector")([].concat(c("AdsCanvasCurrentCanvasIDStore").getCurrentDocumentID.getStores(),[c("AdsCanvasDocumentStore")]),function(){return c("AdsCanvasDocumentStore").get(c("AdsCanvasCurrentCanvasIDStore").getCurrentDocumentID())},f.id+".selector");f.exports=h}),null);
__d("RichMediaLoggingStoreUtils",["AdsAccountStore","AdsCanvasDefaultNewDocumentID","RichMediaEditorDataDispatcher","RichMediaEditorStore","adsCanvasCurrentDocumentSelector"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={logRichMediaCreationEventWithLogger:function i(j,k){var l=c("adsCanvasCurrentDocumentSelector")();if(!l.hasValue())return;var m=l.getValueEnforcing();k=k===c("AdsCanvasDefaultNewDocumentID")?null:k;j.setAdAccountID(parseInt(c("AdsAccountStore").getSelectedAccountID(),10)).setCanvasID(k).setCanvasName(m.title).setIsNewUser(c("RichMediaEditorStore").isNewUser()).setPageID(c("RichMediaEditorStore").getCanvasPageId()).setPropertyList(m.propertyList).setSource(c("RichMediaEditorStore").getCanvasSource());c("RichMediaEditorDataDispatcher").getCanvasPageData(c("RichMediaEditorStore").getCanvasPageId(),j)}};f.exports=h}),null);
__d("RichMediaEditorTextEditor.react",["ix","cx","fbt","AdsCanvasWebdriverIDs","CanvasCreationEvent","CanvasCreationWaterfallTypedLogger","DraftEditor.react","EditorState","Image.react","PopoverMenu.react","React","ReactXUIMenu","colr","RichTextEditorUtil","RichMediaEditorColorInput.react","RichMediaLoggingStoreUtils","RichMediaPreviewUtil","RichMediaRichFormatText","ShimButton.react","Text","XUISelector.react","XUISelectorButton.react","decodeBlocks","encodeBlocks","RichMediaEditorConstants"],(function a(b,c,d,e,f,g,h,aa,i){"use strict";__p&&__p();var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=c("ReactXUIMenu").SelectableItem,A=c("ReactXUIMenu").SelectableMenu,B=c("XUISelector.react").Option,C=c("RichMediaEditorConstants").EDITOR_FONT_FAMILIES,D=c("RichMediaEditorConstants").EDITOR_LINE_HEIGHT,E=c("RichMediaEditorConstants").EDITOR_PADDING_PREVIEW_SCALE,F=c("React").PropTypes;j=babelHelpers.inherits(G,c("React").Component);k=j&&j.prototype;function G(){var S,T;for(var U=arguments.length,V=Array(U),W=0;W<U;W++)V[W]=arguments[W];return T=(S=k.constructor).call.apply(S,[this].concat(V)),this.$StyleButton1=function(X){X.preventDefault();this.props.onToggle(this.props.style)}.bind(this),T}G.prototype.render=function(){var S=this.props.style;return c("React").createElement(c("ShimButton.react"),{className:"_1fp0"+(S==="BOLD"?" _v1g":"")+(S==="ITALIC"?" _v1n":"")+(S==="UNDERLINE"?" _v1o":"")+(this.props.active?" _v1p":"")+(this.props.disabled?" _4k_6":""),onClick:this.props.disabled?null:this.$StyleButton1},c("React").createElement(c("Text"),null,this.props.label))};var H=[{label:i._("B"),style:"BOLD"},{label:i._("I"),style:"ITALIC"},{label:i._("U"),style:"UNDERLINE"}];l=babelHelpers.inherits(I,c("React").Component);m=l&&l.prototype;I.prototype.render=function(){var S=this.props.editorState.getCurrentInlineStyle();return c("React").createElement("div",{className:"_v1q"},H.map(function(T){return c("React").createElement(G,{active:S.has(T.style),disabled:this.props.disabled,key:T.style,label:T.label,style:T.style,onToggle:this.props.onToggle})}.bind(this)))};function I(){l.apply(this,arguments)}I.propTypes={disabled:F.bool,editorState:F.object.isRequired,onToggle:F.func.isRequired};n=babelHelpers.inherits(J,c("React").Component);o=n&&n.prototype;function J(){var S,T;for(var U=arguments.length,V=Array(U),W=0;W<U;W++)V[W]=arguments[W];return T=(S=o.constructor).call.apply(S,[this].concat(V)),this.$TextAlignmentButton1=function(X){X.preventDefault();this.props.onToggle(this.props.textAlignment)}.bind(this),T}J.prototype.render=function(){return c("React").createElement(c("ShimButton.react"),{className:"_1fp0"+(this.props.active?" _v1p":""),onClick:this.props.disabled?null:this.$TextAlignmentButton1},c("React").createElement("div",{className:"_5p-"+(this.props.textAlignment==="left"?" _1fp1":"")+(this.props.textAlignment=="center"?" _1fp2":"")+(this.props.textAlignment=="right"?" _1fp3":"")}))};J.propTypes={active:F.bool.isRequired,disabled:F.bool,textAlignment:F.string.isRequired,onToggle:F.func.isRequired};var K=["left","center","right"];p=babelHelpers.inherits(L,c("React").Component);q=p&&p.prototype;L.prototype.render=function(){return c("React").createElement("div",{className:"_v1q"+(this.props.disabled?" _4k_6":"")},K.map(function(S){return c("React").createElement(J,{active:this.props.textAlignment===S,disabled:this.props.disabled,key:S,textAlignment:S,onToggle:this.props.onToggle})}.bind(this)))};function L(){p.apply(this,arguments)}L.propTypes={disabled:F.bool,textAlignment:F.string.isRequired,onToggle:F.func.isRequired};var M=6,N=72;r=babelHelpers.inherits(O,c("React").Component);s=r&&r.prototype;O.prototype.render=function(){var S=[];for(var T=M;T<=N;T++)S.push(T);return c("React").createElement(c("XUISelector.react"),{className:"_5p_",disabled:this.props.disabled,maxheight:120,name:"font_size_selector",value:this.props.fontSize,onChange:function(U){return this.$FontSizeInput1(U.value)}.bind(this)},c("React").createElement(c("XUISelectorButton.react"),{className:"_5q0",haschevron:true}),S.map(function(U){return c("React").createElement(B,{key:U,value:U},U)}))};O.prototype.$FontSizeInput1=function(S){var T=parseInt(S,10);if(!isNaN(T))this.props.onChange(T)};function O(){r.apply(this,arguments)}O.propTypes={disabled:F.bool,fontSize:F.number.isRequired,onChange:F.func.isRequired};t=babelHelpers.inherits(P,c("React").Component);u=t&&t.prototype;function P(){var S,T;for(var U=arguments.length,V=Array(U),W=0;W<U;W++)V[W]=arguments[W];return T=(S=u.constructor).call.apply(S,[this].concat(V)),this.$FontFamilySelector1=function(event){this.props.onChange(event.value)}.bind(this),T}P.prototype.render=function(){return c("React").createElement(c("XUISelector.react"),{className:"_1rsy",disabled:this.props.disabled,maxheight:120,maxwidth:174,name:"font_selector",value:this.props.fontFamily,onChange:this.$FontFamilySelector1},c("React").createElement(c("XUISelectorButton.react"),{className:"_5r2",haschevron:true,maxwidth:150}),C.map(function(S){return c("React").createElement(B,{key:S,value:S},S)}))};P.propTypes={disabled:F.bool,fontFamily:F.string.isRequired,onChange:F.func.isRequired};v=babelHelpers.inherits(Q,c("React").Component);w=v&&v.prototype;function Q(){var S,T;for(var U=arguments.length,V=Array(U),W=0;W<U;W++)V[W]=arguments[W];return T=(S=w.constructor).call.apply(S,[this].concat(V)),this.state={selectedLineHeight:this.props.lineHeight},this.$LineHeightInput1=function(X,Y){var Z=Y.item,$=Z.getValue();this.setState({selectedLineHeight:$});this.props.onChange($);c("RichMediaLoggingStoreUtils").logRichMediaCreationEventWithLogger(new(c("CanvasCreationWaterfallTypedLogger"))().setEventName(c("CanvasCreationEvent").EDITOR_LINE_HEIGHT_TOUCH).setEditorLineHeight($))}.bind(this),T}Q.prototype.render=function(){if(this.props.hide)return null;var S=D.map(function(U){return c("React").createElement(z,{key:U,selected:this.state.selectedLineHeight==U,value:U},U)}.bind(this)),T=c("React").createElement(A,{className:"_1k92",multiple:false,onChange:this.$LineHeightInput1},S);return c("React").createElement(c("PopoverMenu.react"),{alignh:"right",className:"_3la2"+(this.props.disabled?" _4k_6":""),disabled:this.props.disabled,menu:T,name:"line_height"},c("React").createElement(c("XUISelectorButton.react"),{className:"_3la4",image:c("React").createElement(c("Image.react"),{src:h("23616")})}))};Q.defaultProps={disabled:false,hide:false};Q.propTypes={disabled:F.bool,hide:F.bool,lineHeight:F.string.isRequired,onChange:F.func.isRequired};x=babelHelpers.inherits(R,c("React").Component);y=x&&x.prototype;function R(){__p&&__p();var S,T;for(var U=arguments.length,V=Array(U),W=0;W<U;W++)V[W]=arguments[W];return T=(S=y.constructor).call.apply(S,[this].concat(V)),this.$RichMediaEditorTextEditor10=function(){return this.props.disableReturnHandler==true?"handled":"not-handled"}.bind(this),this.$RichMediaEditorTextEditor11=function(X){if(this.props.preview)return;this.setState({editorState:X});this.props.onChange(this.props.richFormatText.set("composedText",c("encodeBlocks")(X.getCurrentContent())))}.bind(this),this.$RichMediaEditorTextEditor4=function(X){this.$RichMediaEditorTextEditor11(c("RichTextEditorUtil").toggleInlineStyle(this.state.editorState,X))}.bind(this),this.$RichMediaEditorTextEditor5=function(X){this.props.onChange(this.props.richFormatText.set("textAlignment",X))}.bind(this),this.$RichMediaEditorTextEditor3=function(X){this.props.onChange(this.props.richFormatText.set("textColor",X))}.bind(this),this.$RichMediaEditorTextEditor2=function(X){this.props.onChange(this.props.richFormatText.set("fontSize",X))}.bind(this),this.$RichMediaEditorTextEditor1=function(X){this.props.onChange(this.props.richFormatText.set("fontFamily",X))}.bind(this),this.$RichMediaEditorTextEditor6=function(X){this.props.onChange(this.props.richFormatText.set("lineHeight",X))}.bind(this),this.state={editorState:this.$RichMediaEditorTextEditor7(this.props.richFormatText)},T}R.prototype.render=function(){var S=null,T=this.state.editorState;if(!this.props.textPreview&&!this.props.buttonPreview)S=c("React").createElement("div",{className:"_1fp4"},c("React").createElement(P,{disabled:this.props.disabled,fontFamily:this.props.richFormatText.fontFamily,onChange:this.$RichMediaEditorTextEditor1}),c("React").createElement(O,{disabled:this.props.disabled,fontSize:this.props.richFormatText.fontSize,onChange:this.$RichMediaEditorTextEditor2}),c("React").createElement("div",{className:"_5r3"},c("React").createElement(c("RichMediaEditorColorInput.react"),{color:this.props.richFormatText.textColor,disabled:this.props.disabled,onChange:this.$RichMediaEditorTextEditor3})),c("React").createElement(I,{disabled:this.props.disabled,editorState:T,onToggle:this.$RichMediaEditorTextEditor4}),this.props.hideTextAlignment?null:c("React").createElement(L,{disabled:this.props.disabled,textAlignment:this.props.richFormatText.textAlignment,onToggle:this.$RichMediaEditorTextEditor5}),c("React").createElement(Q,{disabled:this.props.disabled,hide:this.props.hideLineHeightSelector,lineHeight:this.props.richFormatText.lineHeight,onChange:this.$RichMediaEditorTextEditor6}));else T=this.$RichMediaEditorTextEditor7(this.props.richFormatText);var U=this.props.buttonPreview||this.props.textPreview;return c("React").createElement("div",{className:(!U?"_v1r":"")+(!!this.props.textPreview&&!this.props.fullBleed?" _5mmf":"")+(!!this.props.buttonPreview?" _5mmg":"")+(this.props.oneLine&&!U?" _1fj":"")+(!this.props.oneLine&&!U?" _1fk":"")},S,c("React").createElement("div",{style:{transition:"background-color 325ms ease",backgroundColor:U?"transparent":this.$RichMediaEditorTextEditor8(this.props.richFormatText.textColor),color:this.props.richFormatText.textColor,fontFamily:this.props.richFormatText.fontFamily,fontSize:this.props.richFormatText.fontSize,lineHeight:this.$RichMediaEditorTextEditor9(this.props.richFormatText.fontSize,this.props.richFormatText.lineHeight),overflowY:U?"inherit":"scroll",padding:U?c("RichMediaPreviewUtil").formatPadding(this.props.padding):0}},c("React").createElement(c("DraftEditor.react"),{editorState:T,handleReturn:this.$RichMediaEditorTextEditor10,placeholder:i._("Write something...").toString(),readOnly:this.props.disabled,textAlignment:this.props.richFormatText.textAlignment,webDriverTestID:c("AdsCanvasWebdriverIDs").TEXT_EDITOR,onChange:this.$RichMediaEditorTextEditor11})))};R.prototype.$RichMediaEditorTextEditor7=function(S){var T=c("decodeBlocks")(S.composedText.blocks,S.composedText.entityMap);return c("EditorState").createWithContent(T)};R.prototype.$RichMediaEditorTextEditor8=function(S){var T=c("colr").fromHex(S).toGrayscale()/255;return T>.5?"#000":"#FFF"};R.prototype.$RichMediaEditorTextEditor9=function(S,T){var U=parseFloat(T)*E*100;return U+"%"};R.propTypes={buttonPreview:F.bool,disableReturnHandler:F.bool,disabled:F.bool,fullBleed:F.bool,hideLineHeightSelector:F.bool,hideTextAlignment:F.bool,oneLine:F.bool,padding:F.object,richFormatText:F.instanceOf(c("RichMediaRichFormatText")).isRequired,textPreview:F.bool,onChange:F.func.isRequired};R.defaultProps={buttonPreview:false,disableReturnHandler:false,hideLineHeightSelector:false,hideTextAlignment:false,oneLine:false,textPreview:false};f.exports=R}),null);
__d("AdsCanvasPreviewTextElement.react",["AdsCanvasWebdriverIDs","React","RichMediaEditorTextEditor.react","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){var k=this.props.textElement.backgroundColor?this.props.textElement.backgroundColor:"#FFFFFF";return c("React").createElement("div",{"data-index":this.props.textElement.index,"data-testid":c("AdsCanvasWebdriverIDs").PREVIEW_TEXT_COMPONENT,style:{background:k}},c("React").createElement(c("RichMediaEditorTextEditor.react"),{disabled:true,padding:this.props.textElement.padding,richFormatText:this.props.textElement.richFormatText,textPreview:true,onChange:c("emptyFunction")}))};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("AdsCanvasPreviewBundleElement.react",["fbt","AdsCanvasPreviewPhotoElement.react","AdsCanvasPreviewTextElement.react","React","RichMediaPhotoElement","RichMediaTextElement"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.bundleElement,m=l.get("items"),n=l.get("index");return c("React").createElement("div",null,m.map(function(o,p){return this.$AdsCanvasPreviewBundleElement1(o,p,n)}.bind(this)))};k.prototype.$AdsCanvasPreviewBundleElement1=function(l,m,n){var o=c("RichMediaPhotoElement").createFromBundle(l,m*3+1+n,"element_group_"+m),p=c("RichMediaTextElement").createFromBundle(l.get("itemHeadline")||h._("Add a product name or headline").toString(),l.get("link"),m*3+1+n,"element_group_"+m,"item_headline"),q=c("RichMediaTextElement").createFromBundle(l.get("itemDescription")||h._("Add a product price or description").toString(),l.get("link"),m*3+2+n,"element_group_"+m,"item_description");return c("React").createElement("div",{key:m},c("React").createElement(c("AdsCanvasPreviewPhotoElement.react"),{fullHeight:this.props.fullHeight,photoElement:o,width:this.props.width}),c("React").createElement(c("AdsCanvasPreviewTextElement.react"),{textElement:p}),c("React").createElement(c("AdsCanvasPreviewTextElement.react"),{textElement:q}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("AdsCanvasPreviewButtonElement.react",["cx","AdsCanvasWebdriverIDs","React","RichMediaEditorTextEditor.react","RichMediaPreviewUtil","emptyFunction"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.buttonElement.isFilled?{background:this.props.buttonElement.buttonColor}:{border:"solid 2px "+this.props.buttonElement.buttonColor},m=this.props.isBottomButton?{}:{padding:c("RichMediaPreviewUtil").formatPadding(this.props.buttonElement.padding)},n=babelHelpers["extends"]({},m,{background:this.props.buttonElement.backgroundColor});return c("React").createElement("div",{"data-testid":c("AdsCanvasWebdriverIDs").PREVIEW_BUTTON_COMPONENT,style:n},c("React").createElement("div",{className:"_6w5",style:l},c("React").createElement(c("RichMediaEditorTextEditor.react"),{buttonPreview:true,disabled:true,richFormatText:this.props.buttonElement.richFormatText,onChange:c("emptyFunction")})))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("AdsCanvasPreviewCarouselItem.react",["cx","ix","AdsCanvasWebdriverIDs","Image.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=this.props.carouselItem.photo;if(m&&m.src){var n=this.$AdsCanvasPreviewCarouselItem1(m),o=this.props.instagramPreview?i("306030"):i("23610"),p=this.props.carouselItemIndex<this.props.carouselLength-1?c("React").createElement(c("Image.react"),{className:(!this.props.instagramPreview?"_gp2":"")+(this.props.instagramPreview?" _5_jy":""),src:o}):null,q=this.props.carouselItemIndex===this.props.carouselLength-1&&!this.props.instagramPreview?c("React").createElement(c("Image.react"),{className:"_gp3",src:i("23609")}):null,r={overflow:"hidden",height:this.props.layout==="fit_to_width"&&this.props.firstPhotoHeight>0?this.props.firstPhotoHeight:n.height,width:this.props.width};return c("React").createElement("div",{className:"_gp4",style:r},p,q,c("React").createElement(c("Image.react"),{"data-index":this.props.carouselItemIndex,"data-testid":c("AdsCanvasWebdriverIDs").PREVIEW_CAROUSEL_IMAGE,height:n.height,src:m.src,style:{transform:"translateX("+(n.width>this.props.width?"-":"")+n.translateX+"px)"},width:n.width}))}else return c("React").createElement("div",{className:"_gp4",style:{height:this.props.slideHeight,width:this.props.width,background:"url('/images/ads/rich_media/photo_placeholder.png') no-repeat center center"}})};l.prototype.$AdsCanvasPreviewCarouselItem1=function(m){__p&&__p();var n=0,o=0,p=0;if(this.props.layout=="fit_to_height"){n=this.props.slideHeight;o=m.width*this.props.slideHeight/m.height}else{var q=m.height*this.props.width/m.width;if(this.props.firstPhotoHeight>0&&q<this.props.firstPhotoHeight){n=this.props.firstPhotoHeight;o=m.width*this.props.firstPhotoHeight/m.height}else{o=this.props.width;n=Math.min(q,this.props.slideHeight)}}if(o!=this.props.width)p=Math.abs((o-this.props.width)/2);return{height:n,translateX:p,width:o}};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("AdsCanvasPreviewCarouselElement.react",["cx","AdsCanvasCarouselElement","AdsCanvasPreviewCarouselItem.react","AdsCanvasPreviewCarouselSlider.react","AdsCanvasWebdriverIDs","Image.react","React","RichMediaCarouselElement","RichMediaPreviewUtil"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.shouldComponentUpdate=function(l){if(this.props.carouselElement instanceof c("AdsCanvasCarouselElement"))return this.props.carouselElement!==l.carouselElement||this.props.instagramPreview!==l.instagramPreview;return!c("RichMediaCarouselElement").equals(this.props.carouselElement,l.carouselElement)||this.props.instagramPreview!==l.instagramPreview};k.prototype.render=function(){__p&&__p();var l,m=this,n=this.props.carouselElement.items,o=Array.isArray(n)?n.length:n.count();if(o>0){var l=function(){var p=m.$AdsCanvasPreviewCarouselElement1(),q=0,r=Array.isArray(n)?n[0]:n.first();if(o>1&&r.photo)q=r.photo.height*m.props.width/r.photo.width;return{v:c("React").createElement("div",{className:"_5p-z","data-testid":c("AdsCanvasWebdriverIDs").PREVIEW_CAROUSEL_COMPONENT,style:{margin:c("RichMediaPreviewUtil").formatPadding(m.props.carouselElement.padding)}},c("React").createElement(c("AdsCanvasPreviewCarouselSlider.react"),{carouselLength:o,currentItemIndex:m.props.carouselElement.selectedItemIndex,instagramPreview:m.props.instagramPreview,slideHeight:m.props.carouselElement.layout==="fit_to_width"?q:p,slideWidth:m.props.width},n.map(function(s,t){return c("React").createElement(c("AdsCanvasPreviewCarouselItem.react"),{carouselItem:s,carouselItemIndex:t,carouselLength:o,firstPhotoHeight:q,instagramPreview:this.props.instagramPreview,key:this.props.carouselElement.index+"-"+s.index,layout:this.props.carouselElement.layout,slideHeight:p,width:this.props.width})}.bind(m))))}}();if(typeof l==="object")return l.v}return c("React").createElement("div",null,c("React").createElement("div",{className:"_49qc",style:{height:this.$AdsCanvasPreviewCarouselElement1()}},c("React").createElement(c("Image.react"),{src:"/images/ads/rich_media/photo_placeholder.png"})))};k.prototype.$AdsCanvasPreviewCarouselElement1=function(){__p&&__p();var l,m=this,n=this.props.fullHeight;if(this.props.carouselElement.layout==="fit_to_width")(function(){__p&&__p();var o=0;m.props.carouselElement.items.forEach(function(p){if(p.photo&&p.photo.src){var q=p.photo.height*this.props.width/p.photo.width;if(q>o)o=q}}.bind(m));if(o!=0)n=o;else n=m.props.width})();return n};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("AdsCanvasPreviewHeaderElement.react",["cx","AdsCanvasWebdriverIDs","CanvasColorUtils","Image.react","React","RichMediaRichFormatText"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){__p&&__p();var l=324,m=44;if(this.props.headerElement.photo){var n=this.props.headerElement.photo,o=Math.min(m/n.height,l/n.width);return c("React").createElement("div",{className:"_5o5u","data-testid":c("AdsCanvasWebdriverIDs").PREVIEW_HEADER_COMPONENT,style:this.$AdsCanvasPreviewHeaderElement1()},c("React").createElement(c("Image.react"),{className:"_5o5y","data-testid":c("AdsCanvasWebdriverIDs").PREVIEW_HEADER_IMAGE,height:n.height*o,src:n.src,width:n.width*o}))}else if(this.props.headerElement.richFormatText&&this.props.headerElement.richFormatText.composedText){var p=c("RichMediaRichFormatText").getPlainTextFromComposedText(this.props.headerElement.richFormatText.composedText);return c("React").createElement("div",{className:"_5o5u","data-testid":c("AdsCanvasWebdriverIDs").PREVIEW_HEADER_COMPONENT},c("React").createElement("div",{className:"_5o5y"},c("React").createElement("span",{className:"_5o5z"},p)))}return c("React").createElement("div",{className:"_5o5u","data-testid":c("AdsCanvasWebdriverIDs").PREVIEW_HEADER_COMPONENT,style:this.$AdsCanvasPreviewHeaderElement1()},c("React").createElement(c("Image.react"),{className:"_5o5y","data-testid":c("AdsCanvasWebdriverIDs").PREVIEW_HEADER_IMAGE,src:"/images/ads/rich_media/photo_placeholder.png"}))};k.prototype.$AdsCanvasPreviewHeaderElement1=function(){var l={};if(this.props.headerElement.backgroundColor){var m=c("CanvasColorUtils").convertARGBToColorWithOpacity(this.props.headerElement.backgroundColor),n=c("CanvasColorUtils").convertRGBtoCSSColorWithOpacity(m.color,m.opacity/100);l.background=n}else l.background="rgba(255, 255, 255, 1.0)";if(this.props.headerElement.isOpaque())l.position="static";return l};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("AdsCanvasPreviewNavigationTabElement.react",["cx","React","SUIText.react","emptyFunction"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){var k=1e4;return c("React").createElement("div",{className:"_1pcd",style:{width:j.width}},c("React").createElement("div",{className:"_nqw",style:{width:k,left:8}},j.tabNames.map(function(l,m){var n=m===j.selectedIndex;return c("React").createElement("div",{className:"_1pce",key:m,role:"menuitem",tabIndex:0,onClick:n?c("emptyFunction"):function(){return j.onChange(m)}},c("React").createElement(c("SUIText.react"),{color:n?"primary":"secondary",display:"block",size:"body1_DEPRECATED",weight:n?"bold":"normal"},c("React").createElement("div",{className:"_1pcj"+(n?" _1pcl":"")},l)))}).toArray()))}f.exports=i}),null);
__d("adsCanvasCurrentDocumentElementsSelector",["AdsCanvasElementStore","immutable","LoadObject","adsCanvasCurrentDocumentSelector","adsCreateStoreSelector"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").List,i=c("adsCreateStoreSelector")([].concat(c("adsCanvasCurrentDocumentSelector").getStores(),[c("AdsCanvasElementStore")]),function(){var j=c("adsCanvasCurrentDocumentSelector")();if(!j.hasValue())return h([c("LoadObject").loading()]);var k=j.getValueEnforcing();return k.get("elements").map(function(l){return c("AdsCanvasElementStore").get(l.id)})},f.id+".selector");f.exports=i}),null);
__d("AdsSlideshowStoreState",["immutable","SlideshowConstants","SlideshowEntrypoint","SlideshowFlowTypes"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("SlideshowFlowTypes").SlideshowTabKey,k=c("immutable").Record({adgroupIDs:null,cancelledVideoIDs:c("immutable").Set(),durationInMS:1e3,entrypoint:c("SlideshowEntrypoint").UNKNOWN,format:c("SlideshowConstants").formats.Original,imageDialogShown:false,isFetchingShakrAccessToken:false,isProcessing:c("immutable").Map(),isProcessingThirdPartySlideshow:false,savedState:null,selectedTab:j.SETTINGS_TAB,selectedVideoID:null,shakrPollNotifier:null,showAnimotoDialog:false,showSlideshowThirdPartyCancelDialog:false,slideshowDialogShown:false,slideshowUploader:null,thirdPartySlideshowUploader:null,transitionInMS:c("SlideshowConstants").transitions.None,videoLength:c("SlideshowConstants").default_length_in_seconds});h=babelHelpers.inherits(l,k);i=h&&h.prototype;function l(){h.apply(this,arguments)}f.exports=l}),null);
__d("AdsSlideshowAnimotoVideoFinalizedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ANIMOTO_VIDEO_FINALIZED");f.exports=h}),null);
__d("AdsSlideshowAnimotoVideoUploadDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ANIMOTO_VIDEO_UPLOAD");f.exports=h}),null);
__d("AdsSlideshowReducerUtils",[],(function a(b,c,d,e,f,g){"use strict";function h(j,k,l){var m=j.get("isProcessing");m=m.set(k,l);return j.set("isProcessing",m)}var i={updateProcessingStatus:h};f.exports=i}),null);
__d("AdsSlideshowToggleAnimotoDialogDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"TOGGLE_ANIMOTO_DIALOG");f.exports=h}),null);
__d("SlideshowThirdPartyEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SLIDESHOW_ANIMOTO_CREATE_FB_SLIDESHOW:"slideshow_animoto_create_fb_slideshow",SLIDESHOW_ANIMOTO_DIALOG_LOADED:"slideshow_animoto_dialog_loaded",SLIDESHOW_ANIMOTO_USE_ORIGINAL_SLIDESHOW:"slideshow_animoto_use_original_slideshow",SLIDESHOW_ANIMOTO_VIDEO_ENCODING_COMPLETED:"slideshow_animoto_video_encoding_completed",SLIDESHOW_ANIMOTO_VIDEO_ENCODING_FAILED:"slideshow_animoto_video_encoding_failed",SLIDESHOW_ANIMOTO_VIDEO_FINALIZED:"slideshow_animoto_video_finalized",SLIDESHOW_ANIMOTO_VIDEO_UPLOAD_STARTED:"slideshow_animoto_video_upload_started",SLIDESHOW_ANIMOTO_VIDEO_UPLOAD_COMPLETED:"slideshow_animoto_video_upload_completed",SLIDESHOW_ANIMOTO_VIDEO_RENDER_ERROR:"slideshow_animoto_video_render_error",SLIDESHOW_SHAKR_ACCESS_TOKEN_FETCHED:"slideshow_shakr_access_token_fetched",SLIDESHOW_SHAKR_ACCESS_TOKEN_FETCH_ERROR:"slideshow_shakr_access_token_fetch_error",SLIDESHOW_SHAKR_PICKER_LOADED:"slideshow_shakr_picker_loaded",SLIDESHOW_SHAKR_EDITOR_ERROR:"slideshow_shakr_editor_error",SLIDESHOW_SHAKR_POLL_ERROR:"slideshow_shakr_poll_error",SLIDESHOW_SHAKR_POLL_STARTED:"slideshow_shakr_poll_started",SLIDESHOW_SHAKR_POLL_TIMED_OUT:"slideshow_shakr_poll_timed_out",SLIDESHOW_SHAKR_USE_ORIGINAL_SLIDESHOW:"slideshow_shakr_use_original_slideshow",SLIDESHOW_SHAKR_VIDEO_ENCODING_COMPLETED:"slideshow_shakr_video_encoding_completed",SLIDESHOW_SHAKR_VIDEO_ENCODING_FAILED:"slideshow_shakr_video_encoding_failed",SLIDESHOW_SHAKR_VIDEO_UPLOAD_STARTED:"slideshow_shakr_video_upload_started",SLIDESHOW_SHAKR_VIDEO_UPLOAD_COMPLETED:"slideshow_shakr_video_upload_completed"})}),null);
__d("SlideshowThirdPartyTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:SlideshowThirdPartyLoggerConfig",this.$SlideshowThirdPartyTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:SlideshowThirdPartyLoggerConfig",this.$SlideshowThirdPartyTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$SlideshowThirdPartyTypedLogger1={};return this};h.prototype.updateData=function(j){this.$SlideshowThirdPartyTypedLogger1=babelHelpers["extends"]({},this.$SlideshowThirdPartyTypedLogger1,j);return this};h.prototype.setErrorMessage=function(j){this.$SlideshowThirdPartyTypedLogger1.error_message=j;return this};h.prototype.setEvent=function(j){this.$SlideshowThirdPartyTypedLogger1.event=j;return this};h.prototype.setVC=function(j){this.$SlideshowThirdPartyTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$SlideshowThirdPartyTypedLogger1.video_id=j;return this};var i={error_message:true,event:true,vc:true,video_id:true};f.exports=h}),null);
__d("adsSlideshowAnimotoReducer",["AdsAccountStore","AdsDataAtom","AdsSlideshowAnimotoVideoFinalizedDataAction","AdsSlideshowAnimotoVideoUploadDataAction","AdsSlideshowReducerUtils","AdsSlideshowToggleAnimotoDialogDataAction","immutable","SlideshowThirdPartyEvents","SlideshowThirdPartyTypedLogger"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){__p&&__p();switch(j.type){case c("AdsSlideshowToggleAnimotoDialogDataAction").actionType:if(j.data.showAnimotoDialog){i=i.set("thirdPartySlideshowUploader",j.data.slideshowUploader);new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_ANIMOTO_DIALOG_LOADED).log()}else i=i.set("showSlideshowThirdPartyCancelDialog",true);if(j.data.adgroupIDs)i=i.set("adgroupIDs",c("immutable").List(j.data.adgroupIDs));return i.set("showAnimotoDialog",j.data.showAnimotoDialog);case c("AdsSlideshowAnimotoVideoUploadDataAction").actionType:if(!i.get("isProcessing").get(i.get("entrypoint")))return i;c("AdsDataAtom").waitFor([c("AdsAccountStore").getDispatchToken()]);new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_ANIMOTO_VIDEO_UPLOAD_STARTED).log();i.get("thirdPartySlideshowUploader").uploadThirdPartySlideshow(c("AdsAccountStore").getSelectedAccountID(),j.data.videoURL,"SLIDESHOW_ANIMOTO");return i;case c("AdsSlideshowAnimotoVideoFinalizedDataAction").actionType:i=i.set("showAnimotoDialog",false).set("isProcessingThirdPartySlideshow",true);new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_ANIMOTO_VIDEO_FINALIZED).log();return c("AdsSlideshowReducerUtils").updateProcessingStatus(i,i.get("entrypoint"),true);default:return i}}f.exports=h}),null);
__d("AdsSlideshowRestoreSlideshowStateDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RESTORE_SLIDESHOW_STATE");f.exports=h}),null);
__d("AdsSlideshowSaveSlideshowStateDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SAVE_SLIDESHOW_STATE");f.exports=h}),null);
__d("adsSlideshowEditReducer",["invariant","AdsSlideshowRestoreSlideshowStateDataAction","AdsSlideshowSaveSlideshowStateDataAction","AdsSlideshowStoreState"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j,k){switch(k.type){case c("AdsSlideshowSaveSlideshowStateDataAction").actionType:j.get("savedState")==null||h(0);if(j instanceof c("AdsSlideshowStoreState"))return j.set("savedState",j).set("slideshowDialogShown",true);return j.set("savedState",j);case c("AdsSlideshowRestoreSlideshowStateDataAction").actionType:if(j instanceof c("AdsSlideshowStoreState"))return j.get("savedState").set("slideshowDialogShown",false);return j.get("savedState")}return j}f.exports=i}),null);
__d("AdsSlideshowActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({ADD_VIDEO_CLICK:null,ANIMOTO_VIDEO_FINALIZED:null,ANIMOTO_VIDEO_UPLOAD:null,ANIMOTO_RENDER_ERROR:null,ATTACH_TO_VIDEO_ERROR:null,AUDIO_FILE_UPLOAD_ERROR:null,AUDIO_FILE_UPLOAD_STARTED:null,AUDIO_FILE_UPLOAD_SUCCESS:null,CLOSE_OBJECTIVE_NUX:null,CREATE:null,CREATE_RESET:null,DURATION_CHANGE:null,FETCH_FRAME_IMAGES:null,FORMAT_CHANGE:null,FRAME_IMAGES_FAILURE:null,FRAME_IMAGES_SUCCESS:null,IMAGE_REMOVE:null,IMAGES_SELECT_CANCEL:null,IMAGES_SELECT_CONFIRM:null,LENGTH_CHANGE:null,MUSIC_CATEGORY_SELECT:null,PREVIEW_STATE_CHANGE:null,REORDER_IMAGES:null,RESET_ALL:null,RESTORE_SLIDESHOW_STATE:null,SAVE_IMAGE_CROPS:null,SAVE_SLIDESHOW_STATE:null,SAVE_TEXTOVERLAY:null,SELECT_TAB:null,SET_ENTRYPOINT:null,SET_STORYLINE_MOOD_FILES:null,SHAKR_ACCESS_TOKEN_LOADED:null,SHAKR_GET_ACCESS_TOKEN:null,SHAKR_POLL_RESPONSE_RECEIVED:null,SHAKR_START_POLLING:null,STORYLINE_MOOD_CHANGE:null,STORYLINE_MOOD_DELETE:null,STORYLINE_MOOD_SOURCE_CHANGE:null,STORYLINE_MOOD_SOURCE_MAP_CHANGE:null,TOGGLE_ANIMOTO_DIALOG:null,TOGGLE_SLIDESHOW_DIALOG:null,TOGGLE_SLIDESHOW_THIRDPARTY_CANCEL_DIALOG:null,TOGGLE_IMAGE_DIALOG:null,TRANSITION_CHANGE:null,VIDEO_PICKER_CLOSED:null});f.exports=h}),null);
__d("AdsSlideshowShakrAccessTokenLoadedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SHAKR_ACCESS_TOKEN_LOADED");f.exports=h}),null);
__d("AdsCFVideoUploadErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_CF.VIDEO_UPLOAD_ERROR");f.exports=h}),null);
__d("AdsSlideshowAddVideoClickDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADD_VIDEO_CLICK");f.exports=h}),null);
__d("AdsSlideshowAttachToVideoErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ATTACH_TO_VIDEO_ERROR");f.exports=h}),null);
__d("AdsSlideshowAudioFileUploadErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AUDIO_FILE_UPLOAD_ERROR");f.exports=h}),null);
__d("AdsSlideshowAudioFileUploadStartedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AUDIO_FILE_UPLOAD_STARTED");f.exports=h}),null);
__d("AdsSlideshowAudioFileUploadSuccessDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AUDIO_FILE_UPLOAD_SUCCESS");f.exports=h}),null);
__d("AdsSlideshowDurationChangeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"DURATION_CHANGE");f.exports=h}),null);
__d("AdsSlideshowFetchFrameImagesDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"FETCH_FRAME_IMAGES");f.exports=h}),null);
__d("AdsSlideshowFormatChangeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"FORMAT_CHANGE");f.exports=h}),null);
__d("AdsSlideshowFrameImagesFailureDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"FRAME_IMAGES_FAILURE");f.exports=h}),null);
__d("AdsSlideshowFrameImagesSuccessDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"FRAME_IMAGES_SUCCESS");f.exports=h}),null);
__d("AdsSlideshowImageRemoveDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"IMAGE_REMOVE");f.exports=h}),null);
__d("AdsSlideshowImagesSelectConfirmDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"IMAGES_SELECT_CONFIRM");f.exports=h}),null);
__d("AdsSlideshowLengthChangeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"LENGTH_CHANGE");f.exports=h}),null);
__d("AdsSlideshowMusicCategorySelectDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"MUSIC_CATEGORY_SELECT");f.exports=h}),null);
__d("AdsSlideshowPreviewStateChangeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"PREVIEW_STATE_CHANGE");f.exports=h}),null);
__d("AdsSlideshowRemoveCancelledSlideshowUploadDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"REMOVE_CANCELLED_SLIDESHOW_UPLOAD");f.exports=h}),null);
__d("AdsSlideshowReorderImagesDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"REORDER_IMAGES");f.exports=h}),null);
__d("AdsSlideshowSaveImageCropsDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SAVE_IMAGE_CROPS");f.exports=h}),null);
__d("AdsSlideshowSaveTextoverlayDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SAVE_TEXTOVERLAY");f.exports=h}),null);
__d("AdsSlideshowSelectTabDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SELECT_TAB");f.exports=h}),null);
__d("AdsSlideshowSetEntrypointDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SET_ENTRYPOINT");f.exports=h}),null);
__d("AdsSlideshowSetSelectedVideoIDDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SET_SELECTED_VIDEO_ID");f.exports=h}),null);
__d("AdsSlideshowSetStorylineMoodFilesDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SET_STORYLINE_MOOD_FILES");f.exports=h}),null);
__d("AdsSlideshowShakrGetAccessTokenDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SHAKR_GET_ACCESS_TOKEN");f.exports=h}),null);
__d("AdsSlideshowShakrStartPollingDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SHAKR_START_POLLING");f.exports=h}),null);
__d("AdsSlideshowStorylineMoodChangeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"STORYLINE_MOOD_CHANGE");f.exports=h}),null);
__d("AdsSlideshowStorylineMoodDeleteDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"STORYLINE_MOOD_DELETE");f.exports=h}),null);
__d("AdsSlideshowStorylineMoodSourceChangeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"STORYLINE_MOOD_SOURCE_CHANGE");f.exports=h}),null);
__d("AdsSlideshowStorylineMoodSourceMapChangeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"STORYLINE_MOOD_SOURCE_MAP_CHANGE");f.exports=h}),null);
__d("AdsSlideshowToggleImageDialogDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"TOGGLE_IMAGE_DIALOG");f.exports=h}),null);
__d("AdsSlideshowToggleSlideshowDialogDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"TOGGLE_SLIDESHOW_DIALOG");f.exports=h}),null);
__d("AdsSlideshowToggleSlideshowThirdpartyCancelDialogDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"TOGGLE_SLIDESHOW_THIRDPARTY_CANCEL_DIALOG");f.exports=h}),null);
__d("AdsSlideshowTransitionChangeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"TRANSITION_CHANGE");f.exports=h}),null);
__d("AdsSlideshowVideoPickerClosedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO_PICKER_CLOSED");f.exports=h}),null);
__d("AdsSlideshowActions",["AdsCFVideoUploadErrorDataAction","AdsDataAtom","AdsSlideshowAddVideoClickDataAction","AdsSlideshowAnimotoVideoFinalizedDataAction","AdsSlideshowAnimotoVideoUploadDataAction","AdsSlideshowAttachToVideoErrorDataAction","AdsSlideshowAudioFileUploadErrorDataAction","AdsSlideshowAudioFileUploadStartedDataAction","AdsSlideshowAudioFileUploadSuccessDataAction","AdsSlideshowCreateDataAction","AdsSlideshowCreateResetDataAction","AdsSlideshowDurationChangeDataAction","AdsSlideshowFetchFrameImagesDataAction","AdsSlideshowFormatChangeDataAction","AdsSlideshowFrameImagesFailureDataAction","AdsSlideshowFrameImagesSuccessDataAction","AdsSlideshowImageRemoveDataAction","AdsSlideshowImagesSelectConfirmDataAction","AdsSlideshowLengthChangeDataAction","AdsSlideshowMusicCategorySelectDataAction","AdsSlideshowPreviewStateChangeDataAction","AdsSlideshowRemoveCancelledSlideshowUploadDataAction","AdsSlideshowReorderImagesDataAction","AdsSlideshowResetAllDataAction","AdsSlideshowRestoreSlideshowStateDataAction","AdsSlideshowSaveImageCropsDataAction","AdsSlideshowSaveSlideshowStateDataAction","AdsSlideshowSaveTextoverlayDataAction","AdsSlideshowSelectTabDataAction","AdsSlideshowSetEntrypointDataAction","AdsSlideshowSetSelectedVideoIDDataAction","AdsSlideshowSetStorylineMoodFilesDataAction","AdsSlideshowShakrGetAccessTokenDataAction","AdsSlideshowShakrStartPollingDataAction","AdsSlideshowStorylineMoodChangeDataAction","AdsSlideshowStorylineMoodDeleteDataAction","AdsSlideshowStorylineMoodSourceChangeDataAction","AdsSlideshowStorylineMoodSourceMapChangeDataAction","AdsSlideshowToggleAnimotoDialogDataAction","AdsSlideshowToggleImageDialogDataAction","AdsSlideshowToggleSlideshowDialogDataAction","AdsSlideshowToggleSlideshowThirdpartyCancelDialogDataAction","AdsSlideshowTransitionChangeDataAction","AdsSlideshowVideoPickerClosedDataAction","SlideshowThirdPartyEvents","SlideshowThirdPartyTypedLogger"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={selectImagesConfirm:function i(j){c("AdsSlideshowImagesSelectConfirmDataAction").dispatch({data:{selectedImages:j}})},showSlideshowDialogByQE:function i(j,k,l,m){__p&&__p();h.setEntrypoint(k);if(j==="shakr"){c("AdsSlideshowShakrGetAccessTokenDataAction").dispatch({data:{slideshowUploader:l,adgroupIDs:m}});return}if(j==="animoto"){c("AdsSlideshowToggleAnimotoDialogDataAction").dispatch({data:{showAnimotoDialog:true,slideshowUploader:l,adgroupIDs:m}});return}h.showSlideshowDialog()},animotoFinalize:function i(){c("AdsSlideshowAnimotoVideoFinalizedDataAction").dispatch({})},animotoRenderComplete:function i(j){c("AdsSlideshowAnimotoVideoUploadDataAction").dispatch({data:{videoURL:j}})},animotoRenderError:function i(){new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_ANIMOTO_VIDEO_RENDER_ERROR).log();c("AdsDataAtom").addPostDispatchCallback(function(){c("AdsCFVideoUploadErrorDataAction").dispatch({})})},hideAnimotoDialog:function i(){c("AdsSlideshowToggleAnimotoDialogDataAction").dispatch({data:{showAnimotoDialog:false}})},shakrStartPollingForVideoURL:function i(j){c("AdsSlideshowShakrStartPollingDataAction").dispatch({data:{showID:j}})},showThirdPartySlideshowCancelDialog:function i(){c("AdsSlideshowToggleSlideshowThirdpartyCancelDialogDataAction").dispatch({data:{slideshowCancelDialogShown:true}})},closeThirdPartySlideshowCancelDialog:function i(){c("AdsSlideshowToggleSlideshowThirdpartyCancelDialogDataAction").dispatch({data:{slideshowCancelDialogShown:false}})},showSlideshowDialog:function i(){c("AdsSlideshowToggleSlideshowDialogDataAction").dispatch({data:{slideshowDialogShown:true}})},closeSlideshowDialog:function i(){c("AdsSlideshowToggleSlideshowDialogDataAction").dispatch({data:{slideshowDialogShown:false}})},showImageDialog:function i(j){c("AdsSlideshowToggleImageDialogDataAction").dispatch({data:{imageDialogShown:true,showImageDialogSource:j}})},closeImageDialog:function i(){c("AdsSlideshowToggleImageDialogDataAction").dispatch({data:{imageDialogShown:false}})},cancelSlideshowCreation:function i(){c("AdsSlideshowCreateResetDataAction").dispatch({})},removeCancelledSlideshowUpload:function i(j){c("AdsSlideshowRemoveCancelledSlideshowUploadDataAction").dispatch({data:{videoID:j}})},setSelectedVideoID:function i(j){c("AdsSlideshowSetSelectedVideoIDDataAction").dispatch({data:{videoID:j}})},removeImage:function i(j){c("AdsSlideshowImageRemoveDataAction").dispatch({data:{removeImage:j}})},reset:function i(){c("AdsSlideshowResetAllDataAction").dispatch({})},changeVideoLength:function i(j){c("AdsSlideshowLengthChangeDataAction").dispatch({data:{length:j}})},changeStorylineMoodFile:function i(j){c("AdsSlideshowStorylineMoodChangeDataAction").dispatch({data:{selectedStorylineMood:j}})},deleteStorylineMoodFile:function i(j){c("AdsSlideshowStorylineMoodDeleteDataAction").dispatch({storylineMood:j})},changeStorylineMoodIDSource:function i(j){c("AdsSlideshowStorylineMoodSourceChangeDataAction").dispatch({data:{storylineMoodIDSource:j}})},changeStorylineMoodSourceMap:function i(j){c("AdsSlideshowStorylineMoodSourceMapChangeDataAction").dispatch({data:{storylineMoodIDSourceMap:j}})},changeTransition:function i(j){c("AdsSlideshowTransitionChangeDataAction").dispatch({data:{transitionInMS:j}})},reorderImages:function i(j,k){c("AdsSlideshowReorderImagesDataAction").dispatch({data:{fromIndex:j,toIndex:k}})},changeDuration:function i(j){c("AdsSlideshowDurationChangeDataAction").dispatch({data:{durationInMS:j}})},createSlideshow:function i(j){c("AdsSlideshowCreateDataAction").dispatch({data:j})},changeFormat:function i(j){c("AdsSlideshowFormatChangeDataAction").dispatch({data:{format:j}})},setStorylineMoodFiles:function i(j){c("AdsSlideshowSetStorylineMoodFilesDataAction").dispatch({data:{storylineMoodFiles:j}})},saveImageCrops:function i(j,k){c("AdsSlideshowSaveImageCropsDataAction").dispatch({data:{image:j,imageCrops:k}})},saveTextoverlay:function i(j,k){c("AdsSlideshowSaveTextoverlayDataAction").dispatch({data:{image:j,textoverlay:k}})},fetchFrameImages:function i(j){c("AdsSlideshowFetchFrameImagesDataAction").dispatch({videoID:j})},informFrameImagesSuccess:function i(j){c("AdsSlideshowFrameImagesSuccessDataAction").dispatch({frameImages:j})},informFrameImagesFailure:function i(){c("AdsSlideshowFrameImagesFailureDataAction").dispatch({})},showEditSlideshowDialog:function i(){c("AdsSlideshowSaveSlideshowStateDataAction").dispatch({})},closeEditSlideshowDialog:function i(){c("AdsSlideshowRestoreSlideshowStateDataAction").dispatch({})},attachToVideoError:function i(){c("AdsSlideshowAttachToVideoErrorDataAction").dispatch({})},selectTab:function i(j){c("AdsSlideshowSelectTabDataAction").dispatch({tab:j})},musicCategorySelect:function i(j){c("AdsSlideshowMusicCategorySelectDataAction").dispatch({selectedMusicCategory:j})},previewStateChange:function i(j){c("AdsSlideshowPreviewStateChangeDataAction").dispatch({isPreviewPlaying:j})},audioFileUploadStarted:function i(){c("AdsSlideshowAudioFileUploadStartedDataAction").dispatch({})},audioFileUploadSuccess:function i(j){c("AdsSlideshowAudioFileUploadSuccessDataAction").dispatch({uploadedMood:j})},audioFileUploadError:function i(){c("AdsSlideshowAudioFileUploadErrorDataAction").dispatch({})},addVideoClick:function i(){c("AdsSlideshowAddVideoClickDataAction").dispatch({})},videoPickerClosed:function i(){c("AdsSlideshowVideoPickerClosedDataAction").dispatch({})},setEntrypoint:function i(j){c("AdsSlideshowSetEntrypointDataAction").dispatch({entrypoint:j})}};f.exports=h}),null);
__d("AdsSlideshowShakrController",["AdsSlideshowActions","Bootloader","SlideshowThirdPartyEvents","SlideshowThirdPartyTypedLogger"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={openShakrPicker:function i(j){c("Bootloader").loadModules(["Shakr"],function(k){var l=new k.Picker({access_token:j,objective:0});l.on("init",function(event){new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_SHAKR_PICKER_LOADED).log()}).on("editor",function(event){var m=event.editor;m.on("finish",function(event){c("AdsSlideshowActions").shakrStartPollingForVideoURL(m.show_id)}).on("error",function(event){new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_SHAKR_EDITOR_ERROR).setErrorMessage(event.type).log()}).launch()}).on("closed",function(event){c("AdsSlideshowActions").showThirdPartySlideshowCancelDialog()}).launch()},"AdsSlideshowShakrController")}};f.exports=h}),null);
__d("SlideshowShakrPollAsyncNotifier",["AdsDataAtom","AdsCFActionTypes","AdsSlideshowActionTypes","SlideshowDataManager","VideoContainerType","SlideshowThirdPartyEvents","SlideshowThirdPartyTypedLogger"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=3e3,i=10*60*1e3,j="Slideshow";function k(l){__p&&__p();this.$SlideshowShakrPollAsyncNotifier5=function(m){if(!m.success){this.$SlideshowShakrPollAsyncNotifier6();return}c("AdsDataAtom").addPostDispatchCallback(function(){c("AdsDataAtom").handleUpdateFromServerResponse({data:{videoURL:m.videoURL},type:c("AdsSlideshowActionTypes").SHAKR_POLL_RESPONSE_RECEIVED})})}.bind(this);this.$SlideshowShakrPollAsyncNotifier1=l;this.$SlideshowShakrPollAsyncNotifier3=0;this.$SlideshowShakrPollAsyncNotifier5=this.$SlideshowShakrPollAsyncNotifier5.bind(this)}k.prototype.start=function(){this.$SlideshowShakrPollAsyncNotifier2=Date.now();this.$SlideshowShakrPollAsyncNotifier4=this.$SlideshowShakrPollAsyncNotifier2+i;this.schedulePollingForVideoURL()};k.prototype.schedulePollingForVideoURL=function(){var l=this.$SlideshowShakrPollAsyncNotifier3+h,m=Math.max(0,l-Date.now());if(Date.now()>this.$SlideshowShakrPollAsyncNotifier4){new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_SHAKR_POLL_TIMED_OUT).log();this.$SlideshowShakrPollAsyncNotifier6();return}setTimeout(function(){return this.$SlideshowShakrPollAsyncNotifier7()}.bind(this),m)};k.prototype.$SlideshowShakrPollAsyncNotifier7=function(){this.$SlideshowShakrPollAsyncNotifier3=Date.now();c("SlideshowDataManager").pollShakrForVideoURL(this.$SlideshowShakrPollAsyncNotifier1,this.$SlideshowShakrPollAsyncNotifier5)};k.prototype.$SlideshowShakrPollAsyncNotifier6=function(){c("AdsDataAtom").addPostDispatchCallback(function(){c("AdsDataAtom").handleUpdateFromServerResponse({type:c("AdsCFActionTypes").VIDEO_UPLOAD_ERROR})})};f.exports=k}),null);
__d("adsSlideshowShakrReducer",["AdsAccountStore","AdsSlideshowActionTypes","AdsSlideshowReducerUtils","AdsSlideshowShakrAccessTokenLoadedDataAction","AdsSlideshowShakrController","AdsSlideshowShakrGetAccessTokenDataAction","AdsSlideshowShakrStartPollingDataAction","AdsSlideshowToggleSlideshowThirdpartyCancelDialogDataAction","immutable","SlideshowDataManager","SlideshowShakrPollAsyncNotifier","SlideshowThirdPartyEvents","SlideshowThirdPartyTypedLogger"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){__p&&__p();var k=void 0;switch(j.type){case c("AdsSlideshowShakrGetAccessTokenDataAction").actionType:c("SlideshowDataManager").getShakrScopeToken(function(l){c("AdsSlideshowShakrAccessTokenLoadedDataAction").dispatch({data:{accessToken:l}})});if(j.data.adgroupIDs)i=i.set("adgroupIDs",c("immutable").List(j.data.adgroupIDs));return i.set("isFetchingShakrAccessToken",true).set("thirdPartySlideshowUploader",j.data.slideshowUploader);case c("AdsSlideshowShakrAccessTokenLoadedDataAction").actionType:if(!j.data.accessToken)return i.set("isFetchingShakrAccessToken",false).set("slideshowDialogShown",true);new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_SHAKR_ACCESS_TOKEN_FETCHED).log();c("AdsSlideshowShakrController").openShakrPicker(j.data.accessToken);return i.set("isFetchingShakrAccessToken",false);case c("AdsSlideshowShakrStartPollingDataAction").actionType:k=new(c("SlideshowShakrPollAsyncNotifier"))(j.data.showID);i=i.set("shakrPollNotifier",k).set("isProcessingThirdPartySlideshow",true);k.start();new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_SHAKR_POLL_STARTED).log();return c("AdsSlideshowReducerUtils").updateProcessingStatus(i,i.get("entrypoint"),true);case c("AdsSlideshowActionTypes").SHAKR_POLL_RESPONSE_RECEIVED:if(!i.get("isProcessing").get(i.get("entrypoint")))return i;k=i.get("shakrPollNotifier");if(j.data.videoURL){new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_SHAKR_VIDEO_UPLOAD_STARTED).log();i.get("thirdPartySlideshowUploader").uploadThirdPartySlideshow(c("AdsAccountStore").getSelectedAccountID(),j.data.videoURL,"SLIDESHOW_SHAKR");return i}k=i.get("shakrPollNotifier");if(!k)return c("AdsSlideshowReducerUtils").updateProcessingStatus(i,i.get("entrypoint"),false);k.schedulePollingForVideoURL();return i;case c("AdsSlideshowToggleSlideshowThirdpartyCancelDialogDataAction").actionType:return i.set("showSlideshowThirdPartyCancelDialog",j.data.slideshowCancelDialogShown);default:return i}}f.exports=h}),null);
__d("AdsCFVideoEncodingSuccessDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_CF.VIDEO_ENCODING_SUCCESS");f.exports=h}),null);
__d("AdsVideoAlternativesSetVideoAlternativesDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SET_VIDEO_ALTERNATIVES");f.exports=h}),null);
__d("AdsToastCardDataProviderPlugin",[],(function a(b,c,d,e,f,g){"use strict";var h={initialValue:[]};f.exports=h}),null);
__d("AdsToastCardDataProvider",["AdsDataProvider","AdsToastCardDataProviderPlugin"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("AdsDataProvider").create(c("AdsToastCardDataProviderPlugin"),"AdsToastCardDataProviderPlugin")}),null);
__d("AdsVideoUploadToastCardUtils",["fbt","AdObjectLevels","AdsSideTrayKeys","AdsToggleSource","AdsVideoUploadStatus","Bootloader"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=2e4,j=Object.freeze({ERROR:"error",INFO:"info",PROGRESS:"progress",SUCCESS:"success",WARNING:"warning"}),k="videoUpload";function l(v,w,x,y,z,A,B){if(!(z&&z.enableBackgroundUpload))return v;var C=z.videoUploadingAdgroupIDs,D=C&&v.find(function(F){return F.id===o(w,C)}),E={id:o(w,C),cardType:w,canDismiss:true,dismissTimer:y,header:p(w,x,B===c("AdsVideoUploadStatus").ENCODING),bodyText:q(w,x),callsToAction:r(w,C),useCase:k,progressBar:s(B,A||0)};if(!D)return v.concat([E]);else{Object.assign(D,E);return[].concat(v)}}function m(v){var w=v.filter(function(x){return!(x.useCase===k&&x.cardType===j.PROGRESS)});return w.length!==v.length?w:v}function n(v,w){if(w.data.source!==c("AdsToggleSource").toast_card_cta)return v;var x=v.filter(function(y){return!(y.useCase===k&&(y.id===o(j.ERROR,w.data.ids)||y.id===o(j.SUCCESS,w.data.ids)))});return x.length!==v.length?x:v}function o(v,w){return v.concat(w.toString())}function p(v,w,x){switch(v){case j.SUCCESS:return h._("Your video {title} upload is complete",[h.param("title",w)]);case j.PROGRESS:return x?h._("Processing video {title}",[h.param("title",w)]):h._("Uploading video {title}",[h.param("title",w)]);case j.ERROR:return h._("Unable to upload video {title}",[h.param("title",w)])}return null}function q(v,w){switch(v){case j.SUCCESS:return h._("Review your video ad to finish and publish.");case j.ERROR:return h._("Try again or select a new video.")}return null}function r(v,w){switch(v){case j.SUCCESS:case j.ERROR:return[{label:u(v),onClick:function x(){t(w,v===j.ERROR)},use:"default"}]}return[]}function s(v,w){switch(v){case c("AdsVideoUploadStatus").UPLOADING:return{isBuffering:false,percentage:w*100};case c("AdsVideoUploadStatus").ENCODING:return{isBuffering:true,percentage:100}}return null}function t(v,w){c("Bootloader").loadModules(["AdsMgmtDrawerActions"],function(x){x.openTarget(c("AdsSideTrayKeys").EDITOR_DRAWER,v,c("AdObjectLevels").ADGROUP,c("AdsToggleSource").toast_card_cta,w)},"AdsVideoUploadToastCardUtils")}function u(v){switch(v){case j.SUCCESS:return h._("View Ad");case j.ERROR:return h._("Try Again")}return""}f.exports={DISMISS_TIMER:i,TOAST_CARD_TYPE:j,VIDEO_UPLOAD_USE_CASE:k,createOrUpdateToastCard:l,dismissProgressVideoToastCard:m,dismissVideoToastCardByCTA:n}}),null);
__d("AdsVideoToastCardsEncodingSuccessDataReducerPlugin",["AdsVideoUploadToastCardUtils"],(function a(b,c,d,e,f,g){"use strict";var h={reduce:function i(j,k){var l=c("AdsVideoUploadToastCardUtils").dismissProgressVideoToastCard(j);return c("AdsVideoUploadToastCardUtils").createOrUpdateToastCard(l,c("AdsVideoUploadToastCardUtils").TOAST_CARD_TYPE.SUCCESS,k.video.title,c("AdsVideoUploadToastCardUtils").DISMISS_TIMER,k.videoBackgroundUpload)}};f.exports=h}),null);
__d("AdsVideoToastCardsEncodingSuccessDataReducer",["AdsDataReducer","AdsToastCardDataProvider","AdsVideoToastCardsEncodingSuccessDataReducerPlugin"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataReducer").create(c("AdsToastCardDataProvider"),{},c("AdsVideoToastCardsEncodingSuccessDataReducerPlugin").reduce);f.exports=h}),null);
__d("AdsVideoEncodingSuccessDataAction",["AdsDataAction","AdsVideoToastCardsEncodingSuccessDataReducer"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([c("AdsVideoToastCardsEncodingSuccessDataReducer")],"VIDEO.ENCODING_SUCCESS");f.exports=h}),null);
__d("AdsVideoToastCardsUploadErrorDataReducerPlugin",["AdsVideoUploadToastCardUtils"],(function a(b,c,d,e,f,g){"use strict";var h={reduce:function i(j,k){var l=c("AdsVideoUploadToastCardUtils").dismissProgressVideoToastCard(j);return c("AdsVideoUploadToastCardUtils").createOrUpdateToastCard(l,c("AdsVideoUploadToastCardUtils").TOAST_CARD_TYPE.ERROR,k.title,c("AdsVideoUploadToastCardUtils").DISMISS_TIMER,k.videoBackgroundUpload)}};f.exports=h}),null);
__d("AdsVideoToastCardsUploadErrorDataReducer",["AdsDataReducer","AdsToastCardDataProvider","AdsVideoToastCardsUploadErrorDataReducerPlugin"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataReducer").create(c("AdsToastCardDataProvider"),{},c("AdsVideoToastCardsUploadErrorDataReducerPlugin").reduce);f.exports=h}),null);
__d("AdsVideoUploadErrorDataAction",["AdsDataAction","AdsVideoToastCardsUploadErrorDataReducer"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([c("AdsVideoToastCardsUploadErrorDataReducer")],"VIDEO.UPLOAD_ERROR");f.exports=h}),null);
__d("adsSlideshowStoreReducer",["AdsCFVideoEncodingSuccessDataAction","AdsCFVideoUploadErrorDataAction","AdsSlideshowAttachToVideoErrorDataAction","AdsSlideshowCreateDataAction","AdsSlideshowCreateResetDataAction","AdsSlideshowDurationChangeDataAction","AdsSlideshowFormatChangeDataAction","AdsSlideshowImagesSelectConfirmDataAction","AdsSlideshowLengthChangeDataAction","AdsSlideshowReducerUtils","AdsSlideshowRemoveCancelledSlideshowUploadDataAction","AdsSlideshowResetAllDataAction","AdsSlideshowSelectTabDataAction","AdsSlideshowSetEntrypointDataAction","AdsSlideshowSetSelectedVideoIDDataAction","AdsSlideshowStoreState","AdsSlideshowToggleImageDialogDataAction","AdsSlideshowToggleSlideshowDialogDataAction","AdsSlideshowTransitionChangeDataAction","AdsVideoAlternativesSetVideoAlternativesDataAction","AdsVideoEncodingSuccessDataAction","AdsVideoUploadErrorDataAction","immutable","ShutterstockImageUtils","SlideshowConstants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){__p&&__p();switch(j.type){case c("AdsSlideshowSetEntrypointDataAction").actionType:return i.set("entrypoint",j.entrypoint);case c("AdsSlideshowCreateDataAction").actionType:var k=j.data,l=k.selectedImages.map(function(p){return p.getStockImageID()?c("ShutterstockImageUtils").idToURL(p.getStockImageID()):p.getUrl()}).slice(0,c("SlideshowConstants").max_photo_num),m=k.imagesCrops,n=k.imagesTextoverlays,o=k.transitionInMS;k.videoUploader.upload(k.accountID,l,k.length,o,m&&m.length>0?m.slice(0,c("SlideshowConstants").max_photo_num):null,k.storylineMoodID,n);i=i.set("slideshowUploader",k.videoUploader);if(k.adgroupIDs){i=i.set("adgroupIDs",c("immutable").List(k.adgroupIDs)).set("slideshowDialogShown",false);return c("AdsSlideshowReducerUtils").updateProcessingStatus(i,i.get("entrypoint"),true)}i=i.set("slideshowDialogShown",false);return c("AdsSlideshowReducerUtils").updateProcessingStatus(i,i.get("entrypoint"),true);case c("AdsSlideshowRemoveCancelledSlideshowUploadDataAction").actionType:return i.set("cancelledVideoIDs",i.get("cancelledVideoIDs")["delete"](j.data.videoID));case c("AdsSlideshowSetSelectedVideoIDDataAction").actionType:return i.set("selectedVideoID",j.data.videoID);case c("AdsSlideshowCreateResetDataAction").actionType:i.get("slideshowUploader")&&i.get("slideshowUploader").abort();if(i.selectedVideoID)i=i.set("cancelledVideoIDs",i.get("cancelledVideoIDs").add(i.selectedVideoID));i=i.set("isProcessingThirdPartySlideshow",false);return c("AdsSlideshowReducerUtils").updateProcessingStatus(i,i.get("entrypoint"),false);case c("AdsCFVideoEncodingSuccessDataAction").actionType:case c("AdsCFVideoUploadErrorDataAction").actionType:case c("AdsVideoEncodingSuccessDataAction").actionType:case c("AdsVideoUploadErrorDataAction").actionType:i=i.set("isProcessingThirdPartySlideshow",false);return c("AdsSlideshowReducerUtils").updateProcessingStatus(i,i.get("entrypoint"),false);case c("AdsSlideshowLengthChangeDataAction").actionType:return i.set("videoLength",j.data.length);case c("AdsSlideshowToggleSlideshowDialogDataAction").actionType:return i.set("showSlideshowThirdPartyCancelDialog",false).set("slideshowDialogShown",j.data.slideshowDialogShown);case c("AdsSlideshowToggleImageDialogDataAction").actionType:return i.set("imageDialogShown",j.data.imageDialogShown);case c("AdsSlideshowImagesSelectConfirmDataAction").actionType:return i.set("imageDialogShown",false);case c("AdsSlideshowTransitionChangeDataAction").actionType:return i.set("transitionInMS",j.data.transitionInMS);case c("AdsSlideshowDurationChangeDataAction").actionType:return i.set("durationInMS",j.data.durationInMS);case c("AdsSlideshowFormatChangeDataAction").actionType:return i.set("format",j.data.format);case c("AdsSlideshowResetAllDataAction").actionType:return new(c("AdsSlideshowStoreState"))();case c("AdsSlideshowAttachToVideoErrorDataAction").actionType:case c("AdsVideoAlternativesSetVideoAlternativesDataAction").actionType:return c("AdsSlideshowReducerUtils").updateProcessingStatus(i,i.get("entrypoint"),false);case c("AdsSlideshowSelectTabDataAction").actionType:return i.set("selectedTab",j.tab);default:return i}}f.exports=h}),null);
__d("AdsSlideshowStore",["AdsDataAtom","AdsSlideshowStoreState","FluxReduceStore","adsSlideshowAnimotoReducer","adsSlideshowEditReducer","adsSlideshowShakrReducer","adsSlideshowStoreReducer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return new(c("AdsSlideshowStoreState"))()};j.prototype.reduce=function(k,l){var m=l.action,n=[c("adsSlideshowStoreReducer"),c("adsSlideshowEditReducer"),c("adsSlideshowShakrReducer"),c("adsSlideshowAnimotoReducer")];return n.reduce(function(k,o){return o(k,m)},k)};j.prototype.getAdgroupIDs=function(){var k=this.getState().get("adgroupIDs");return k?k.toArray():null};j.prototype.getDurationInMS=function(){return this.getState().get("durationInMS")};j.prototype.getFormat=function(){return this.getState().get("format")};j.prototype.getTransitionInMS=function(){return this.getState().get("transitionInMS")};j.prototype.isFetchingShakrAccessToken=function(){return this.getState().get("isFetchingShakrAccessToken")};j.prototype.isProcessing=function(k){return!!this.getState().get("isProcessing").get(k)};j.prototype.isProcessingThirdPartySlideshow=function(){return this.getState().get("isProcessingThirdPartySlideshow")};j.prototype.getIsProcessingMap=function(){return this.getState().get("isProcessing")};j.prototype.getTotalLength=function(k){return this.getDurationInMS()*k+this.getTransitionInMS()*k};j.prototype.getVideoLength=function(){return this.getState().get("videoLength")};j.prototype.getSelectedTab=function(){return this.getState().get("selectedTab")};j.prototype.getEntrypoint=function(){return this.getState().get("entrypoint")};j.prototype.getCancelledVideoIDs=function(){return this.getState().get("cancelledVideoIDs")};j.prototype.shouldShowSlideshowAnimotoDialog=function(){return this.getState().get("showAnimotoDialog")};j.prototype.shouldShowSlideshowDialog=function(){return this.getState().get("slideshowDialogShown")};j.prototype.shouldShowSlideshowThirdPartyCancelDialog=function(){return this.getState().get("showSlideshowThirdPartyCancelDialog")};j.prototype.shouldShowImageDialog=function(){return this.getState().get("imageDialogShown")};function j(){h.apply(this,arguments)}f.exports=new j(c("AdsDataAtom"))}),null);
__d("adsCanvasInlineEditorSlideshowUpdateStatusSelector",["AdsSlideshowStore","SlideshowEntrypoint","adsCreateStoreSelector"],(function a(b,c,d,e,f,g){"use strict";var h=c("adsCreateStoreSelector")([c("AdsSlideshowStore")],function(){return c("AdsSlideshowStore").isProcessing(c("SlideshowEntrypoint").CANVAS)},f.id+".selector");f.exports=h}),null);
__d("adsCanvasHasElementUploadingSelector",["AdsCanvasBundleElement","AdsCanvasCarouselElement","AdsCanvasHeaderElement","AdsCanvasPhotoElement","AdsCanvasVideoElement","adsCanvasCurrentDocumentElementsSelector","adsCanvasInlineEditorSlideshowUpdateStatusSelector","adsCreateSelector"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("adsCreateSelector")([c("adsCanvasCurrentDocumentElementsSelector"),c("adsCanvasInlineEditorSlideshowUpdateStatusSelector")],function(i,j){__p&&__p();return i.some(function(k){if(!k.hasValue())return false;var l=k.getValueEnforcing();if(l instanceof c("AdsCanvasHeaderElement")||l instanceof c("AdsCanvasPhotoElement")||l instanceof c("AdsCanvasVideoElement"))return l.uploadStatus&&l.uploadStatus.isUploading||j;else if(l instanceof c("AdsCanvasCarouselElement")||l instanceof c("AdsCanvasBundleElement"))return l.items.some(function(m){return m.uploadStatus&&m.uploadStatus.isUploading});return false})},f.id+".selector");f.exports=h}),null);
__d("adsCanvasPreviewNavigationTabElementSelector",["AdsCanvasCurrentCanvasIDStore","AdsCanvasDocumentStore","adsCanvasHasElementUploadingSelector","adsCreateSelector"],(function a(b,c,d,e,f,g){"use strict";var h=c("adsCreateSelector")([c("AdsCanvasDocumentStore").getByID,c("AdsCanvasCurrentCanvasIDStore").getActiveCanvasIndex,c("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs,c("AdsCanvasCurrentCanvasIDStore").hasMultiCanvas,c("adsCanvasHasElementUploadingSelector")],function(i,j,k,l,m){var n=k.map(function(o,p){var q=i(o);return q.hasValue()?q.getValueEnforcing().getTitle():""});return{disabled:m,hasMultiCanvas:l,selectedIndex:j,tabNames:n}},f.id+".selector");f.exports=h}),null);
__d("AdsCanvasPreviewNavigationTabElementContainer.react",["AdsCanvasPreviewNavigationTabElement.react","AdsCanvasSelectCanvasDataAction","AdsFluxContainer","React","adsCanvasPreviewNavigationTabElementSelector"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$AdsCanvasPreviewNavigationTabElementContainer1=function(p){if(this.state.disabled)return;c("AdsCanvasSelectCanvasDataAction").dispatch({index:p})}.bind(this),l}j.getStores=function(){return c("adsCanvasPreviewNavigationTabElementSelector").getStores()};j.calculateState=function(){return c("adsCanvasPreviewNavigationTabElementSelector")()};j.prototype.render=function(){if(!this.state.hasMultiCanvas)return null;return c("React").createElement(c("AdsCanvasPreviewNavigationTabElement.react"),{selectedIndex:this.state.selectedIndex,tabNames:this.state.tabNames,width:this.props.width,onChange:this.$AdsCanvasPreviewNavigationTabElementContainer1})};f.exports=c("AdsFluxContainer").create(j,{withProps:true,name:f.id})}),null);
__d("AdsCanvasPreviewProductListElement.react",["React","ReactDOM","RichMediaPreviewUtil","SUIBusinessTheme","SUISpinner.react","UIPagelet"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.componentDidMount=function(){this.$AdsCanvasPreviewProductListElement1()};j.prototype.componentDidUpdate=function(){this.$AdsCanvasPreviewProductListElement1()};j.prototype.render=function(){return c("React").createElement("div",{style:{marginTop:"-10px",padding:c("RichMediaPreviewUtil").formatPadding(this.props.productListElement.padding)}},c("React").createElement("span",{ref:"productListPreview"},c("React").createElement(c("SUISpinner.react"),{size:"large",theme:c("SUIBusinessTheme")})))};j.prototype.$AdsCanvasPreviewProductListElement1=function(){c("UIPagelet").loadFromEndpoint("AdsCanvasPreviewProductListPageletController",c("ReactDOM").findDOMNode(this.refs.productListPreview),{productCatalogID:this.props.productListElement.catalogID,productIDList:this.props.productListElement.productIDList,itemHeadlineTemplate:this.props.productListElement.itemHeadlineTemplate,itemDescriptionTemplate:this.props.productListElement.itemDescriptionTemplate,width:this.props.width})};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("StoreLocator.react",["ix","cx","fbt","AdsFBIconDownsized.react","BIGAdoptionConfig","GeoCoordinates","Image.react","LeafletMap.react","LeafletMarker.react","LeafletTileLayer.react","LeafletView","React","asset","fbglyph","leaflet"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.cardWidth=function(){return this.props.width*.9}.bind(this),o}m.prototype.render=function(){return c("React").createElement("div",{className:"_203m"},c("React").createElement("div",{style:{width:this.props.width,height:this.props.height}},this.renderMap(),this.renderCards()))};m.prototype.renderMap=function(){var n=new(c("GeoCoordinates"))(0,0);if(this.props.locations.length>0)n=new(c("GeoCoordinates"))(this.centralLocation().location.latitude,this.centralLocation().location.longitude);var o=new(c("LeafletView"))({center:n,zoom:10}),p={dragging:false,touchZoom:false,scrollWheelZoom:false,doubleClickZoom:false,boxZoom:false,tap:false,zoomControl:false},q="https://fbexternal-a.akamaihd.net/map_tile.php?x={x}&y={y}&z={z}&language=en_US&v=3&size=256";return c("React").createElement(c("LeafletMap.react"),{defaultView:o,options:p,style:{width:this.props.width,height:this.props.height}},c("React").createElement(c("LeafletTileLayer.react"),{urlTemplate:q}),this.props.locations.map(function(r){return this.pinFor(r)}.bind(this)))};m.prototype.centralLocation=function(){return this.props.locations[0]};m.prototype.pinFor=function(n){return c("React").createElement(c("LeafletMarker.react"),{coordinates:new(c("GeoCoordinates"))(n.location.latitude,n.location.longitude),key:"pin-"+n.id,options:{icon:n===this.centralLocation()?this.expandedPinWithImage(n.picture.data.url):this.smallPin(),zIndexOffset:n==this.centralLocation()?100:0}})};m.prototype.smallPin=function(){return c("leaflet").divIcon({className:"_2035",iconSize:[14,14],iconAnchor:[7,7]})};m.prototype.expandedPinWithImage=function(n){var o='<div class="_2036">\n      <img src="'+n+'" /></div>\n      <div class="_2037"></div>';return c("leaflet").divIcon({className:"_2038",iconSize:[52,52],iconAnchor:[26,52],html:o})};m.prototype.renderCards=function(){return c("React").createElement("div",{className:"_2039",style:{paddingLeft:(this.props.width-this.cardWidth())/2,paddingBottom:(this.props.width-this.cardWidth())/2}},c("React").createElement("div",{className:"_203a",style:{width:this.cardWidth()}},this.$StoreLocator1(this.centralLocation()),this.$StoreLocator2(this.centralLocation())))};m.prototype.$StoreLocator1=function(n){var o=this.cardWidth()-12-32-12*2-24-12;return c("React").createElement("div",{className:"_203b"},c("React").createElement(c("Image.react"),{className:"_203c",src:n.picture.data.url}),c("React").createElement("div",{className:"_203d ellipsis",style:{width:o}},c("React").createElement("span",{className:"_203f"},n.location.street),c("React").createElement("br",null)),c("React").createElement(c("AdsFBIconDownsized.react"),{className:"_203h",src:c("BIGAdoptionConfig").ads_fbicon_adoption?h("406884"):h("127615")}))};m.prototype.$StoreLocator2=function(n){var o=c("React").createElement("span",null,j._("Opens tomorrow")),p=this.cardWidth()-12-32-12*2;return c("React").createElement("div",{className:"_203l"},c("React").createElement(c("AdsFBIconDownsized.react"),{className:"_203c",src:c("BIGAdoptionConfig").ads_fbicon_adoption?h("400700"):h("126514")}),c("React").createElement("div",{className:"_203d",style:{width:p}},c("React").createElement("span",{className:"_203f"},o),c("React").createElement("br",null),c("React").createElement("span",{className:"_203g"},j._("Get additional info"))))};f.exports=m}),null);
__d("AdsCanvasPreviewStoreLocatorElement.react",["cx","CanvasColorUtils","React","RichMediaPreviewConstants","StoreLocator.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("RichMediaPreviewConstants").HEADER_HEIGHT,l=c("RichMediaPreviewConstants").STORE_LOCATOR_HEADER_RATIO,m=c("RichMediaPreviewConstants").STORE_LOCATOR_MAP_RATIO;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;n.prototype.render=function(){return c("React").createElement("div",{style:{height:this.props.height,width:this.props.width}},this.$AdsCanvasPreviewStoreLocatorElement1(),this.$AdsCanvasPreviewStoreLocatorElement2())};n.prototype.$AdsCanvasPreviewStoreLocatorElement1=function(){var o=this.props.height*l;return c("React").createElement("div",{className:"_1sr0",style:{background:"url("+this.props.coverPhotoURL+") no-repeat center",color:c("CanvasColorUtils").colorContrastingWith(this.props.storeLocatorElement.headerBackgroundColor()),height:o,width:this.props.width}},c("React").createElement("div",{className:"_1sr1",style:{backgroundColor:this.props.storeLocatorElement.headerBackgroundColor(),height:o,width:this.props.width}}),c("React").createElement("div",{className:"_1sr2",style:{paddingTop:k,fontFamily:this.props.storeLocatorElement.typeface}},c("React").createElement("p",{className:"_1sr4 ellipsis"},this.props.pages[0].name),c("React").createElement("p",{className:"_1sr5"},this.props.pages[0].location.street)))};n.prototype.$AdsCanvasPreviewStoreLocatorElement2=function(){var o=this.props.height*m;return c("React").createElement(c("StoreLocator.react"),{height:o,locations:this.props.pages,width:this.props.width})};function n(){i.apply(this,arguments)}f.exports=n}),null);
__d("AdsCanvasStoreLocatorUtils",[],(function a(b,c,d,e,f,g){"use strict";var h={getPagesWithLocations:function i(j){return j.filter(function(k){return k.location&&k.location.latitude&&k.location.longitude&&k.location.street})}};f.exports=h}),null);
__d("AdsCanvasPageCanvasLocationStore",["AdsCanvasPageDataDispatcher","AdsDataAtom","AdsRichMediaEditorLoadPageLocationsSuccessDataAction","FluxLoadObjectStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxLoadObjectStore"));i=h&&h.prototype;j.prototype.reduce=function(k,l){var m=l.action;switch(m.type){case c("AdsRichMediaEditorLoadPageLocationsSuccessDataAction").actionType:var n=m.page;return this.__handleOne(k,n.id,n);default:return k}};j.prototype.__load=function(k){c("AdsCanvasPageDataDispatcher").getPageWithLocations(k)};function j(){h.apply(this,arguments)}f.exports=new j(c("AdsDataAtom"))}),null);
__d("adsCanvasPageSelector",["AdsCanvasPageCanvasLocationStore","adsCreateStoreSelector"],(function a(b,c,d,e,f,g){"use strict";var h=c("adsCreateStoreSelector")([c("AdsCanvasPageCanvasLocationStore")],function(i){return c("AdsCanvasPageCanvasLocationStore").get(i)},f.id+".selector");f.exports=h}),null);
__d("adsCanvasPreviewStoreLocatorSelector",["AdsCanvasStoreLocatorUtils","adsCanvasPageSelector","adsCreateSelector"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("adsCreateSelector")([c("adsCanvasPageSelector")],function(i){__p&&__p();if(!i.hasValue())return{isReady:false};var j=i.getValueEnforcing(),k=[];if(j.location)k.push(j);if(j.locations&&j.locations.data.length>0)j.locations.data.map(function(n){return k.push(n)});var l=c("AdsCanvasStoreLocatorUtils").getPagesWithLocations(k),m=j&&j.cover?j.cover.source:"";return{coverPhotoURL:m,isReady:true,pages:l}},f.id+".selector");f.exports=h}),null);
__d("AdsCanvasPreviewStoreLocatorElementContainer.react",["cx","AdsCanvasPreviewStoreLocatorElement.react","AdsFluxContainer","AdsSpinner.react","React","RichMediaPreviewConstants","adsCanvasPreviewStoreLocatorSelector"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("RichMediaPreviewConstants").DEVICE_HEIGHT,l=c("RichMediaPreviewConstants").DEVICE_WIDTH,m=c("RichMediaPreviewConstants").STORE_LOCATOR_HEADER_RATIO,n=k*m;i=babelHelpers.inherits(o,c("React").Component);j=i&&i.prototype;o.getStores=function(){return c("adsCanvasPreviewStoreLocatorSelector").getStores()};o.calculateState=function(p,q){return c("adsCanvasPreviewStoreLocatorSelector")(q.storeLocatorElement.locationSourceID)};o.prototype.render=function(){if(this.props.storeLocatorElement.hidden)return null;if(!this.state.isReady)return c("React").createElement("div",{className:"_34e4",style:{height:n,width:l}},c("React").createElement(c("AdsSpinner.react"),{size:"large"}));return c("React").createElement(c("AdsCanvasPreviewStoreLocatorElement.react"),{coverPhotoURL:this.state.coverPhotoURL,height:this.props.height,pages:this.state.pages,storeLocatorElement:this.props.storeLocatorElement,width:this.props.width})};function o(){i.apply(this,arguments)}f.exports=c("AdsFluxContainer").create(o,{withProps:true,name:f.id})}),null);
__d("AdsCanvasPreviewSwipeToOpen.react",["cx","fbt","ix","Image.react","React","colr"],(function a(b,c,d,e,f,g,h,i,j){"use strict";function k(l){if(!l.hidden)return null;var m=l.documentTheme.substr(2),n=c("colr").fromHex(m).toGrayscale()/255,o=n>.5?"#91949c":"#FFF",p=n>.5?j("23599"):j("23600");return c("React").createElement("div",{className:"_2n2b",style:{color:o,background:"#"+m}},c("React").createElement("div",null,i._("Swipe to load website")),c("React").createElement("div",null,c("React").createElement(c("Image.react"),{src:p})))}f.exports=k}),null);
__d("adsCanvasLastElementSelector",["AdsCanvasElementStore","adsCanvasCurrentDocumentSelector","adsCreateStoreSelector"],(function a(b,c,d,e,f,g){"use strict";var h=c("adsCreateStoreSelector")([].concat(c("adsCanvasCurrentDocumentSelector").getStores(),[c("AdsCanvasElementStore")]),function(){var i=c("adsCanvasCurrentDocumentSelector")();if(!i.hasValue())return null;var j=i.getValueEnforcing(),k=j.get("elements").last();return k?c("AdsCanvasElementStore").get(k.id):null},f.id+".selector");f.exports=h}),null);
__d("adsCanvasSwipeToOpenEligibleSelector",["adsCanvasLastElementSelector","adsCreateSelector"],(function a(b,c,d,e,f,g){"use strict";var h=c("adsCreateSelector")([c("adsCanvasLastElementSelector")],function(i){if(!i||!i.hasValue())return false;var j=i.getValueEnforcing();return j.isSwipeToOpenEligible()},f.id+".selector");f.exports=h}),null);
__d("adsCanvasPreviewSwipeToOpenSelector",["RichMediaEditorStore","adsCanvasCurrentDocumentSelector","adsCanvasSwipeToOpenEligibleSelector","adsCreateSelector"],(function a(b,c,d,e,f,g){"use strict";var h=c("adsCreateSelector")([c("adsCanvasCurrentDocumentSelector"),c("adsCanvasSwipeToOpenEligibleSelector"),c("RichMediaEditorStore").getSwipeToOpenEnabled],function(i,j,k){if(!i.hasValue())return{isReady:false};var l=i.getValueEnforcing();return{documentTheme:l.get("backgroundColor"),hidden:j&&k,isReady:true}},f.id+".selector");f.exports=h}),null);
__d("AdsCanvasPreviewSwipeToOpenContainer.react",["AdsCanvasPreviewSwipeToOpen.react","AdsFluxContainer","React","SUIBusinessTheme","SUISpinner.react","adsCanvasPreviewSwipeToOpenSelector"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return c("adsCanvasPreviewSwipeToOpenSelector").getStores()};j.calculateState=function(){return c("adsCanvasPreviewSwipeToOpenSelector")()};j.prototype.render=function(){if(!this.state.isReady)return c("React").createElement(c("SUISpinner.react"),{theme:c("SUIBusinessTheme")});return c("React").createElement(c("AdsCanvasPreviewSwipeToOpen.react"),{documentTheme:this.state.documentTheme,hidden:this.state.hidden})};function j(){h.apply(this,arguments)}f.exports=c("AdsFluxContainer").create(j,{name:f.id})}),null);
__d("AdsCanvasPreviewVideoElement.react",["cx","ix","AdsCanvasWebdriverIDs","AdsVideoPlayer.react","BackgroundImage.react","Image.react","React","RichMediaPreviewUtil"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){__p&&__p();var m=this.props.videoElement;if(m.video){var n=m.video,o=n.preferredThumbnail,p=0,q=0;if(m.layout=="fit_to_height"){q=this.props.fullHeight;p=Math.round(n.width*this.props.fullHeight/n.height)}else{p=this.props.width;q=Math.round(n.height*this.props.width/n.width)}var r=(this.props.width-p)/2,s={height:q,width:p,overflow:"hidden",position:"relative",left:r,padding:c("RichMediaPreviewUtil").formatPadding(this.props.videoElement.padding)};return c("React").createElement("div",{"data-index":m.index,"data-testid":c("AdsCanvasWebdriverIDs").PREVIEW_VIDEO_COMPONENT,style:s},c("React").createElement(c("AdsVideoPlayer.react"),{autoPlay:true,hideCloseButton:true,loop:true,muted:true,playerHeight:q,playerWidth:p,ref:"videoPlayer",showControls:false,videoID:n.id},c("React").createElement(c("BackgroundImage.react"),{backgroundSize:"contain","data-testid":c("AdsCanvasWebdriverIDs").PREVIEW_VIDEO_THUMBNAIL,height:q,src:o?o.uri:null,width:p})))}return c("React").createElement("div",null,c("React").createElement("div",{className:"_49qc",style:{height:this.props.width,width:this.props.width}},c("React").createElement(c("Image.react"),{src:i("23647")})))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("RichMediaPreviewButton.react",["cx","ix","Image.react","InstantShoppingDocumentElementType","React","RichMediaElementTypeConstant","RichMediaElementUtil","colr"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("RichMediaElementTypeConstant").RichMediaElementTypes;function k(n){__p&&__p();var o=n.documentElements,p=void 0;if(n.instagramPreview)p=i("306034");else p=m(n)>.5?i("23595"):i("23594");var q=c("React").createElement("div",{className:(!n.instagramPreview?"_2vyb":"")+(n.instagramPreview?" _5_kv":"")},c("React").createElement(c("Image.react"),{src:p}));if(Array.isArray(o)&&o.some(function(r){return r.type===c("InstantShoppingDocumentElementType").VIDEO})||o.some(function(r){return r.elementType===j.VIDEO}))return q;return null}function l(n){var o=void 0;if(n.instagramPreview)o=i("306031");else o=m(n)>.5?i("23597"):i("23596");return c("React").createElement("div",{className:(!n.instagramPreview?"_51ll":"")+(n.instagramPreview?" _5_kw":"")},c("React").createElement(c("Image.react"),{src:o}))}function m(n){var o=n.documentElements,p=null;if(Array.isArray(o))p=c("RichMediaElementUtil").getHeaderElement(o);else if(o.count()>0)p=o.first().getElementType()===j.HEADER?o.first():null;var q=p?p.backgroundColor:n.documentTheme.substr(2),r=p?1-c("colr").fromHex(q).toGrayscale()/255:c("colr").fromHex(q).toGrayscale()/255;return r}f.exports={AudioButton:k,BackButton:l}}),null);
__d("RichMediaProductSetElementPreview.react",["React","ReactDOM","RichMediaPreviewUtil","SUIBusinessTheme","SUISpinner.react","UIPagelet","areEqual"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.shouldComponentUpdate=function(k){return!c("areEqual")(this.props.productSetElement.setID,k.productSetElement.setID)||!c("areEqual")(this.props.productSetElement.limit,k.productSetElement.limit)||!c("areEqual")(this.props.productSetElement.padding,k.productSetElement.padding)||!c("areEqual")(this.props.productSetElement.retailerItemIDs,k.productSetElement.retailerItemIDs)||!c("areEqual")(this.props.productSetElement.itemHeadlineTemplate,k.productSetElement.itemHeadlineTemplate)||!c("areEqual")(this.props.productSetElement.itemDescriptionTemplate,k.productSetElement.itemDescriptionTemplate)||!c("areEqual")(this.props.instagramPreview,k.instagramPreview)};j.prototype.componentDidMount=function(){this.$RichMediaProductSetElementPreview1()};j.prototype.componentDidUpdate=function(){this.$RichMediaProductSetElementPreview1()};j.prototype.render=function(){return c("React").createElement("div",{style:{marginTop:"-10px",padding:c("RichMediaPreviewUtil").formatPadding(this.props.productSetElement.padding)}},c("React").createElement("span",{ref:"productSetPreview"},c("React").createElement(c("SUISpinner.react"),{size:"large",theme:c("SUIBusinessTheme")})))};j.prototype.$RichMediaProductSetElementPreview1=function(){c("UIPagelet").loadFromEndpoint("RichMediaProductSetPreviewPageletController",c("ReactDOM").findDOMNode(this.refs.productSetPreview),{limit:this.props.productSetElement.limit,productCatalogID:this.props.productSetElement.catalogID,productSetID:this.props.productSetElement.setID,retailerItemIDs:this.props.productSetElement.retailerItemIDs,itemHeadlineTemplate:this.props.productSetElement.itemHeadlineTemplate,itemDescriptionTemplate:this.props.productSetElement.itemDescriptionTemplate,width:this.props.width,instagramPreview:!!this.props.instagramPreview})};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("RichMediaScrubbableGIFElement",["immutable","InstantShoppingDocumentElementType","RichMediaEditorConstants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("RichMediaEditorConstants").EDITOR_DEFAULT_PADDING,k=c("immutable").Record,l={id:"",name:"",type:c("InstantShoppingDocumentElementType").SCRUBBABLE_GIF,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:j,paddingBottom:j},layout:"fit_to_width",video:null,uploadStatus:null},m=k(l);h=babelHelpers.inherits(n,m);i=h&&h.prototype;n.create=function(o,p,q,r,s,t,u,v){return new n({name:o,type:c("InstantShoppingDocumentElementType").SCRUBBABLE_GIF,index:p,expanded:q,advancedExpanded:r,padding:s,layout:t?t:"fit_to_width",video:u,uploadStatus:v})};n.createDefault=function(o){return n.create("Scrubbable GIF",o,true,false,{paddingTop:j,paddingBottom:j},"fit_to_width",null,null)};n.createFromObject=function(o){return n.create(o.name,o.index,o.expanded,o.advancedExpanded,o.padding,o.layout,o.video)};n.validate=function(o){if(!o.video)return{isValid:false,errorMsg:"Missing video"};if(o.uploadStatus&&(o.uploadStatus.isUploading!==false||o.uploadStatus.isEncoding!==false))return{isValid:false,errorMsg:""};return{isValid:true,errorMsg:""}};function n(){h.apply(this,arguments)}f.exports=n}),null);
__d("RichMediaScrubbableGIFElementPreview.react",["cx","ix","AdsVideoPlayer.react","BackgroundImage.react","Image.react","React","RichMediaPreviewUtil","RichMediaScrubbableGIFElement","RichMediaPreviewConstants"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=c("RichMediaPreviewConstants").DEVICE_WIDTH,l=c("React").createClass({displayName:"RichMediaScrubbableGIFElementPreview",PropTypes:{fullHeight:j.number.isRequired,scrubabableGIFElement:j.instanceOf(c("RichMediaScrubbableGIFElement")).isRequired},render:function m(){var n=this.props.scrubabableGIFElement;if(n.video){var o=n.video,p=o.preferredThumbnail,q=0,r=0;q=k;r=Math.round(o.height*k/o.width);var s=(k-q)/2,t={height:r,width:q,overflow:"hidden",position:"relative",left:s,padding:c("RichMediaPreviewUtil").formatPadding(this.props.scrubabableGIFElement.padding)};return c("React").createElement("div",{style:t},c("React").createElement(c("AdsVideoPlayer.react"),{autoPlay:false,disableVideoPlay:true,disabled:true,forceHD:true,hideCloseButton:true,iconImage:i("23622"),iconText:"Better Previewed on Device.",isFullPreview:true,playerHeight:r,playerWidth:q,ref:"videoPlayer",showControls:false,videoID:o.id},c("React").createElement(c("BackgroundImage.react"),{backgroundSize:"contain",height:r,src:p?p.uri:null,width:q})))}return c("React").createElement("div",null,c("React").createElement("div",{className:"_49qc",style:{height:this.props.fullHeight}},c("React").createElement(c("Image.react"),{src:i("23623")})))},_calcPadding:function m(n){var o=n?n.paddingTop:"0",p=n?n.paddingBottom:"0";return o+"px 0px "+p+"px"}});f.exports=l}),null);
__d("RichMediaPreviewCanvas.react",["cx","AdsCanvasPreviewBundleElement.react","AdsCanvasPreviewButtonElement.react","AdsCanvasPreviewCarouselElement.react","AdsCanvasPreviewHeaderElement.react","AdsCanvasPreviewNavigationTabElementContainer.react","AdsCanvasPreviewPhotoElement.react","AdsCanvasPreviewProductListElement.react","AdsCanvasPreviewStoreLocatorElementContainer.react","AdsCanvasPreviewSwipeToOpenContainer.react","AdsCanvasPreviewTextElement.react","AdsCanvasPreviewVideoElement.react","AdsCanvasWebdriverIDs","InstantShoppingDocumentElementType","React","RichMediaElementTypeConstant","RichMediaElementUtil","RichMediaPreviewButton.react","RichMediaPreviewUtil","RichMediaProductSetElementPreview.react","RichMediaScrubbableGIFElementPreview.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("RichMediaElementTypeConstant").RichMediaElementTypes,l=c("RichMediaPreviewButton.react").AudioButton,m=c("RichMediaPreviewButton.react").BackButton,n="preview_elements",o="preview_element";i=babelHelpers.inherits(p,c("React").Component);j=i&&i.prototype;function p(q){j.constructor.call(this,q)}p.prototype.render=function(){var q=c("RichMediaPreviewUtil").getScrollableAreaFullHeight(this.props.height,this.props.documentElements),r={background:"#"+this.props.documentTheme.substr(2),height:this.props.disableScrolling?null:this.props.height,width:this.props.width},s={height:this.props.disableScrolling?null:q+"px"};return c("React").createElement("div",{className:"_48ci","data-testid":c("AdsCanvasWebdriverIDs").ADS_CANVAS_BUILDER_PREVIEW,style:r},this.$RichMediaPreviewCanvas1(),c("React").createElement(c("AdsCanvasPreviewNavigationTabElementContainer.react"),{width:this.props.width}),c("React").createElement("div",{className:"_26os",id:n,ref:"previewCanvas",style:s},this.props.documentElements.map(function(t,u){return this.$RichMediaPreviewCanvas2(t,u,q)}.bind(this)),this.$RichMediaPreviewCanvas3()),this.$RichMediaPreviewCanvas4(),c("React").createElement("div",{className:this.props.instagramPreview?"_2zhl":""}))};p.prototype.$RichMediaPreviewCanvas4=function(){var q=this.props.documentElements,r=null;if(Array.isArray(q))r=c("RichMediaElementUtil").getFixToBottomButtonElement(q);else if(q.count()>0)r=q.last().getElementType()===k.FOOTER?q.last():null;if(r)return c("React").createElement("div",{className:"_26om",ref:"bottomButton"},this.$RichMediaPreviewCanvas5(r,true));return null};p.prototype.$RichMediaPreviewCanvas3=function(){if(!this.props.showSwipeToOpenPreview)return null;return c("React").createElement(c("AdsCanvasPreviewSwipeToOpenContainer.react"),null)};p.prototype.$RichMediaPreviewCanvas6=function(){if(this.props.shouldHideBackButton)return null;return c("React").createElement(m,{documentElements:this.props.documentElements,documentTheme:this.props.documentTheme,instagramPreview:this.props.instagramPreview})};p.prototype.$RichMediaPreviewCanvas1=function(){var q=this.props.documentElements,r=null;if(Array.isArray(q))r=c("RichMediaElementUtil").getHeaderElement(q);else if(q.count()>0)r=q.first().getElementType()===k.HEADER?q.first():null;if(!r)return c("React").createElement("div",null,this.$RichMediaPreviewCanvas6(),c("React").createElement(l,{documentElements:this.props.documentElements,documentTheme:this.props.documentTheme,instagramPreview:this.props.instagramPreview}));return c("React").createElement("div",{className:"_3arb"},this.$RichMediaPreviewCanvas6(),c("React").createElement(l,{documentElements:this.props.documentElements,documentTheme:this.props.documentTheme,instagramPreview:this.props.instagramPreview}),this.$RichMediaPreviewCanvas7(r))};p.prototype.$RichMediaPreviewCanvas2=function(q,r,s){__p&&__p();var t=null;switch(q.type){case c("InstantShoppingDocumentElementType").BUNDLE:t=this.$RichMediaPreviewCanvas8(q,s);break;case c("InstantShoppingDocumentElementType").BUTTON:if(!q.isFixedToBottom)t=this.$RichMediaPreviewCanvas5(q,false);break;case c("InstantShoppingDocumentElementType").SCRUBBABLE_GIF:t=this.$RichMediaPreviewCanvas9(q,s);break;case c("InstantShoppingDocumentElementType").SLIDESHOW:if(this.props.instagramPreview)q=q.set("layout","fit_to_width");t=this.$RichMediaPreviewCanvas10(q,s);break;case c("InstantShoppingDocumentElementType").HEADER:break;case c("InstantShoppingDocumentElementType").PHOTO:if(this.props.instagramPreview)q=q.set("layout","fit_to_width");t=this.$RichMediaPreviewCanvas11(q,s);break;case c("InstantShoppingDocumentElementType").VIDEO:if(this.props.instagramPreview)q=q.set("layout","fit_to_width");t=this.$RichMediaPreviewCanvas12(q,s);break;case c("InstantShoppingDocumentElementType").RICH_TEXT:t=this.$RichMediaPreviewCanvas13(q);break;case c("InstantShoppingDocumentElementType").PRODUCT_LIST:t=this.$RichMediaPreviewCanvas14(q);break;case c("InstantShoppingDocumentElementType").ELEMENT_GROUP:t=this.$RichMediaPreviewCanvas15(q);break;case c("InstantShoppingDocumentElementType").STORE_LOCATOR:t=this.$RichMediaPreviewCanvas16(q);break}return c("React").createElement("div",{id:o+r,key:"element_"+r},t)};p.prototype.$RichMediaPreviewCanvas8=function(q,r){return c("React").createElement(c("AdsCanvasPreviewBundleElement.react"),{bundleElement:q,fullHeight:r,width:this.props.width})};p.prototype.$RichMediaPreviewCanvas5=function(q,r){return c("React").createElement(c("AdsCanvasPreviewButtonElement.react"),{buttonElement:q,isBottomButton:r,key:q.index})};p.prototype.$RichMediaPreviewCanvas15=function(q){if(this.props.retailerItemIDs)q=q.set("retailerItemIDs",this.props.retailerItemIDs);return c("React").createElement(c("RichMediaProductSetElementPreview.react"),{instagramPreview:this.props.instagramPreview,productSetElement:q,width:this.props.width})};p.prototype.$RichMediaPreviewCanvas10=function(q,r){return c("React").createElement(c("AdsCanvasPreviewCarouselElement.react"),{carouselElement:q,fullHeight:r,instagramPreview:!!this.props.instagramPreview,key:q.index,width:this.props.width})};p.prototype.$RichMediaPreviewCanvas7=function(q){return c("React").createElement(c("AdsCanvasPreviewHeaderElement.react"),{headerElement:q,key:q.index})};p.prototype.$RichMediaPreviewCanvas11=function(q,r){return c("React").createElement(c("AdsCanvasPreviewPhotoElement.react"),{fullHeight:r,key:q.index,photoElement:q,width:this.props.width})};p.prototype.$RichMediaPreviewCanvas14=function(q){return c("React").createElement(c("AdsCanvasPreviewProductListElement.react"),{productListElement:q,width:this.props.width})};p.prototype.$RichMediaPreviewCanvas9=function(q,r){return c("React").createElement(c("RichMediaScrubbableGIFElementPreview.react"),{fullHeight:r,key:q.index,scrubabableGIFElement:q})};p.prototype.$RichMediaPreviewCanvas12=function(q,r){return c("React").createElement(c("AdsCanvasPreviewVideoElement.react"),{fullHeight:r,key:q.index,videoElement:q,width:this.props.width})};p.prototype.$RichMediaPreviewCanvas13=function(q){return c("React").createElement(c("AdsCanvasPreviewTextElement.react"),{key:q.index,textElement:q})};p.prototype.$RichMediaPreviewCanvas16=function(q){return c("React").createElement(c("AdsCanvasPreviewStoreLocatorElementContainer.react"),{height:this.props.height,key:q.index,storeLocatorElement:q,width:this.props.width})};f.exports=p}),null);
__d("AdsCanvasDocumentSelector",["AdsCanvasDocumentStore","adsCreateStoreSelector"],(function a(b,c,d,e,f,g){"use strict";var h=c("adsCreateStoreSelector")([c("AdsCanvasDocumentStore")],function(i){return c("AdsCanvasDocumentStore").get(i)},f.id+".selector");f.exports=h}),null);
__d("AdsCanvasDocumentWithElementsSelector",["AdsCanvasDocumentSelector","AdsCanvasDocumentStore","AdsCanvasElementStore","immutable","adsCreateSelector","adsCreateStoreSelector"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").List,i=c("adsCreateStoreSelector")([c("AdsCanvasDocumentStore"),c("AdsCanvasElementStore")],function(k){var l=c("AdsCanvasDocumentStore").get(k).getValue();return l?c("AdsCanvasElementStore").getElementList(l.getElementIDs()):h([])},f.id+".AdsCanvasDocumentElementsSelector"),j=c("adsCreateSelector")([c("AdsCanvasDocumentSelector"),i],function(k,l){var m=k.hasValue()&&l.every(function(n){return n.hasValue()});return{canvasDocument:k,canvasElements:l,isCanvasLoaded:m}},f.id+".selector");f.exports=j}),null);
__d("adsCanvasPreviewCanvasSelector",["AdsCanvasDocumentWithElementsSelector","RichMediaEditorStore","adsCreateSelector","adsCreateStoreSelector"],(function a(b,c,d,e,f,g){"use strict";var h=c("adsCreateSelector")([c("AdsCanvasDocumentWithElementsSelector"),c("RichMediaEditorStore").getPreviewType],function(i,j){if(!i.isCanvasLoaded)return{hasError:false,isReady:false};var k=i.canvasDocument.getValueEnforcing(),l=i.canvasElements.map(function(m){return m.getValueEnforcing()});return{backgroundColor:k.getBackgroundColor(),elements:l,hasError:false,isReady:true,previewType:j}},f.id+".selector");f.exports=h}),null);
__d("AdsCanvasPreviewCanvasContainer.react",["ix","cx","fbt","AdsCanvasDocumentActions","AdsCanvasEditorEnums","AdsFBIconDownsized.react","AdsFluxContainer","BIGAdoptionConfig","Image.react","immutable","InstantShoppingSequenceEventsTypedLogger","React","RichMediaPreviewCanvas.react","RichMediaPreviewConstants","SUIBusinessTheme","SUIButton.react","SUISpinner.react","adsCanvasPreviewCanvasSelector","asset","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("AdsCanvasEditorEnums").PreviewEnum,n=c("immutable").List,o=c("RichMediaPreviewConstants").DEVICE_HEIGHT,p=c("RichMediaPreviewConstants").DEVICE_WIDTH;k=babelHelpers.inherits(q,c("React").PureComponent);l=k&&k.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.refreshCanvas=function(){c("AdsCanvasDocumentActions").refreshCanvas(this.props.canvasID,this.state.elementIDs?this.state.elementIDs:n([]))}.bind(this),s}q.getStores=function(){return c("adsCanvasPreviewCanvasSelector").getStores()};q.calculateState=function(r,s){return c("adsCanvasPreviewCanvasSelector")(s.canvasID)};q.prototype.canvasErrorLogEvent=function(){new(c("InstantShoppingSequenceEventsTypedLogger"))().setCanvasID(this.props.canvasID).setEventName("document_error").setPlacement("fb_desktop").log()};q.prototype.$AdsCanvasPreviewCanvasContainer1=function(){this.canvasErrorLogEvent();return c("React").createElement("div",{className:"_2kqb",style:{height:this.props.height||o,width:this.props.width||p}},c("React").createElement("div",{className:"_2ag1"},c("React").createElement(c("SUIButton.react"),{height:"tall",icon:c("React").createElement(c("AdsFBIconDownsized.react"),{src:c("BIGAdoptionConfig").ads_fbicon_adoption?h("411446"):h("142718")}),label:"Refresh",labelIsHidden:true,theme:c("SUIBusinessTheme"),onClick:this.refreshCanvas}),c("React").createElement("div",{className:"_2ag3"},j._("There was a problem loading this Canvas preview. Please refresh the page and try again."))))};q.prototype.$AdsCanvasPreviewCanvasContainer2=function(){return c("React").createElement("div",{className:"_2kqb",style:{height:this.props.height||o,width:this.props.width||p}},c("React").createElement(c("SUISpinner.react"),{theme:c("SUIBusinessTheme")}))};q.prototype.render=function(){if(!this.state.isReady)return this.state.hasError?this.$AdsCanvasPreviewCanvasContainer1():this.$AdsCanvasPreviewCanvasContainer2();return c("React").createElement(c("RichMediaPreviewCanvas.react"),{disableScrolling:this.props.disableScrolling,documentElements:this.state.elements,documentTheme:this.state.backgroundColor,height:this.props.height,instagramPreview:this.state.previewType===m.INSTAGRAM,retailerItemIDs:this.props.retailerItemIDs,shouldHideBackButton:this.props.shouldHideBackButton,showSwipeToOpenPreview:this.props.showSwipeToOpenPreview,width:this.props.width})};q.defaultProps={height:o,showSwipeToOpenPreview:true,width:p};f.exports=c("AdsFluxContainer").create(q,{withProps:true,name:f.id})}),null);
__d("AdsSelectedImagesStoreState",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({imageKeyIndex:0,imagesAllLoaded:false,imagesCrops:c("immutable").Map(),imagesTextoverlays:c("immutable").Map(),savedState:null,selectedImages:c("immutable").List()});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("adsSelectedImagesStoreReducer",["AdsImageDimensionLoadImageDimensionSuccessDataAction","AdsImageIDClasses","AdsImageInfoStore","AdsImageLegacy","AdsSelectedImagesStoreState","AdsSlideshowActionTypes","AdsSlideshowFormatChangeDataAction","AdsSlideshowFrameImagesSuccessDataAction","AdsSlideshowImageRemoveDataAction","AdsSlideshowImagesSelectConfirmDataAction","AdsSlideshowReorderImagesDataAction","AdsSlideshowResetAllDataAction","AdsSlideshowSaveImageCropsDataAction","AdsSlideshowSaveTextoverlayDataAction","AdsSlideshowStore","AdsSlideshowToggleSlideshowDialogDataAction","immutable","SlideshowConstants","SlideshowImageUtil","SlideshowUtil"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("AdsImageIDClasses").AdsImageID,i=c("SlideshowConstants").textoverlays_fonts,j=c("SlideshowConstants").textoverlays_colors,k=5;function l(){return{background_color:j[0].background_color,bold:false,font:Object.keys(i)[0],font_color:j[0].font_color,text_alignment:"center-center",textoverlay_content:null}}function m(w,x){var y=c("immutable").Map();x.forEach(function(z){y=y.set(z.key,n(z))});return c("SlideshowImageUtil").calculateCropsForFormat(x,c("AdsSlideshowStore").getFormat(),y)}function n(w){var x=w.stockImageID?h.fromShutterstockID(w.stockImageID):h.fromExternalURL(w.url),y=c("AdsImageInfoStore").getFullSize(x);if(!y)return{height:w.height,width:w.width};return{height:y.getValueEnforcing().height,width:y.getValueEnforcing().width}}function o(w,x){var y=new(c("AdsImageLegacy"))(w).getUniqueIdentifier(),z=x.reduce(function(A,B){return A.concat("-").concat(B.toString())},y);return Object.assign({},w,{key:z})}function p(w){var x=true;w.map(function(y){var z=y.stockImageID?h.fromShutterstockID(y.stockImageID):h.fromExternalURL(y.url),A=c("AdsImageInfoStore").getFullSize(z),B=A&&!A.hasValue();if(B)x=false});return x}function q(w,x){return c("SlideshowUtil").getSelectedFramesFromVideo(w,x).map(function(y){return{url:y.uri,width:y.width,height:y.height,isLoading:true,key:y.id}})}function r(w,x){var y=p(x),z=w,A=z.imagesCrops;if(y)w=w.set("imagesCrops",m(A,x));return w}function s(w,x){__p&&__p();var y=w.imageKeyIndex,z=c("immutable").List();x.forEach(function(A){var B=!A.key||!!z.find(function(D){return A.key===D.key}),C=A;if(B){C=o(A,[y]);y+=1}z=z.push(C)});return w.set("selectedImages",z).set("imageKeyIndex",y)}function t(w){var x=w.imagesTextoverlays;w.get("selectedImages").forEach(function(y){if(!x.get(y.key))x=x.set(y.key,l())});return w.set("imagesTextoverlays",x)}function u(w,x){w=s(w,x);w=r(w,w.get("selectedImages"));w=t(w);return w}function v(w,x){__p&&__p();var y=w,z=y.imagesTextoverlays,A=y.imagesCrops;switch(x.type){case c("AdsImageDimensionLoadImageDimensionSuccessDataAction").actionType:if(w.get("imagesAllLoaded"))return w;return r(w,w.get("selectedImages"));case c("AdsSlideshowToggleSlideshowDialogDataAction").actionType:if(x.data.slideshowDialogShown)return w;else return new(c("AdsSelectedImagesStoreState"))();case c("AdsSlideshowImagesSelectConfirmDataAction").actionType:return u(w,x.data.selectedImages);case c("AdsSlideshowSaveImageCropsDataAction").actionType:A=w.get("imagesCrops").set(x.data.image.key,x.data.imageCrops);return w.set("imagesCrops",A);case c("AdsSlideshowSaveTextoverlayDataAction").actionType:z=w.get("imagesTextoverlays").set(x.data.image.key,x.data.textoverlay);return w.set("imagesTextoverlays",z);case c("AdsSlideshowActionTypes").IMAGES_SELECT_CANCEL:case c("AdsSlideshowResetAllDataAction").actionType:return new(c("AdsSelectedImagesStoreState"))();case c("AdsSlideshowImageRemoveDataAction").actionType:var B=w.selectedImages.findIndex(function(I){return x.data.removeImage.key===I.key}),C=w.selectedImages;if(B!==-1)C=C.splice(B,1);z=w.get("imagesTextoverlays")["delete"](x.data.removeImage.key);A=w.get("imagesCrops")["delete"](x.data.removeImage.key);w=w.set("imagesTextoverlays",z).set("imagesCrops",A);w=r(w,C);return w.set("selectedImages",C);case c("AdsSlideshowReorderImagesDataAction").actionType:var D=x.data,E=D.fromIndex,F=D.toIndex,G=Object.assign({},w.selectedImages.get(E)),H=w.selectedImages.splice(E>F?F:F+1,0,G);H=H["delete"](E>F?E+1:E);w=r(w,H);return w.set("selectedImages",H);case c("AdsSlideshowFormatChangeDataAction").actionType:return r(w,w.get("selectedImages"));case c("AdsSlideshowFrameImagesSuccessDataAction").actionType:return u(w,q(x.frameImages,k));default:return w}}f.exports=v}),null);
__d("adsSlideshowAudioStoreFileUploadReducer",["AdsSlideshowAudioFileUploadErrorDataAction","AdsSlideshowAudioFileUploadStartedDataAction","AdsSlideshowAudioFileUploadSuccessDataAction","SlideshowMusicCategory"],(function a(b,c,d,e,f,g){"use strict";function h(i,j){var k=i.get("audioFileUploadInfo");switch(j.type){case c("AdsSlideshowAudioFileUploadStartedDataAction").actionType:return i.set("audioFileUploadInfo",babelHelpers["extends"]({},k,{isUploading:true,hasError:false})).set("selectedMusicCategory",c("SlideshowMusicCategory").USER_UPLOADED);case c("AdsSlideshowAudioFileUploadErrorDataAction").actionType:return i.set("audioFileUploadInfo",babelHelpers["extends"]({},k,{isUploading:false,hasError:true}));case c("AdsSlideshowAudioFileUploadSuccessDataAction").actionType:return i.set("audioFileUploadInfo",babelHelpers["extends"]({},k,{isUploading:false,hasError:false})).set("storylineMoodFiles",i.get("storylineMoodFiles").unshift(j.uploadedMood));default:return i}}f.exports=h}),null);
__d("AdsSlideshowAudioStoreState",["SlideshowMusicCategory","immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({audioFileUploadInfo:{isUploading:false,hasError:false},isPreviewPlaying:false,numberOfImages:0,recentlyUsedStorylineMoods:c("immutable").List(),savedState:null,selectedMusicCategory:c("SlideshowMusicCategory").ALL_TRACKS,selectedStorylineMood:null,storylineMoodFiles:c("immutable").List(),storylineMoodIDToSource:c("immutable").Map()});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("adsSlideshowAudioStoreReducer",["AdsSlideshowActions","AdsSlideshowAudioStoreState","AdsSlideshowDurationChangeDataAction","AdsSlideshowImageRemoveDataAction","AdsSlideshowImagesSelectConfirmDataAction","AdsSlideshowMusicCategorySelectDataAction","AdsSlideshowPreviewStateChangeDataAction","AdsSlideshowResetAllDataAction","AdsSlideshowSetStorylineMoodFilesDataAction","AdsSlideshowStore","AdsSlideshowStorylineMoodChangeDataAction","AdsSlideshowStorylineMoodDeleteDataAction","AdsSlideshowStorylineMoodSourceChangeDataAction","AdsSlideshowStorylineMoodSourceMapChangeDataAction","SlideshowAudioUtil","SlideshowDataManager","SlideshowUtil"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(m,n,o,p){__p&&__p();if(!n)return m;var q=m.get("storylineMoodIDToSource");c("SlideshowDataManager").fetchStorylineMoodSource(n,o,function(r){c("AdsSlideshowActions").changeStorylineMoodIDSource(r);q=q.set(n,r);c("AdsSlideshowActions").changeStorylineMoodSourceMap(q);if(p)p()});return i(m,q.get(n))}function i(m,n){var o=m.get("selectedStorylineMood");if(!o||!n)return m;o.source=n;return m.set("selectedStorylineMood",o).set("recentlyUsedStorylineMoods",m.get("recentlyUsedStorylineMoods").unshift(o))}function j(m,n){if(c("SlideshowAudioUtil").storylineMoodCompare(n,m.get("selectedStorylineMood")))m=m.set("selectedStorylineMood",null).set("isPreviewPlaying",false);c("SlideshowDataManager").deleteAudioFile(n.moodID);return m.set("storylineMoodFiles",m.get("storylineMoodFiles").filter(function(o){return!c("SlideshowAudioUtil").storylineMoodCompare(o,n)}))}function k(m){return m===0?c("SlideshowUtil").getMaximumTotalLengthInMS():c("AdsSlideshowStore").getTotalLength(m)}function l(m,n){__p&&__p();var o=m.get("numberOfImages"),p=m.get("selectedStorylineMood")?m.get("selectedStorylineMood").moodID:null;switch(n.type){case c("AdsSlideshowStorylineMoodChangeDataAction").actionType:return h(m.set("selectedStorylineMood",n.data.selectedStorylineMood),n.data.selectedStorylineMood?n.data.selectedStorylineMood.moodID:null,k(o),function(){c("AdsSlideshowActions").previewStateChange(true)});case c("AdsSlideshowStorylineMoodDeleteDataAction").actionType:return j(m,n.storylineMood);case c("AdsSlideshowStorylineMoodSourceChangeDataAction").actionType:return i(m,n.data.storylineMoodIDSource);case c("AdsSlideshowStorylineMoodSourceMapChangeDataAction").actionType:return m.set("storylineMoodIDToSource",n.data.storylineMoodIDSourceMap);case c("AdsSlideshowImagesSelectConfirmDataAction").actionType:return h(m,p,k(n.data.selectedImages.length),function(){c("AdsSlideshowActions").previewStateChange(false)}).set("numberOfImages",n.data.selectedImages.length);case c("AdsSlideshowDurationChangeDataAction").actionType:return h(m,p,k(o));case c("AdsSlideshowImageRemoveDataAction").actionType:return h(m,p,k(o-1)).set("numberOfImages",o-1);case c("AdsSlideshowSetStorylineMoodFilesDataAction").actionType:return m.set("storylineMoodFiles",n.data.storylineMoodFiles);case c("AdsSlideshowMusicCategorySelectDataAction").actionType:return m.set("selectedMusicCategory",n.selectedMusicCategory);case c("AdsSlideshowPreviewStateChangeDataAction").actionType:return m.set("isPreviewPlaying",n.isPreviewPlaying);case c("AdsSlideshowResetAllDataAction").actionType:var q=m.get("storylineMoodFiles");return new(c("AdsSlideshowAudioStoreState"))().set("storylineMoodFiles",q);default:return m}}f.exports=l}),null);
__d("AdsSelectedImagesStore",["AdsDataAtom","AdsImageInfoStore","AdsSelectedImagesStoreState","AdsSlideshowStore","FluxReduceStore","adsSelectedImagesStoreReducer","adsSlideshowEditReducer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return new(c("AdsSelectedImagesStoreState"))()};j.prototype.reduce=function(k,l){var m=l.action;c("AdsDataAtom").waitFor([c("AdsImageInfoStore").getDispatchToken(),c("AdsSlideshowStore").getDispatchToken()]);var n=[c("adsSelectedImagesStoreReducer"),c("adsSlideshowEditReducer")];return n.reduce(function(k,o){return o(k,m)},k)};j.prototype.getSelectedImages=function(){return this.getState().get("selectedImages").toArray()};j.prototype.getImagesCrops=function(){var k=this.getState().get("selectedImages"),l=this.getState().get("imagesCrops");if(k.size!==l.size)return[];return k.map(function(m){return l.get(m.key)}).toArray()};j.prototype.getImagesTextoverlays=function(){return this.getState().get("selectedImages").map(function(k){return this.getState().get("imagesTextoverlays").get(k.key)}.bind(this)).toArray()};j.prototype.getNumberOfImages=function(){return this.getState().get("selectedImages").size};function j(){h.apply(this,arguments)}f.exports=new j(c("AdsDataAtom"))}),null);
__d("AdsSlideshowAudioStore",["AdsDataAtom","AdsSlideshowAudioStoreState","AdsSlideshowStore","FluxReduceStore","adsSlideshowAudioStoreFileUploadReducer","adsSlideshowAudioStoreReducer","adsSlideshowEditReducer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return new(c("AdsSlideshowAudioStoreState"))()};j.prototype.reduce=function(k,l){var m=l.action;c("AdsDataAtom").waitFor([c("AdsSlideshowStore").getDispatchToken()]);var n=[c("adsSlideshowAudioStoreReducer"),c("adsSlideshowAudioStoreFileUploadReducer"),c("adsSlideshowEditReducer")];return n.reduce(function(k,o){return o(k,m)},k)};j.prototype.getAudioFileUploadInfo=function(){return this.getState().get("audioFileUploadInfo")};j.prototype.getNumberOfImages=function(){return this.getState().get("numberOfImages")};j.prototype.getStorylineMoodFiles=function(){return this.getState().get("storylineMoodFiles").toArray()};j.prototype.getRecentlyUsedStorylineMoods=function(){return this.getState().get("recentlyUsedStorylineMoods").toArray()};j.prototype.getSelectedStorylineMood=function(){return this.getState().get("selectedStorylineMood")};j.prototype.getStorylineMoodIDToSource=function(){return this.getState().get("storylineMoodIDToSource")};j.prototype.getSelectedMusicCategory=function(){return this.getState().get("selectedMusicCategory")};j.prototype.getIsPreviewPlaying=function(){return this.getState().get("isPreviewPlaying")};function j(){h.apply(this,arguments)}f.exports=new j(c("AdsDataAtom"))}),null);
__d("AdsSlideshowLoggingStoreState",["SlideshowConstants","SlideshowEntrypoint","SlideshowMusicCategory","SlideshowFlowTypes","immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("SlideshowFlowTypes").SlideshowTabKey,k=c("immutable").Record({aspectRatioFormat:c("SlideshowConstants").formats.Original,deletedStorylineMoodID:null,durationInMS:1e3,entrypoint:c("SlideshowEntrypoint").UNKNOWN,hasFrameImages:false,isVideoPickerOpen:false,module:"ads_slideshow",photoCount:0,originalVideoID:null,selectedMusicCategory:c("SlideshowMusicCategory").ALL_TRACKS,selectedStorylineMoodID:null,selectedTab:j.SETTINGS_TAB,transitionInMS:c("SlideshowConstants").transitions.None,uploadedStorylineMoodID:null});h=babelHelpers.inherits(l,k);i=h&&h.prototype;function l(){h.apply(this,arguments)}f.exports=l}),null);
__d("SlideshowFbtUtils",["fbt","SlideshowFlowTypes","SlideshowMusicCategory"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("SlideshowFlowTypes").SlideshowTabKey,l={None:h._("None"),Fade:h._("Fade"),Unknown:h._("Unknow")},m=(i={},i[k.SETTINGS_TAB]=h._("Settings"),i[k.MUSIC_TAB]=h._("Music"),i[k.FRAMES_TAB]=h._("Video Stills"),i.FRAMES_TAB_NUX=h._("Choose which video stills you want to include in your slideshow"),i.MUSIC_TAB_NUX=h._("You can now add music to your slideshow. Use one of our royalty-free tracks or upload your own."),i),n={UPLOAD_ERROR:h._("There was a problem with your upload"),FRAME_IMAGE_FETCH_ERROR_FIRST:h._("We weren't able to cut your video into a slideshow. Try adding the video again."),FRAME_IMAGE_FETCH_ERROR_SECOND:h._("We still weren't able to cut your video into a slideshow. There could be a problem with your video file."),Unknown:null},o=(j={},j[c("SlideshowMusicCategory").ALL_TRACKS]=h._("All Tracks"),j[c("SlideshowMusicCategory").USER_UPLOADED]=h._("Uploaded Tracks"),j[c("SlideshowMusicCategory").RECENTLY_USED]=h._("Recently Used"),j[c("SlideshowMusicCategory").ENERGETIC]=h._("Energetic"),j[c("SlideshowMusicCategory").INSPIRATIONAL]=h._("Inspirational"),j[c("SlideshowMusicCategory").FUN]=h._("Fun"),j[c("SlideshowMusicCategory").TRUSTWORTHY]=h._("Trustworthy"),j[c("SlideshowMusicCategory").MODERN]=h._("Modern"),j.Unknown=null,j),p={Original:h._("Original"),Wide:h._("Rectangle (16:9)"),Square:h._("Square (1:1)"),Vertical:h._("Vertical (2:3)")},q={Original:null,Wide:null,Square:null,Vertical:null},r={_getFbtString:function s(t,u){if(t[u])return t[u];return t.Unknown},getDurationFbtString:function s(t){if(t===1)return h._({"*":"{second} second"},[h.param("second",t,[0])]);return h._({"*":"{seconds} seconds"},[h.param("seconds",t,[0])])},getFramesTabNuxFbtString:function s(){return this._getFbtString(m,"FRAMES_TAB_NUX")},getMusicTabNuxFbtString:function s(){return this._getFbtString(m,"MUSIC_TAB_NUX")},getTabNameFbtString:function s(t){return this._getFbtString(m,t)},getTransitionFbtString:function s(t){return this._getFbtString(l,t)},getSlideshowVideoErrorMessage:function s(t){return this._getFbtString(n,t)},getFormatFbtString:function s(t){return this._getFbtString(p,t)},getFormatTooltipFbtString:function s(t){return this._getFbtString(q,t)},getMusicCategoryTooltip:function s(t){return this._getFbtString(o,t)}};f.exports=r}),null);
__d("SlideshowVideoErrorMessage",[],(function a(b,c,d,e,f,g){f.exports={UPLOAD_ERROR:"UPLOAD_ERROR",FRAME_IMAGE_FETCH_ERROR_FIRST:"FRAME_IMAGE_FETCH_ERROR_FIRST",FRAME_IMAGE_FETCH_ERROR_SECOND:"FRAME_IMAGE_FETCH_ERROR_SECOND"}}),null);
__d("VideoFrameImagesGenerationStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SUCCESS:0,IN_PROGRESS:1,NOT_STARTED:2,FAILED:3})}),null);
__d("SlideshowVideoFrameImagesAsyncNotifier",["SlideshowDataManager","VideoFrameImagesGenerationStatus"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=2e3,i=100,j=1500;function k(l){this.$SlideshowVideoFrameImagesAsyncNotifier1=l;this.$SlideshowVideoFrameImagesAsyncNotifier2=0;this.$SlideshowVideoFrameImagesAsyncNotifier4=0;this.$SlideshowVideoFrameImagesAsyncNotifier7=this.$SlideshowVideoFrameImagesAsyncNotifier7.bind(this)}k.prototype.start=function(){this.$SlideshowVideoFrameImagesAsyncNotifier3=Date.now();this.$SlideshowVideoFrameImagesAsyncNotifier8()};k.prototype.setOnSuccessListener=function(l){this.$SlideshowVideoFrameImagesAsyncNotifier5=l;return this};k.prototype.setOnErrorListener=function(l){this.$SlideshowVideoFrameImagesAsyncNotifier6=l;return this};k.prototype.$SlideshowVideoFrameImagesAsyncNotifier8=function(){var l=this.$SlideshowVideoFrameImagesAsyncNotifier2+h,m=Math.max(0,l-Date.now());setTimeout(function(){return this.$SlideshowVideoFrameImagesAsyncNotifier9()}.bind(this),m)};k.prototype.$SlideshowVideoFrameImagesAsyncNotifier9=function(){this.$SlideshowVideoFrameImagesAsyncNotifier2=Date.now();this.$SlideshowVideoFrameImagesAsyncNotifier4+=1;c("SlideshowDataManager").fetchVideoFrameImages(this.$SlideshowVideoFrameImagesAsyncNotifier7,this.$SlideshowVideoFrameImagesAsyncNotifier1)};k.prototype.$SlideshowVideoFrameImagesAsyncNotifier7=function(l){__p&&__p();var m=l&&l.status;if(!l||m==null||m===c("VideoFrameImagesGenerationStatus").IN_PROGRESS||m===c("VideoFrameImagesGenerationStatus").NOT_STARTED)if(this.$SlideshowVideoFrameImagesAsyncNotifier4<i)this.$SlideshowVideoFrameImagesAsyncNotifier8();else this.$SlideshowVideoFrameImagesAsyncNotifier6();else if(m===c("VideoFrameImagesGenerationStatus").SUCCESS){var n=Date.now(),o=Math.max(0,this.$SlideshowVideoFrameImagesAsyncNotifier3-n+j);setTimeout(function(){return this.$SlideshowVideoFrameImagesAsyncNotifier5(l.frame_images)}.bind(this),o)}else this.$SlideshowVideoFrameImagesAsyncNotifier6()};f.exports=k}),null);
__d("AdsVideoFrameImagesStore",["AdsActionTypes","AdsDataAtom","AdsSlideshowActions","AdsSlideshowCreateDataAction","AdsSlideshowCreateResetDataAction","AdsSlideshowFetchFrameImagesDataAction","AdsSlideshowFrameImagesFailureDataAction","AdsSlideshowFrameImagesSuccessDataAction","AdsSlideshowToggleSlideshowDialogDataAction","FluxReduceStore","SlideshowDataManager","SlideshowFbtUtils","SlideshowFlowTypes","SlideshowVideoErrorMessage","SlideshowVideoFrameImagesAsyncNotifier"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("SlideshowFlowTypes").SlideshowTabKey;h=babelHelpers.inherits(k,c("FluxReduceStore"));i=h&&h.prototype;k.prototype.getInitialState=function(){return{isFetchingFrameImages:false,videoFrameImagesError:null,videoFrameImages:[]}};k.prototype.clearAllState=function(){return this.getInitialState()};k.prototype.getVideoFrameImagesError=function(){var l=String(this.getState().videoFrameImagesError);return c("SlideshowFbtUtils").getSlideshowVideoErrorMessage(l)};k.prototype.getVideoFrameImages=function(){return this.getState().videoFrameImages};k.prototype.isFetchingFrameImages=function(){return this.getState().isFetchingFrameImages};k.prototype.$AdsVideoFrameImagesStore1=function(l){c("AdsSlideshowActions").informFrameImagesSuccess(l);c("AdsSlideshowActions").selectTab(j.FRAMES_TAB)};k.prototype.$AdsVideoFrameImagesStore2=function(l){c("SlideshowDataManager").scheduleFrameImagesAsyncJob(l);new(c("SlideshowVideoFrameImagesAsyncNotifier"))(l).setOnSuccessListener(this.$AdsVideoFrameImagesStore1).setOnErrorListener(c("AdsSlideshowActions").informFrameImagesFailure).start()};k.prototype.reduce=function(l,m){__p&&__p();var n=m.action;switch(n.type){case c("AdsSlideshowToggleSlideshowDialogDataAction").actionType:if(!n.data.slideshowDialogShown)return this.getInitialState();return l;case c("AdsSlideshowFetchFrameImagesDataAction").actionType:this.$AdsVideoFrameImagesStore2(n.videoID);return babelHelpers["extends"]({},l,{isFetchingFrameImages:true});case c("AdsSlideshowFrameImagesSuccessDataAction").actionType:return babelHelpers["extends"]({},l,{isFetchingFrameImages:false,videoFrameImagesError:null,videoFrameImages:n.frameImages});case c("AdsSlideshowFrameImagesFailureDataAction").actionType:var o=l.videoFrameImagesError===null?c("SlideshowVideoErrorMessage").FRAME_IMAGE_FETCH_ERROR_FIRST:c("SlideshowVideoErrorMessage").FRAME_IMAGE_FETCH_ERROR_SECOND;return babelHelpers["extends"]({},l,{isFetchingFrameImages:false,videoFrameImagesError:o});case c("AdsSlideshowCreateDataAction").actionType:case c("AdsSlideshowCreateResetDataAction").actionType:case c("AdsActionTypes").PAGE_TRANSITION:return this.getInitialState();default:return l}};function k(){h.apply(this,arguments)}f.exports=new k(c("AdsDataAtom"))}),null);
__d("AdsVideoUploadStartDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.UPLOAD_START");f.exports=h}),null);
__d("adsSlideshowLoggingStoreReducer",["AdsDataAtom","AdsSelectedImagesStore","AdsSlideshowAddVideoClickDataAction","AdsSlideshowAudioFileUploadErrorDataAction","AdsSlideshowAudioFileUploadStartedDataAction","AdsSlideshowAudioFileUploadSuccessDataAction","AdsSlideshowAudioStore","AdsSlideshowCreateDataAction","AdsSlideshowDurationChangeDataAction","AdsSlideshowFetchFrameImagesDataAction","AdsSlideshowFormatChangeDataAction","AdsSlideshowFrameImagesFailureDataAction","AdsSlideshowFrameImagesSuccessDataAction","AdsSlideshowImageRemoveDataAction","AdsSlideshowImagesSelectConfirmDataAction","AdsSlideshowLoggingStoreState","AdsSlideshowMusicCategorySelectDataAction","AdsSlideshowResetAllDataAction","AdsSlideshowSelectTabDataAction","AdsSlideshowSetEntrypointDataAction","AdsSlideshowStore","AdsSlideshowStorylineMoodChangeDataAction","AdsSlideshowStorylineMoodDeleteDataAction","AdsSlideshowToggleSlideshowDialogDataAction","AdsSlideshowTransitionChangeDataAction","AdsSlideshowVideoPickerClosedDataAction","AdsVideoFrameImagesStore","AdsVideoUploadErrorDataAction","AdsVideoUploadStartDataAction","SlideshowConstants","SlideshowCreationWaterfallEvent","SlideshowCreationWaterfallLogger","WebApiApplication"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j,event){c("SlideshowCreationWaterfallLogger").logEvent(event,{photo_count:j.get("photoCount"),has_frame_images:j.get("hasFrameImages"),original_video_id:j.get("originalVideoID"),selected_music_category:j.get("selectedMusicCategory"),selected_storyline_mood_id:j.get("selectedStorylineMoodID"),uploaded_storyline_mood_id:j.get("uploadedStorylineMoodID"),deleted_storyline_mood_id:j.get("deletedStorylineMoodID"),duration_in_ms:j.get("durationInMS"),transition_in_ms:j.get("transitionInMS"),aspect_ratio_format:j.get("aspectRatioFormat"),selected_tab:j.get("selectedTab"),entrypoint:j.get("entrypoint"),web_application_id:c("WebApiApplication").getClientID()},j.get("module"))}function i(j,k){__p&&__p();c("AdsDataAtom").waitFor([c("AdsSelectedImagesStore").getDispatchToken(),c("AdsVideoFrameImagesStore").getDispatchToken(),c("AdsSlideshowStore").getDispatchToken(),c("AdsSlideshowAudioStore").getDispatchToken()]);switch(k.type){case c("AdsSlideshowSetEntrypointDataAction").actionType:j=j.set("entrypoint",k.entrypoint);break;case c("AdsSlideshowToggleSlideshowDialogDataAction").actionType:if(k.data.slideshowDialogShown)h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_INTENT);else h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_CANCEL);break;case c("AdsSlideshowCreateDataAction").actionType:j=j.set("photoCount",Math.min(k.data.selectedImages.length,c("SlideshowConstants").max_photo_num));h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_POST);break;case c("AdsSlideshowImagesSelectConfirmDataAction").actionType:j=j.set("photoCount",c("AdsSelectedImagesStore").getNumberOfImages());h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_IMAGES_SELECT_CONFIRM);break;case c("AdsSlideshowImageRemoveDataAction").actionType:j=j.set("photoCount",c("AdsSelectedImagesStore").getNumberOfImages());h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_IMAGE_REMOVE);break;case c("AdsSlideshowAddVideoClickDataAction").actionType:j=j.set("isVideoPickerOpen",true).set("hasFrameImages",false).set("originalVideoID",null);h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_ADD_VIDEO_CLICK);break;case c("AdsSlideshowVideoPickerClosedDataAction").actionType:j=j.set("isVideoPickerOpen",false);break;case c("AdsVideoUploadStartDataAction").actionType:if(j.get("isVideoPickerOpen"))h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_VIDEO_UPLOAD_START);break;case c("AdsVideoUploadErrorDataAction").actionType:if(j.get("isVideoPickerOpen"))h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_VIDEO_UPLOAD_ERROR);break;case c("AdsSlideshowFetchFrameImagesDataAction").actionType:j=j.set("originalVideoID",k.videoID).set("isVideoPickerOpen",false);h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_FRAME_IMAGES_START);break;case c("AdsSlideshowFrameImagesSuccessDataAction").actionType:j=j.set("hasFrameImages",true).set("photoCount",c("AdsSelectedImagesStore").getNumberOfImages()).set("selectedTab",c("AdsSlideshowStore").getSelectedTab());h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_FRAME_IMAGES_SUCCESS);break;case c("AdsSlideshowFrameImagesFailureDataAction").actionType:h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_FRAME_IMAGES_ERROR);break;case c("AdsSlideshowStorylineMoodChangeDataAction").actionType:var l=c("AdsSlideshowAudioStore").getSelectedStorylineMood();if(l==null){j=j.set("selectedStorylineMoodID",null);h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_STORYLINE_MOOD_REMOVE)}else{j=j.set("selectedStorylineMoodID",l.moodID);h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_STORYLINE_MOOD_SELECT)}break;case c("AdsSlideshowStorylineMoodDeleteDataAction").actionType:j=j.set("deletedStorylineMoodID",k.storylineMood.moodID);h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_STORYLINE_MOOD_DELETE);break;case c("AdsSlideshowMusicCategorySelectDataAction").actionType:j=j.set("selectedMusicCategory",k.selectedMusicCategory);h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_MUSIC_CATEGORY_SELECT);break;case c("AdsSlideshowAudioFileUploadStartedDataAction").actionType:j=j.set("selectedMusicCategory",c("AdsSlideshowAudioStore").getSelectedMusicCategory());h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_AUDIO_UPLOAD_START);break;case c("AdsSlideshowAudioFileUploadErrorDataAction").actionType:h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_AUDIO_UPLOAD_ERROR);break;case c("AdsSlideshowAudioFileUploadSuccessDataAction").actionType:j=j.set("uploadedStorylineMoodID",k.uploadedMood.moodID);h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_AUDIO_UPLOAD_SUCCESS);break;case c("AdsSlideshowTransitionChangeDataAction").actionType:j=j.set("transitionInMS",c("AdsSlideshowStore").getTransitionInMS());h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_TRANSITION_CHANGE);break;case c("AdsSlideshowDurationChangeDataAction").actionType:j=j.set("durationInMS",c("AdsSlideshowStore").getDurationInMS());h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_DURATION_CHANGE);break;case c("AdsSlideshowFormatChangeDataAction").actionType:j=j.set("aspectRatioFormat",c("AdsSlideshowStore").getFormat());h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_FORMAT_CHANGE);break;case c("AdsSlideshowSelectTabDataAction").actionType:j=j.set("selectedTab",c("AdsSlideshowStore").getSelectedTab());h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_TAB_CHANGE);break;case c("AdsSlideshowResetAllDataAction").actionType:j=new(c("AdsSlideshowLoggingStoreState"))();break;default:break}return j}f.exports=i}),null);
__d("AdsEditInlinePostWarning.react",["React","SUIBusinessTheme","SUINotice.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;k.prototype.render=function(){if(!this.props.message)return null;return c("React").createElement("div",{className:this.props.className},c("React").createElement(c("SUINotice.react"),{theme:c("SUIBusinessTheme"),type:"information"},this.props.message))};function k(){h.apply(this,arguments)}k.propTypes={className:j.string,message:j.node};f.exports=k}),null);
__d("AdsImageCollection",["invariant","AdsImageCollectionViews","ArbiterMixin","mixin"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("mixin")(c("ArbiterMixin")));j=i&&i.prototype;function k(l){j.constructor.call(this);l=Object.assign({maxSelectedImages:1},l);this.$AdsImageCollection1=l.maxSelectedImages;this.$AdsImageCollection1%1===0||h(0);this.reset()}k.prototype.reset=function(){this.$AdsImageCollection2=[];this.$AdsImageCollection3={};this.$AdsImageCollection4=[]};k.prototype.addImagesToFront=function(l,m){this.$AdsImageCollection5(l);this.$AdsImageCollection6(l,0,m)};k.prototype.addImagesToBack=function(l,m){this.$AdsImageCollection5(l);this.addImagesToBack_UNSAFE(l,m)};k.prototype.addImagesToBack_UNSAFE=function(l,m){this.$AdsImageCollection6(l,this.$AdsImageCollection2.length,m)};k.prototype.$AdsImageCollection6=function(l,m,n){__p&&__p();c("AdsImageCollectionViews").assertIsValidView(n);var o=l.filter(function(p){var q=this.$AdsImageCollection3[p.getUniqueIdentifier()];if(q){q.view=n;return false}else{this.$AdsImageCollection3[p.getUniqueIdentifier()]={selected:false,view:n,image:p};return true}}.bind(this),this);Array.prototype.splice.apply(this.$AdsImageCollection2,[m,0].concat(o));this.inform("onChange")};k.prototype.$AdsImageCollection5=function(l){l.forEach(function(m){var n=this.$AdsImageCollection3[m.getUniqueIdentifier()];if(n)0===(n.view&c("AdsImageCollectionViews").views.ALL)||h(0)}.bind(this))};k.prototype.isImageSelected=function(l){return!!this.$AdsImageCollection3[l.getUniqueIdentifier()].selected};k.prototype.toggleImageSelected=function(l){var m=!this.isImageSelected(l);this.setImageSelected(l,m);return m};k.prototype.setImageSelected=function(l,m){var n=this.$AdsImageCollection7(l,m);n&&this.inform("onChange")};k.prototype.setImagesSelected=function(l,m){var n=void 0;for(var o=0,p=l.length;o<p;o++)if(this.$AdsImageCollection7(l[o],m))n=true;n&&this.inform("onChange")};k.prototype.$AdsImageCollection7=function(l,m){__p&&__p();l=this.$AdsImageCollection3[l.getUniqueIdentifier()].image;this.assertHasImage(l);if(m===this.isImageSelected(l))return false;if(m)this.$AdsImageCollection4.push(l);else this.$AdsImageCollection4=this.$AdsImageCollection4.filter(function(o){return!l.equals(o)});this.$AdsImageCollection3[l.getUniqueIdentifier()].selected=m;if(this.$AdsImageCollection1>0)while(this.getSelectedImageCount()>this.$AdsImageCollection1){var n=this.$AdsImageCollection4.shift();this.$AdsImageCollection3[n.getUniqueIdentifier()].selected=false}return true};k.prototype.setMaxSelectableImages=function(l){for(var m=l;m<this.getSelectedImageCount();m++){var n=this.$AdsImageCollection4[m];this.$AdsImageCollection3[n.getUniqueIdentifier()].selected=false}this.$AdsImageCollection1=l};k.prototype.deselectAllImages=function(){if(!this.hasSelectedImages())return;this.getSelectedImages().forEach(function(l){this.$AdsImageCollection3[l.getUniqueIdentifier()].selected=false},this);this.$AdsImageCollection4=[];this.inform("onChange")};k.prototype.clearImagesByViewBitmask=function(l){__p&&__p();c("AdsImageCollectionViews").assertIsValidViewBitmask(l);var m=false;this.$AdsImageCollection2=this.$AdsImageCollection2.filter(function(n){__p&&__p();var o=0!==(l&this.$AdsImageCollection3[n.getUniqueIdentifier()].view);if(o){m=true;if(this.isImageSelected(n)){this.$AdsImageCollection3[n.getUniqueIdentifier()].view=c("AdsImageCollectionViews").views.INVISIBLE;o=false}else delete this.$AdsImageCollection3[n.getUniqueIdentifier()]}return!o}.bind(this),this);if(m)this.inform("onChange")};k.prototype.hasImage=function(l){return this.$AdsImageCollection3[l.getUniqueIdentifier()]!==undefined};k.prototype.hasImageInView=function(l,m){var n=this.$AdsImageCollection3[l.getUniqueIdentifier()];return!!n&&(n.view&m)!==0};k.prototype.assertHasImage=function(l){this.hasImage(l)||h(0)};k.prototype.getSelectedImages=function(){return this.$AdsImageCollection4.slice(0)};k.prototype.getSelectedImageCount=function(){return this.$AdsImageCollection4.length};k.prototype.hasSelectedImages=function(){return this.getSelectedImageCount()!==0};k.prototype.getImageByIndex=function(l){return this.$AdsImageCollection2[l]};k.prototype.getImageByUniqueID=function(l){return this.$AdsImageCollection3[l]&&this.$AdsImageCollection3[l].image};k.prototype.getImages=function(l){c("AdsImageCollectionViews").assertIsValidViewBitmask(l);return this.$AdsImageCollection2.filter(function(m){return 0!==(l&this.$AdsImageCollection3[m.getUniqueIdentifier()].view)}.bind(this),this)};k.prototype.getImageCount=function(l){return this.getImages(l).length};k.prototype.isEmpty=function(){return this.getImageCount(c("AdsImageCollectionViews").views.ALL)===0};f.exports=k}),null);
__d("AdsImageSecondaryActions",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({X:null});f.exports=h}),null);
__d("AdsImageUploadStartDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"IMAGE_UPLOAD.START");f.exports=h}),null);
__d("AdsImageUploadUploadSuccessDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"IMAGE_UPLOAD.UPLOAD_SUCCESS");f.exports=h}),null);
__d("AdsMediaLibraryExpandedAsset.react",["cx","Image.react","Keys","React","ReactDOM"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes,l=24;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$AdsMediaLibraryExpandedAsset1=function(s){if(s.keyCode===c("Keys").ESC)this.props.onClickClose()}.bind(this),this.$AdsMediaLibraryExpandedAsset2=function(s){this.props.onClickClose();s.stopPropagation()}.bind(this),o}m.prototype.componentDidMount=function(){"use strict";c("ReactDOM").findDOMNode(this.refs.expandedAssetView).focus()};m.prototype.render=function(){"use strict";__p&&__p();var n=this.props.width,o=this.props.height,p={},q=window.innerHeight,r=window.innerWidth;if(n>r||o>q)if(n/r>o/q){n=r;o=this.props.height*(r/this.props.width);p.width=n}else{o=q;n=this.props.width*(q/this.props.height);p.height=o}else p.width=this.props.width;var s=-Math.floor(n/2),t=this.props.topBarHeight||0,u=-Math.floor(o/2)+t+l,v=c("React").createElement("div",{className:"_4-lr",style:{marginLeft:s,marginTop:u}},c("React").createElement(c("Image.react"),{alt:this.props.source,className:"_4vnf",src:this.props.source,style:p})),w=c("React").createElement("div",{className:"_1zn8",style:{marginLeft:-(s+15),marginTop:u-20}});return c("React").createElement("div",{className:"_1zn6",ref:"expandedAssetView",role:"button",tabIndex:0,onClick:this.$AdsMediaLibraryExpandedAsset2,onKeyDown:this.$AdsMediaLibraryExpandedAsset1},c("React").createElement("div",{className:"_4-ls"}),v,w)};m.propTypes={height:k.number.isRequired,onClickClose:k.func.isRequired,source:k.string.isRequired,topBarHeight:k.number,width:k.number.isRequired};f.exports=m}),null);
__d("AdsInstagramFields",["errorCode","Set"],(function a(b,c,d,e,f,g,h){"use strict";var i={INSTAGRAM_ACCOUNT_ERROR_KEYS:new(c("Set"))([1815238,1815207,1772103]),INSTAGRAM_LEAD_FORM_ERROR_KEYS:new(c("Set"))([1815482,1815458,1815463]),INSTAGRAM_SPECIFIC_IMAGE_ERROR_KEYS:new(c("Set"))([2016004,2016005,2016007,2016006,1772069,1772077,1772073,1772130]),INSTAGRAM_SPECIFIC_PAGE_POST_ERROR_KEYS:new(c("Set"))([1815390]),INSTAGRAM_VIDEO_ERROR_KEYS:new(c("Set"))([2016008,1772074,1772076,1772130,1772048,1772049,1772122,1772095,1772063])};f.exports=i}),null);
__d("PostInstagramEligibility",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ELIGIBLE:"eligible",INELIGIBLE_CAPTION_TOO_LONG:"ineligible_caption_too_long",INELIGIBLE_MEDIA_ASPECT_RATIO:"ineligible_media_aspect_ratio",INELIGIBLE_MEDIA_DIMENSION:"ineligible_media_dimension",INELIGIBLE_MEDIA_SQUARE_ASPECT_RATIO:"ineligible_media_square_aspect_ratio",INELIGIBLE_MEDIA_SQUARE_DIMENSION:"ineligible_media_square_dimension",INELIGIBLE_MENTIONS_ARE_NOT_ALLOWED_IN_CAPTION:"ineligible_caption_mentions_not_allowed",INELIGIBLE_POST_ALBUM_UPLOAD:"ineligible_post_album_upload",INELIGIBLE_POST_MULTI_PHOTO:"ineligible_post_multi_photo",INELIGIBLE_POST_NO_MEDIA:"ineligible_post_no_media",INELIGIBLE_POST_TYPE:"ineligible_post_type",INELIGIBLE_UNKNOWN_ERROR:"ineligible_unknown_error",INELIGIBLE_VIDEO_LENGTH:"ineligible_video_length",INELEGIBLE_VIDEO_SIZE:"inelegible_video_size",INELEGIBLE_VIDEO_NO_THUMBNAIL:"inelegible_video_no_thumbnail",INELEGIBLE_CALL_TO_ACTION_TYPE:"inelegible_call_to_action_type",INELEGIBLE_CREATIVE_TYPE:"inelegible_creative_type",INELEGIBLE_CAPTION_TOO_MANY_HASHTAGS:"inelegible_caption_too_many_hashtags",INELEGIBLE_COMPONENT_TYPE:"inelegible_component_type",INELEGIBLE_ADGROUP:"inelegible_adgroup",INELEGIBLE_STORE_LOCATOR_DESTINATION:"inelegible_store_locator_destination",INELEGIBLE_BOOSTED_COMPONENT_OR_CTA:"inelegible_boosted_component_or_cta"})}),null);
__d("AdsInstagramErrorUtils",["errorCode","fbt","AdImageSpecs","AdsAPIAdgroupPaths","AdsAPIPromotablePostFields","AdsBuyingTypes","AdsError","AdsErrorUtils","AdsInstagramFields","AdsInstagramMediaSpecs","AdsValidationConfig","InstagramImageResolutionExperiment","Link.react","Map","PostInstagramEligibility","React","SUIBusinessTheme","SUIText.react","getByPath"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={getCombinedErrorMessage:function k(l,m){if(!l.length)return null;var n=l.length>1?l.map(function(o){return i._("{bullet} {error message}",[i.param("bullet","\u2022"),i.param("error message",o.message)])}).join("\n"):l[0].message;return this.getImageErrorsTitle(l,m)+"\n\n"+n},getCombinedErrorMessageForImageExperiment:function k(l){if(!l.length)return null;var m=l.length>1?l.map(function(o){return i._("{bullet} {error message}",[i.param("bullet","\u2022"),i.param("error message",o.message)])}).join("\n"):l[0].message,n=void 0;switch(l[0].key){case 2016006:case 1772077:n=i._("{Recommend} Try using an image at least {minimum Instagram ad image width} x {minimum Instagram ad image height} pixels.",[i.param("Recommend",c("React").createElement(c("SUIText.react"),{theme:c("SUIBusinessTheme"),weight:"bold"},i._("Recommend:"))),i.param("minimum Instagram ad image width",c("AdImageSpecs").INSTAGRAM_STREAM_LANDSCAPE.minWarningWidth),i.param("minimum Instagram ad image height",c("AdImageSpecs").INSTAGRAM_STREAM_LANDSCAPE.minWarningHeight)])}return c("React").createElement(c("SUIText.react"),{theme:c("SUIBusinessTheme")},c("React").createElement(c("SUIText.react"),{display:"block",theme:c("SUIBusinessTheme")},m),n)},getImageErrorsTitle:function k(l,m,n){__p&&__p();if(!l.length)return null;if(c("InstagramImageResolutionExperiment").useHighResolution(n,m))return i._("Your Image's Resolution is Low");if(l.length>1)return i._("This image won't work on Instagram.");switch(l[0].key){case 1772077:case 2016005:return i._("This image is too small for Instagram.");case 1772073:return i._("This image's aspect ratio won't work on Instagram.");case 2016007:return i._("This cropped image is too small for Instagram ads.");case 2016006:return i._("This image won't work on Instagram.");case 1772069:return i._("Image required for Instagram ads.")}return null},getImageErrorsBody:function k(l){return l.map(function(m){return m.message})},getImageErrorSuggestionForImageExperiment:function k(l,m){if(!m.length)return null;var n=i._("Try a different image");if(l.changeImage)n=c("React").createElement(c("Link.react"),{onClick:l.changeImage},n);else if(l.changeImageLinkMaker)n=l.changeImageLinkMaker(n);return i._("{Try a different image} to get better performance.",[i.param("Try a different image",n)])},getImageErrorSuggestion:function k(l,m,n,o,p){__p&&__p();var q=l.cropLinkMaker,r=l.removeImage,s=l.removeInstagramPlacement,t=l.resetCrop,u=l.selectCustomizationImage;if(!m.length)return null;if(c("InstagramImageResolutionExperiment").useHighResolution(p,o))return this.getImageErrorSuggestionForImageExperiment(l,m);if(m.length>1)return this._getDefaultImageErrorSuggestions(n,r,s,u);var v=m[0].key;switch(v){case 1772077:return this._getDefaultImageErrorSuggestions(n,r,s,u);case 1772073:return q?this._getWrongImageRatioErrorSuggestions(n,s,q):this._getWrongImageRatioErrorSuggestionsNoCrop(n,s);case 2016007:return this._getSmallCroppedImageErrorSuggestions(n,s,t);case 2016005:return this._getMPAImageErrorSuggestion(n,r,s,u)}return null},getCarouselVideoErrorTitle:function k(l,m,n){if(n!==c("AdsError").Level.RECOMMEND)return i._("Instagram doesn't yet support video in carousel format");if(m)return i._("Instagram doesn't yet support video in carousel format. Your carousel ad will still run on Facebook.");else return i._("Instagram doesn't yet support video in carousel format. Your carousel ads will still run on Facebook.")},getNonLinkCarouselVideoErrorSuggestions:function k(l,m,n,o){var p=void 0;if(n)if(m)p=i._("{=remove Instagram as a placement} for this ad.",[i.param("=remove Instagram as a placement",c("React").createElement(c("Link.react"),{onClick:n},i._("Remove Instagram as a placement")))]);else p=i._("{=remove Instagram as a placement} for these ads.",[i.param("=remove Instagram as a placement",c("React").createElement(c("Link.react"),{onClick:n},i._("Remove Instagram as a placement")))]);else p=i._("Use an image in your carousel instead.");return p},getCarouselVideoErrorSuggestions:function k(l,m,n,o){var p=void 0;if(n)if(m)p=i._("{=remove Instagram as a placement} for this ad, or use an image in your carousel instead.",[i.param("=remove Instagram as a placement",c("React").createElement(c("Link.react"),{onClick:n},i._("Remove Instagram as a placement")))]);else p=i._("{=remove Instagram as a placement} for these ads, or use an image in your carousel instead.",[i.param("=remove Instagram as a placement",c("React").createElement(c("Link.react"),{onClick:n},i._("Remove Instagram as a placement")))]);else p=i._("Use an image in your carousel instead.");return p},getCarouselErrorTitle:function k(l,m,n){return i._("Some media is missing or can't be used for Instagram ads")},getCarouselErrorSuggestions:function k(l,m,n){if(n===c("AdsError").Level.RECOMMEND)return i._("Choose another media if you want to reach people on both Instagram and Facebook.");if(m)return i._("Choose other media for this ad.");else return i._("Choose other media for these ads.")},_getDefaultImageErrorSuggestions:function k(l,m,n,o){if(l&&n)return i._("{=Remove image} or {=remove Instagram as a placement} for this ad set.",[i.param("=Remove image",o?this._getSelectCustomizationImageLink(o):this._getRemoveImageLink(m)),i.param("=remove Instagram as a placement",this._getRemoveInstagramPlacementLink(n))]);return i._("{=Remove image} for this ad set.",[i.param("=Remove image",o?this._getSelectCustomizationImageLink(o):this._getRemoveImageLink(m))])},_getWrongImageRatioErrorSuggestions:function k(l,m,n){if(l)return i._("{=Crop the image to a square} or {=remove Instagram as a placement} for this ad set.",[i.param("=Crop the image to a square",this._getCropImageToSquareLink(n)),i.param("=remove Instagram as a placement",this._getRemoveInstagramPlacementLink(m))]);return i._("{=Crop the image to a square} for this ad set.",[i.param("=Crop the image to a square",this._getCropImageToSquareLink(n))])},_getWrongImageRatioErrorSuggestionsNoCrop:function k(l,m){if(l)return i._("Choose another image or {=remove Instagram as a placement} for this ad set.",[i.param("=remove Instagram as a placement",this._getRemoveInstagramPlacementLink(m))]);return i._("Choose another image for this ad.")},_getSmallCroppedImageErrorSuggestions:function k(l,m,n){if(l)return i._("{=Use the original image} or {=remove Instagram as a placement} for this ad set.",[i.param("=Use the original image",this._getResetCropLink(n)),i.param("=remove Instagram as a placement",this._getRemoveInstagramPlacementLink(m))]);return i._("{=Use the original image} for this ad set.",[i.param("=Use the original image",this._getResetCropLink(n))])},_getMPAImageErrorSuggestion:function k(l,m,n,o){return this._getDefaultImageErrorSuggestions(l,m,n,o)},_getRemoveInstagramPlacementLink:function k(l){return c("React").createElement(c("Link.react"),{onClick:l},i._("remove Instagram as a placement"))},_getRemoveImageLink:function k(l){return c("React").createElement(c("Link.react"),{onClick:l},i._("Remove image"))},_getSelectCustomizationImageLink:function k(l){return c("React").createElement(c("Link.react"),{onClick:l},i._("Select a different image"))},_getCropImageToSquareLink:function k(l){var m=i._("Crop the image to a square");return l(m)},_getResetCropLink:function k(l){return c("React").createElement(c("Link.react"),{onClick:l},i._("Use the original image"))},getWrongVideoDimensionErrorMessage:function k(l,m){return i._("Videos must be at least {minimum Instagram ad video width} x {minimum Instagram ad video height} pixels.",[i.param("minimum Instagram ad video width",l?l:c("AdsInstagramMediaSpecs").MIN_MEDIA_WIDTH),i.param("minimum Instagram ad video height",m?m:c("AdsInstagramMediaSpecs").MIN_STREAM_MEDIA_HEIGHT)])},getWrongVideoRatioErrorMessage:function k(l,m){if(m&&l&&m===l)return i._("Aspect ratios of videos need to be {Instagram ad video aspect ratio}:1.",[i.param("Instagram ad video aspect ratio",l)]);return i._("Aspect ratios of videos need to be between {maximum Instagram ad video aspect ratio}:1 and {minimum Instagram ad video aspect ratio}:1.",[i.param("maximum Instagram ad video aspect ratio",l?l:c("AdImageSpecs").INSTAGRAM_STREAM_NO_CROP.maxWarningAspectRatio),i.param("minimum Instagram ad video aspect ratio",m?m:c("AdImageSpecs").INSTAGRAM_STREAM_NO_CROP.minWarningAspectRatio)])},getWrongVideoLengthErrorMessage:function k(){return i._("Videos can't be longer than {maximum Instagram ad video duration} seconds.",[i.param("maximum Instagram ad video duration",c("AdsInstagramMediaSpecs").MAX_STREAM_VIDEO_DURATION_IN_SEC)])},getWrongVideoThumbnailRatioErrorMessage:function k(){return i._("The image must have the same aspect ratio as the video for Instagram.")},getWrongVideoThumbnailDimensionErrorMessage:function k(){return i._("Your thumbnail must be at least {minimum Instagram ad video width} x {miniumum Instagram ad video height} pixels for Instagram.",[i.param("minimum Instagram ad video width",c("AdsInstagramMediaSpecs").MIN_MEDIA_WIDTH),i.param("miniumum Instagram ad video height",c("AdsInstagramMediaSpecs").MIN_STREAM_MEDIA_HEIGHT)])},isInstagramSpecificError:function k(l){return l.key===2016004||l.key===2016005||l.key===2016007||l.key===2016006||l.key===1772077||l.key===1772073},getInstagramAccountErrorSpec:function k(l){return c("getByPath")(l,c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.INSTAGRAM_ACTOR_ID)||c("getByPath")(l,c("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_ACTOR_ID)},getIneligibilityReason:function k(l){__p&&__p();switch(l){case c("PostInstagramEligibility").INELIGIBLE_CAPTION_TOO_LONG:var m=i._("This caption is too long. Instagram has a limit of {maximum caption length} characters.",[i.param("maximum caption length",c("AdsValidationConfig").instagramAdsMaxCaptionLength)]);return m;case c("PostInstagramEligibility").INELIGIBLE_MEDIA_SQUARE_DIMENSION:m=i._("Media needs to be at least {minimum width} pixels in width and height for carousel ads on Instagram.",[i.param("minimum width",c("AdsInstagramMediaSpecs").MIN_MEDIA_WIDTH)]);return m;case c("PostInstagramEligibility").INELIGIBLE_MEDIA_ASPECT_RATIO:m=i._("Media aspect ratios need to be between {minimum Instagram ad video aspect ratio}:1 and {maximum Instagram ad video aspect ratio}:1 on Instagram.",[i.param("minimum Instagram ad video aspect ratio",c("AdImageSpecs").INSTAGRAM_STREAM_NO_CROP.minWarningAspectRatio),i.param("maximum Instagram ad video aspect ratio",c("AdImageSpecs").INSTAGRAM_STREAM_NO_CROP.maxWarningAspectRatio)]);return m;case c("PostInstagramEligibility").INELIGIBLE_MEDIA_DIMENSION:m=i._("Media needs to be at least {minimum width} pixels wide and {minimum height} pixels high on Instagram.",[i.param("minimum width",c("AdsInstagramMediaSpecs").MIN_MEDIA_WIDTH),i.param("minimum height",c("AdsInstagramMediaSpecs").MIN_STREAM_MEDIA_HEIGHT)]);return m;case c("PostInstagramEligibility").INELIGIBLE_VIDEO_LENGTH:return i._("Videos can't be longer than {maximum video length} seconds on Instagram.",[i.param("maximum video length",c("AdsInstagramMediaSpecs").MAX_STREAM_VIDEO_DURATION_IN_SEC)]);case c("PostInstagramEligibility").INELIGIBLE_POST_ALBUM_UPLOAD:m=i._("Post contains a photo album with multiple photos. Posts can only contain one photo or video on Instagram.");return m;case c("PostInstagramEligibility").INELIGIBLE_POST_MULTI_PHOTO:m=i._("Post uses multiple photos. Posts can only use one photo or video on Instagram.");return m;case c("PostInstagramEligibility").INELIGIBLE_POST_NO_MEDIA:m=i._("Post uses only text. Post must contain an image or video on Instagram.");return m;default:m=i._("This post can't be used for ads on Instagram.");return m}},getErrorsForSinglePost:function k(l){__p&&__p();var m=[];if(!l[c("AdsAPIPromotablePostFields").IS_INSTAGRAM_ELIGIBLE]){var n=j.getIneligibilityReason(l[c("AdsAPIPromotablePostFields").INSTAGRAM_ELIGIBILITY]).toString();m.push(new(c("AdsError"))(1815390,n,{level:c("AdsError").Level.WARN}))}else if(l[c("AdsAPIPromotablePostFields").SPONSOR_TAGS]){var o=i._("This is a branded content post, and the sponsor tag will be stripped on Instagram ad.").toString();m.push(new(c("AdsError"))(1815390,o,{level:c("AdsError").Level.WARN}))}return m},getErrorsForAllPosts:function k(l,m,n,o){__p&&__p();var p=new(c("Map"))();if(l)l.forEach(function(q){p.set(q[c("AdsAPIPromotablePostFields").PROMOTABLE_ID],this.getErrorsForSinglePost(q))}.bind(this));p.forEach(function(q,r){if((m||[]).includes(c("AdsBuyingTypes").RESERVED))return;if(n)p.set(r,q);else p.set(r,c("AdsErrorUtils").giveRecommendationsForSoftErrorsV2(q,o))});return p},getAllLeadGenFormErrors:function k(l){return l.filter(function(m){return c("AdsInstagramFields").INSTAGRAM_LEAD_FORM_ERROR_KEYS.has(m.key)})}};f.exports=j}),null);
__d("AdsMediaPanelImageBox.react",["cssVar","cx","errorCode","fbt","AdsBuyingTypes","AdsError","AdsErrorUtils","AdsImageLegacy","AdsImageValidation","AdsInstagramErrorUtils","AdsInstagramFields","AdsPageTypes","AdsStockImageSourceUtils","AdsTestIDs","AdsValidationIcon.react","AdsValidationIconType","BackgroundImage.react","ContextualDialog.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","GradientBox.react","InstagramImageResolutionExperiment","Link.react","LoadObject","React","ReactDOM","ReactLayeredComponentMixin_DEPRECATED","SphericalMediaGyroIcon.react","SUIBusinessTheme","SUISpinner.react","debounce","getElementPosition","getViewportDimensions","joinClasses"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l=c("AdsStockImageSourceUtils").MAX_STOCK_IMAGE_WIDTH,m=c("AdsStockImageSourceUtils").MAX_STOCK_IMAGE_HEIGHT,n=c("React").PropTypes,o=parseInt("110px",10),p=parseInt("58px",10),q=p,r=p,s=20,t=c("AdsInstagramFields").INSTAGRAM_SPECIFIC_IMAGE_ERROR_KEYS,u={"default":null,disabled:null,selected:"_5ywk",removable:"_5ywl"},v=c("React").createClass({displayName:"AdsMediaPanelImageBox",mixins:[c("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{alt:n.string,buyingTypes:n.arrayOf(n.oneOf(Object.keys(c("AdsBuyingTypes")))),decoration:n.oneOf(Object.keys(u)),disableDimensionInfo:n.bool,image:n.instanceOf(c("AdsImageLegacy")).isRequired,imageResolutionQE:n.instanceOf(c("LoadObject")),imageSpec:n.object,isTooSmall:n.bool,igSpecificImageSpec:n.object,scaleImageFactor:n.number,useMediaPanelRedesign:n.bool,onDecorationIconClick:n.func,onImageClick:n.func,onImageDoubleClick:n.func},getDefaultProps:function w(){return{decoration:"default",isTooSmall:false}},getInitialState:function w(){return{errorLevel:c("AdsError").Level.SUCCESS,imageReady:this.props.image.hasDimensions(),previewShown:false,hovering:false,isValidForFacebook:true}},_isDisabled:function w(){return this.props.decoration==="disabled"},_mayClickImages:function w(){if(this._isDisabled())return false;if(!this.props.isTooSmall||this.state.errorLevel!==c("AdsError").Level.WARN)return true;return this.state.isValidForFacebook},_getOnImageClick:function w(){return this._mayClickImages()?this.props.onImageClick:null},_getOnImageDoubleClick:function w(){return this._mayClickImages()?this.props.onImageDoubleClick:null},_mayShowPreviews:function w(){return!this._isDisabled()&&this.props.image.isStockImage()},_getOnImageMouseEnter:function w(){return this._mayShowPreviews()?this._showPreview:null},_getOnImageMouseLeave:function w(){return this._mayShowPreviews()?this._hidePreview:null},_showPreview:function w(){this._resetSchedulePreviewHide();this.setState({previewShown:true})},_hidePreview:function w(){this._resetSchedulePreviewHide();this.setState({previewShown:false})},_onImageDimensionsReady:function w(){if(this.isMounted())this.setState({imageReady:true})},componentWillReceiveProps:function w(x){if(x.image.equals(this.props.image))return;var y=x.image.hasDimensions();this.setState({imageReady:y});if(!y)x.image.setDimensionsReadyCallback(this._onImageDimensionsReady)},componentWillMount:function w(){this._setSchedulePreviewHide(c("debounce")(this._hidePreview,s));if(!this.state.imageReady)this.props.image.setDimensionsReadyCallback(this._onImageDimensionsReady);if(this.props.imageSpec)this.props.image.resetValidation(this.props.imageSpec.placement);if(this.props.igSpecificImageSpec)this.props.image.resetValidation(this.props.igSpecificImageSpec.placement)},componentWillUnmount:function w(){this._resetSchedulePreviewHide();this._setSchedulePreviewHide(null)},_setSchedulePreviewHide:function w(x){var y=this;y._schedulePreviewHide=x},_resetSchedulePreviewHide:function w(){var x=this;x._schedulePreviewHide.reset()},_renderDecorationIcon:function w(){var x=this.props.onDecorationIconClick;return c("React").createElement(c("Link.react"),{className:"_40hk",tabIndex:x?null:-1,onClick:x,onMouseEnter:this._getOnImageMouseEnter(),onMouseLeave:this._getOnImageMouseLeave()},c("React").createElement("div",{className:"_5ywm"}))},_renderOverlay:function w(){if(!this._isDisabled())return null;return c("React").createElement("div",{className:"_29wz"})},_renderImage:function w(){__p&&__p();var x=this.props.image,y=this._calculateImageDimensions(),z=x.calculatedWidth,A=x.calculatedHeight,B=x.renderedWidth,C=x.renderedHeight,D=null,E=null,F=null;if(this.props.isTooSmall){D=this._renderErrorIcon();E=this._renderDimensionInfo();F=this._renderOverlayGradient()}else if(this.state.hovering){E=this._renderDimensionInfo();F=this._renderOverlayGradient()}var G=x.getThumbnailUrl()||x.getUrl(),H=C||A||y.height,I=B||z||y.width;if(this.props.useMediaPanelRedesign)G=x.getHighResThumbnailUrl()||G;if(this.props.scaleImageFactor&&this.props.useMediaPanelRedesign){H*=this.props.scaleImageFactor;I*=this.props.scaleImageFactor}var J=null;if(x.getIsSphericalPhoto())J=this._renderSphericalGyroIcon();return c("React").createElement(c("FBOverlayContainer.react"),{className:"_29w-"},c("React").createElement(c("FBOverlayBase.react"),null,c("React").createElement("div",{className:!x.isStockImage()?"_5ywo":""},c("React").createElement(c("BackgroundImage.react"),{alt:this.props.alt,backgroundPosition:"0px",backgroundSize:"cover",height:H,loadingIndicatorStyle:"small",optimizeResizeSpeed:true,ref:"image",src:G,style:this._getImageStyle(),width:I}))),F,c("React").createElement(c("FBOverlayElement.react"),{vertical:"bottom"},c("React").createElement("div",{className:"_20-u"},E,D,J)))},_renderOverlayGradient:function w(){if(this.props.disableDimensionInfo)return null;return c("React").createElement(c("FBOverlayElement.react"),{vertical:"bottom"},c("React").createElement(c("GradientBox.react"),{className:"_2_4q",color:"black",direction:"up"}))},_renderDimensionInfo:function w(){if(this.props.disableDimensionInfo)return null;var x=this.props.image.isStockImage()?this._calculateFullSizeStockImageDimensions():this._getImageDimensions();return k._("{width} \u00d7 {height}",[k.param("width",x.width),k.param("height",x.height)])},_renderErrorIcon:function w(){__p&&__p();var x=[];if(this.props.imageSpec)x.push(this.props.imageSpec);if(this.props.igSpecificImageSpec)x.push(this.props.igSpecificImageSpec);var y=c("AdsImageValidation").getAdsErrorsForImage(this.props.image,x,this.props.buyingTypes,this.props.imageResolutionQE&&this.props.imageResolutionQE.getValue());if(!y||y.length===0)return null;var z=this.props.imageSpec&&this.props.imageSpec.placement!==c("AdsPageTypes").INSTAGRAM_STREAM&&this.props.imageSpec.placement!==c("AdsPageTypes").INSTAGRAM_STORY&&y.every(function(B){return B.key!==1487015});if(z!==this.state.isValidForFacebook)this.setState({isValidForFacebook:z});var A=c("AdsErrorUtils").getLevelForErrors(y);if(A!==this.state.errorLevel)this.setState({errorLevel:A});y=c("AdsErrorUtils").getAllErrorsAtLevel(y,A);return c("React").createElement(c("AdsValidationIcon.react"),{className:"_20-v",isError:A===c("AdsError").Level.WARN,messages:this._getErrorMessages(y,A),type:A===c("AdsError").Level.WARN?c("AdsValidationIconType").ERROR_IMAGE:c("AdsValidationIconType").WARNING})},_getErrorMessages:function w(x,y){__p&&__p();var z=x.filter(function(C){return!t.has(C.key)}).map(function(C){return C.message}),A=x.filter(function(C){return t.has(C.key)}),B=void 0;if(A.length>0)if(c("InstagramImageResolutionExperiment").useHighResolution(this.props.imageResolutionQE&&this.props.imageResolutionQE.getValue(),y,this.props.buyingTypes))B=c("AdsInstagramErrorUtils").getCombinedErrorMessageForImageExperiment(A);else B=c("AdsInstagramErrorUtils").getCombinedErrorMessage(x.filter(function(C){return t.has(C.key)}),y);B&&z.push(B);return z},_renderSphericalGyroIcon:function w(){return c("React").createElement(c("SphericalMediaGyroIcon.react"),{className:"_4d75"})},render:function w(){if(this.props.imageResolutionQE&&this.props.imageResolutionQE.isLoading())return c("React").createElement(c("SUISpinner.react"),{size:"small",theme:c("SUIBusinessTheme")});var x="_5ywp"+(this.props.useMediaPanelRedesign?" _40hl":"");return c("React").createElement("div",{className:x},c("React").createElement("div",{className:c("joinClasses")("_1997",u[this.props.decoration],this.props.className),onMouseEnter:function(){return this.setState({hovering:true})}.bind(this),onMouseLeave:function(){return this.setState({hovering:false})}.bind(this)},c("React").createElement(c("Link.react"),{className:"_5ywq","data-test-decoration":this.props.decoration,"data-testid":c("AdsTestIDs").IMAGE_BOX,tabIndex:this.props.onImageClick?null:-1,onClick:this._getOnImageClick(),onDoubleClick:this._getOnImageDoubleClick(),onMouseEnter:this._getOnImageMouseEnter(),onMouseLeave:this._getOnImageMouseLeave()},this._renderImage()),this._renderOverlay(),this._renderDecorationIcon()))},renderLayers:function w(){var x=this.props.image,y=this._mayShowPreviews()&&this.state.previewShown,z=x.getPreviewWidth(),A=x.getPreviewHeight(),B=null;if(!y)return{};var C={height:String(A)+"px",width:String(z)+"px"},D=c("getElementPosition")(c("ReactDOM").findDOMNode(this)),E=c("getViewportDimensions")(),F=D.x,G=E.width-D.x-D.width;B=F>G?"left":"right";return{preview:c("React").createElement(c("ContextualDialog.react"),{autoFocus:false,contextRef:function(){return this.refs.image}.bind(this),position:B,shown:true,style:C},c("React").createElement(c("BackgroundImage.react"),{backgroudSize:"cover",backgroundPosition:"0px",height:A,loadingIndicatorStyle:"large",optimizeResizeSpeed:true,src:x.getPreviewUrl(),width:z}))}},_getSizeMultiplier:function w(x,y,z){return Math.min(y/x.width,z/x.height)},_getStockImageSizeMultiplier:function w(){return this._getSizeMultiplier(this._getStockImageVisibleDimensions(),o,p)},_fitDimensions:function w(x,y,z){var A=this._getSizeMultiplier(x,y,z);return{height:Math.floor(x.height*A),width:Math.floor(x.width*A)}},_getImageStyle:function w(){var x=this.props.image;if(!x.isStockImage()||!this.state.imageReady)return null;var y=this._getStockImageVisibleDimensions(),z=this._getImageDimensions(),A={height:z.height-y.height,width:z.width-y.width},B=this._getStockImageSizeMultiplier(),C={};if(A.height>0)C.marginBottom=String(Math.ceil(A.height*-B))+"px";if(A.width>0)C.marginRight=String(Math.ceil(A.width*-B))+"px";return C},_getImageDimensions:function w(){return{height:this.props.image.height,width:this.props.image.width}},_getNonStockImageDimensions:function w(){return{height:this.props.image.getThumbnailHeight()||this.props.image.height,width:this.props.image.getThumbnailWidth()||this.props.image.width}},_getStockImageVisibleDimensions:function w(){return{height:this.props.image.getThumbnailHeight(),width:this.props.image.getThumbnailWidth()}},_calculateImageDimensions:function w(){return this.props.image.isStockImage()?this._calculateStockImageDimensions():this._calculateNonStockImageDimensions()},_calculateNonStockImageDimensions:function w(){if(!this.state.imageReady)return{height:r,width:q};return this._fitDimensions(this._getNonStockImageDimensions(),o,p)},_calculateStockImageDimensions:function w(){if(!this.state.imageReady)return this._fitDimensions(this._getStockImageVisibleDimensions(),o,p);var x=this._getImageDimensions(),y=this._getStockImageSizeMultiplier();return{height:Math.floor(x.height*y),width:Math.floor(x.width*y)}},_calculateFullSizeStockImageDimensions:function w(){var x=this.props.image;if(x.hasFullSizeDimensions())return{height:x.getFullSizeHeight(),width:x.getFullSizeWidth()};var y=x.getPreviewWidth(),z=x.getPreviewHeight(),A=Math.min(l/y,m/z);return{height:Math.round(z*A),width:Math.round(y*A)}}});f.exports=v}),null);
__d("AdsMediaPanelImageBoxContainer.react",["AdsFluxContainer","AdsMediaPanelImageBox.react","AdsQEStore","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.getStores=function(){return[c("AdsQEStore")]};k.calculateState=function(){var l=c("AdsQEStore").getForCurrentUser("ads_increase_fb_image_resolution");return{imageResolutionQE:l}};k.prototype.render=function(){return c("React").createElement(c("AdsMediaPanelImageBox.react"),babelHelpers["extends"]({},this.props,{imageResolutionQE:this.state.imageResolutionQE}))};function k(){h.apply(this,arguments)}f.exports=c("AdsFluxContainer").create(k,{withProps:true,name:f.id})}),null);
__d("AdsMediaStandaloneLibraryImageWithDimensions.react",["cx","fbt","AdsImageLegacy","AdsValidationIcon.react","AdsValidationIconType","BackgroundImage.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","React","ShimButton.react","SphericalMediaGyroIcon.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m={height:600,width:200},n={height:400,width:400},o=function o(q){if(!q.image.getIsSphericalPhoto())return null;return c("React").createElement(c("SphericalMediaGyroIcon.react"),{className:"_62-d"})};j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;function p(){__p&&__p();var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.state={thumbnailLoaded:false},this.$AdsMediaStandaloneLibraryImageWithDimensions3=function(v){var w=v.getWidth(),x=v.getHeight();return c("React").createElement("div",{className:"_1byh"},c("React").createElement(c("ShimButton.react"),{className:"_1byi",inline:true,onClick:this.$AdsMediaStandaloneLibraryImageWithDimensions4},c("React").createElement(c("AdsValidationIcon.react"),{className:"_1byj",type:c("AdsValidationIconType").LARGE_IMAGE}),c("React").createElement("span",{className:"_1byk"},i._("{width} \u00d7 {height}",[i.param("width",w),i.param("height",x)]))))}.bind(this),this.$AdsMediaStandaloneLibraryImageWithDimensions2=function(){this.setState({thumbnailLoaded:true})}.bind(this),this.$AdsMediaStandaloneLibraryImageWithDimensions4=function(v){v.stopPropagation();this.props.onExpandClick(this.props.image)}.bind(this),this.$AdsMediaStandaloneLibraryImageWithDimensions1=function(){if(!this.props.imageReady)return n;return this.$AdsMediaStandaloneLibraryImageWithDimensions5(this.$AdsMediaStandaloneLibraryImageWithDimensions6(),m)}.bind(this),this.$AdsMediaStandaloneLibraryImageWithDimensions6=function(){return{height:this.props.image.getThumbnailHeight()||this.props.image.height,width:this.props.image.getThumbnailWidth()||this.props.image.width}}.bind(this),this.$AdsMediaStandaloneLibraryImageWithDimensions5=function(v,w){var x=this.$AdsMediaStandaloneLibraryImageWithDimensions7(v,w);return{height:Math.floor(v.height*x),width:Math.floor(v.width*x)}}.bind(this),this.$AdsMediaStandaloneLibraryImageWithDimensions7=function(v,w){return Math.min(w.width/v.width,w.height/v.height,1)},r}p.prototype.render=function(){var q=this.props.image,r=this.$AdsMediaStandaloneLibraryImageWithDimensions1(),s=q.calculatedWidth,t=q.calculatedHeight,u=this.state.thumbnailLoaded?q.getUrl():q.getThumbnailUrl();return c("React").createElement(c("FBOverlayContainer.react"),{className:"_1bye"},c("React").createElement(c("FBOverlayBase.react"),null,c("React").createElement("div",null,c("React").createElement(c("BackgroundImage.react"),{alt:this.props.alt,backgroundPosition:0,backgroundSize:"cover",className:"_2vjn",height:t||r.height,loadingIndicatorStyle:"small",optimizeResizeSpeed:true,src:u,width:s||r.width,onImageLoad:this.$AdsMediaStandaloneLibraryImageWithDimensions2}))),c("React").createElement(c("FBOverlayElement.react"),{vertical:"bottom"},this.$AdsMediaStandaloneLibraryImageWithDimensions3(q)),c("React").createElement(c("FBOverlayElement.react"),null,c("React").createElement(o,{image:q})))};p.propTypes={alt:l.string,image:l.instanceOf(c("AdsImageLegacy")).isRequired,imageReady:l.bool};f.exports=p}),null);
__d("Tag.brands",["cx","fbt","BUIAdoptionCloseButton.react","React","SUISpinner.react","AssetLibraryAppConstants.brands","curry","emptyFunction","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("AssetLibraryAppConstants.brands").SEARCH_RESULT_TYPES,k=function k(m){var n=m.className,o=m.tag,p=m.onRemove;return c("React").createElement("div",{className:c("joinClasses")("_4r1y",n)},c("React").createElement("div",{className:"_4r1-"},c("React").createElement("span",{className:"_4r1_"},o.name),c("React").createElement(c("BUIAdoptionCloseButton.react"),{className_DEPRECATED:"_3-8_"+(!p?" hidden_elem":""),label:i._("Remove"),onClick:p?c("curry")(p,o):c("emptyFunction"),size:"small"})))},l=function l(m){var n=m.entry,o=m.onRemove,p=babelHelpers.objectWithoutProperties(m,["entry","onRemove"]),q=function q(r){o(n)};if(n.getType()===j.CREATE)return c("React").createElement(c("SUISpinner.react"),{className:"_1foc",size:"small"});return c("React").createElement(k,babelHelpers["extends"]({tag:{id:n.getUniqueID(),name:n.getTitle()},onRemove:q},p))};k.FromSearchableEntry=l;f.exports=k}),null);
__d("AssetLibraryImageTags.brands",["cx","fbt","LayerHideOnBlur","Link.react","React","ContextualDialog.react","Tag.brands"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=5;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n)}m.prototype.render=function(){__p&&__p();var n=this.props.tagData||[];if(n.length>0){var o=n.slice(0,l),p=this.$AssetLibraryImageTags1(o),q=null;if(n.length>l){var r=n.slice(l),s=this.$AssetLibraryImageTags1(r),t=n.length-l;q=c("React").createElement("span",null,c("React").createElement(c("Link.react"),{ref:"showMoreLink"},i._({"*":"and {count} others"},[i.param("count",t,[0])])),c("React").createElement(c("ContextualDialog.react"),{behaviors:{LayerHideOnBlur:c("LayerHideOnBlur")},contextRef:function(){return this.refs.showMoreLink}.bind(this),hoverContextRef:function(){return this.refs.showMoreLink}.bind(this),position:"right"},c("React").createElement("div",{className:"_2rxe"},s)))}return c("React").createElement("div",{className:"_2rxf"},p,q)}return null};m.prototype.$AssetLibraryImageTags1=function(n){return n.map(function(o){return c("React").createElement(c("Tag.brands"),{className:"mrs mbs",key:o.id,tag:o})})};f.exports=m}),null);
__d("AdsMediaStandaloneLibraryMetadataImage.react",["cx","fbt","AdsImageLegacy","AdsMediaStandaloneLibraryImageWithDimensions.react","AssetLibraryImageTags.brands","Link.react","React","URI"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m,n=c("React").PropTypes;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.$AdsMediaStandaloneLibraryMetadataImage1=function(){return this.props.image.business_object_tags&&this.props.image.business_object_tags.data||[]}.bind(this),r}o.prototype.render=function(){var q=this.props.image,r=new(c("URI"))(q.getUrl()).addQueryData({dl:1}),s=null,t=this.$AdsMediaStandaloneLibraryMetadataImage1();if(t.length>0)s=c("React").createElement(p,{propertyKey:i._("Labels:"),propertyValue:c("React").createElement(c("AssetLibraryImageTags.brands"),{tagData:this.$AdsMediaStandaloneLibraryMetadataImage1()})});return c("React").createElement("div",{className:"_35qj"},c("React").createElement("div",{className:"_35qk"},c("React").createElement(c("AdsMediaStandaloneLibraryImageWithDimensions.react"),{image:q,imageReady:this.props.imageReady,onExpandClick:this.props.onExpandClick})),c("React").createElement("div",{className:"_35ql"},c("React").createElement(p,{propertyKey:i._("Name:"),propertyValue:q.name}),c("React").createElement(p,{propertyKey:i._("Hash:"),propertyValue:c("React").createElement(c("Link.react"),{href:r},q.getAdAccountHash())}),s))};o.propTypes={alt:n.string,image:n.instanceOf(c("AdsImageLegacy")).isRequired,imageReady:n.bool.isRequired,onExpandClick:n.func.isRequired};l=babelHelpers.inherits(p,c("React").Component);m=l&&l.prototype;p.prototype.render=function(){return c("React").createElement("div",{className:"_35qo"},c("React").createElement("div",{className:"_35qp"},this.props.propertyKey)," ",c("React").createElement("div",{className:"_35qq"},this.props.propertyValue))};function p(){l.apply(this,arguments)}p.propTypes={propertyKey:n.node.isRequired,propertyValue:n.node.isRequired};f.exports=o}),null);
__d("AdsMediaStandaloneLibrarySelectableImage.react",["cx","AdsImageLegacy","AdsMediaStandaloneLibraryImageWithDimensions.react","Link.react","React","emptyFunction","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l={"default":null,disabled:null,selected:"_1byd"};i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$AdsMediaStandaloneLibrarySelectableImage1=function(){return c("React").createElement(c("Link.react"),{className:"_1byl"})},o}m.prototype.render=function(){return c("React").createElement("div",{className:"_1bym"},c("React").createElement("div",{className:c("joinClasses")(l[this.props.decoration],this.props.className)},c("React").createElement(c("Link.react"),{className:"_1byn",tabIndex:this.props.onImageClick?null:-1,onClick:this.props.onImageClick},c("React").createElement(c("AdsMediaStandaloneLibraryImageWithDimensions.react"),{image:this.props.image,imageReady:this.props.imageReady,onExpandClick:this.props.onExpandClick,onImageClick:this.props.onImageClick})),this.$AdsMediaStandaloneLibrarySelectableImage1()))};m.propTypes={alt:k.string,decoration:k.oneOf(Object.keys(l)).isRequired,image:k.instanceOf(c("AdsImageLegacy")).isRequired,imageReady:k.bool,onExpandClick:k.func.isRequired,onImageClick:k.func.isRequired};m.defaultProps={decoration:"default",onExpandClick:c("emptyFunction"),onImageClick:c("emptyFunction")};f.exports=m}),null);
__d("AdsMediaStandaloneLibraryImage.react",["cx","AdsImageLegacy","AdsMediaStandaloneLibraryMetadataImage.react","AdsMediaStandaloneLibrarySelectableImage.react","React","emptyFunction"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={imageReady:this.props.image.hasDimensions()},this.$AdsMediaStandaloneLibraryImage1=function(){this.setState({imageReady:true})}.bind(this),this.$AdsMediaStandaloneLibraryImage2=function(){return c("React").createElement(c("AdsMediaStandaloneLibraryMetadataImage.react"),{alt:this.props.alt,image:this.props.image,imageReady:this.state.imageReady,onExpandClick:this.props.onExpandClick})}.bind(this),this.$AdsMediaStandaloneLibraryImage3=function(){return c("React").createElement(c("AdsMediaStandaloneLibrarySelectableImage.react"),{alt:this.props.alt,decoration:this.props.decoration,image:this.props.image,imageReady:this.state.imageReady,onExpandClick:this.props.onExpandClick,onImageClick:this.props.onImageClick})}.bind(this),n}l.prototype.componentWillReceiveProps=function(m){if(m.image.equals(this.props.image))return;var n=m.image.hasDimensions();this.setState({imageReady:n});if(!n)m.image.setDimensionsReadyCallback(this.$AdsMediaStandaloneLibraryImage1)};l.prototype.componentWillMount=function(){if(!this.state.imageReady)this.props.image.setDimensionsReadyCallback(this.$AdsMediaStandaloneLibraryImage1)};l.prototype.render=function(){return c("React").createElement("div",{className:"_3tlt"},this.props.showImageMetadata?this.$AdsMediaStandaloneLibraryImage2():this.$AdsMediaStandaloneLibraryImage3())};l.propTypes={alt:k.string,decoration:k.string.isRequired,image:k.instanceOf(c("AdsImageLegacy")).isRequired,onExpandClick:k.func.isRequired,onImageClick:k.func.isRequired,showImageMetadata:k.bool};l.defaultProps={decoration:"default",onExpandClick:c("emptyFunction"),onImageClick:c("emptyFunction"),showImageMetadata:false};f.exports=l}),null);
__d("DimensionTracker",[],(function a(b,c,d,e,f,g){__p&&__p();function h(){"use strict";this.$DimensionTracker1=[];this.$DimensionTracker2=0}h.prototype.setValue=function(i,j){"use strict";this.$DimensionTracker2++;this.$DimensionTracker1.push({index:i,value:j})};h.prototype.getChangesSince=function(i){"use strict";var j=this.$DimensionTracker1.slice(i,this.$DimensionTracker2);return{changes:j,pointer:this.$DimensionTracker2}};f.exports=h}),null);
__d("ImageRowItem.react",["React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){var l=this.props.imageRowItems[this.props.rowIndex];if(l){var m=this.props.renderImage,n=l.map(m);return c("React").createElement("div",{key:"ImageRowItem"+l[0].getAdAccountHash()},n)}else return c("React").createElement("div",{key:"ImageRowItemFooter"},this.props.footerRow)};function k(){h.apply(this,arguments)}k.propTypes={footerRow:j.node,imageRowItems:j.array,renderImage:j.func,rowIndex:j.number};f.exports=k}),null);
__d("MediaLibraryPlacement",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirrorRecursive")({ADS_MEDIA_LIBRARY:"",BIZ_MEDIA_LIBRARY:""});f.exports=h}),null);
__d("PhotoArrange",["Map","sha256"],(function a(b,c,d,e,f,g){__p&&__p();var h=.5,i=.5,j={height:-1,isOptimal:false,isValid:false};function k(){"use strict";this.$PhotoArrange1=new(c("Map"))();this.$PhotoArrange2=new(c("Map"))()}k.prototype.solve=function(m,n){"use strict";__p&&__p();var o=n.map(function(s){return s.height/s.width}),p=this.$PhotoArrange3(m,n);if(this.$PhotoArrange1.has(p))return this.$PhotoArrange1.get(p);var q;try{q=this.$PhotoArrange4(m,n,o)}catch(r){q=this.$PhotoArrange5(m,n,o)}this.$PhotoArrange1.set(p,q);return q};k.prototype.$PhotoArrange3=function(m,n){"use strict";var o=[String(m.containerWidth),String(m.marginPerImage),String(m.maxImageHeight),String(m.minImageHeight),String(m.minImageWidth)].concat(n.map(function(p){return[String(p.width),String(p.height)].join(",")})).join(",");return c("sha256")(o)};k.prototype.$PhotoArrange5=function(m,n,o){"use strict";var p=(m.maxImageHeight+m.minImageHeight)/2;return n.map(function(q,r){var s=p/o[r];return{height:p,width:s}})};k.prototype.$PhotoArrange4=function(m,n,o){"use strict";__p&&__p();if(!n.length)return[];var p=j,q=0,r=j,s=0,t=n.length,u=m.maxImageHeight,v=m.minImageWidth,w=m.containerWidth,x=u/o[0],y=0;while(y<t-1){var z=Math.max(v,u/o[y+1]);if(x+z>w)break;else{x+=z+m.marginPerImage;y++}}var A=[],B=[],C;for(;y<t;y++){q=y+1;A=n.slice(0,q);B=o.slice(0,q);C=this.$PhotoArrange3(m,A);if(this.$PhotoArrange2.has(C))p=this.$PhotoArrange2.get(C);else{p=new l(m,B.slice(0,q)).solve();this.$PhotoArrange2.set(C,p)}if(p.isValid&&p.isOptimal)break;else if(p.isValid){r=p;s=q}else{p=r;q=s;break}}if(p.isValid){var D=p.height,E=n.slice(0,q);E=E.map(function(F,y){return{width:D/o[y],height:D}});return E.concat(this.$PhotoArrange4(m,n.slice(q),o.slice(q)))}else throw new Error("There is no valid solution to arrange these photos\n        under the specified constraints")};function l(m,n){var o=m.containerWidth,p=m.marginPerImage,q=m.maxImageHeight,r=m.minImageHeight,s=m.minImageWidth;"use strict";this.$ImagesBSSolver1=o;this.$ImagesBSSolver2=n;this.$ImagesBSSolver3=p;this.$ImagesBSSolver4=q;this.$ImagesBSSolver5=r;this.$ImagesBSSolver6=s}l.prototype.solve=function(){"use strict";__p&&__p();var m=this.$ImagesBSSolver5,n=this.$ImagesBSSolver4,o=(n+m)/2,p=this.$ImagesBSSolver7(m),q=this.$ImagesBSSolver7(o),r=this.$ImagesBSSolver7(n);if(!p.isValid)return j;else if(r.isValid)return{height:n,isOptimal:r.isOptimal,isValid:r.isValid};else{while(!q.isValid||n-m>h){if(!q.isValid)n=o;else m=o;o=(n+m)/2;q=this.$ImagesBSSolver7(o)}return{height:o,isOptimal:q.isOptimal,isValid:q.isValid}}};l.prototype.$ImagesBSSolver7=function(m){"use strict";var n=this.$ImagesBSSolver2.reduce(function(q,r){var s=Math.max(this.$ImagesBSSolver6,m/r);return q+s+this.$ImagesBSSolver3}.bind(this),-this.$ImagesBSSolver3),o=n<this.$ImagesBSSolver1,p=o&&n+i>this.$ImagesBSSolver1;return{isOptimal:p,isValid:o}};f.exports=new k()}),null);
__d("AdsMediaLibrary.react",["cx","invariant","AdsImageLegacy","AdsImageValidation","AdsMediaLibraryExpandedAsset.react","AdsMediaPanelImageBoxContainer.react","AdsMediaStandaloneLibraryImage.react","AdsPageTypes","DimensionTracker","ImageRowItem.react","InfiniteScroll.react","MediaLibraryPlacement","PhotoArrange","React","ReactDOM","Scroll","SimpleList.react","SUIBusinessTheme","SUISpinner.react","emptyFunction","joinClasses","setImmediate"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m={height:100,width:100},n=60,o=60,p=290,q=90,r=210,s=14,t=48,u=550,v=60,w=50,x=0,y=12,z=49;j=babelHelpers.inherits(A,c("React").Component);k=j&&j.prototype;function A(){__p&&__p();var B,C;for(var D=arguments.length,E=Array(D),F=0;F<D;F++)E[F]=arguments[F];return C=(B=k.constructor).call.apply(B,[this].concat(E)),this.state={containerWidth:0,expandedImage:null},this.measureContainerWidth=function(){var G=this.refs.imagesContainer;if(G){var H=c("ReactDOM").findDOMNode(G),I=H.offsetWidth;this.setState({containerWidth:I})}}.bind(this),this.$AdsMediaLibrary7=function(G){this.setState({expandedImage:G})}.bind(this),this.$AdsMediaLibrary6=function(){this.setState({expandedImage:null})}.bind(this),this.$AdsMediaLibrary2=function(G){return c("React").createElement(c("AdsMediaStandaloneLibraryImage.react"),{decoration:this.$AdsMediaLibrary9(G),image:G,imageSpec:this.props.imageSpec,key:G.getUniqueIdentifier(),ref:G.getUniqueIdentifier(),showImageMetadata:this.props.showStandaloneImageMetadata,onExpandClick:this.$AdsMediaLibrary7,onImageClick:function(event){return this.props.onImageClick(G,event.shiftKey)}.bind(this)})}.bind(this),this.$AdsMediaLibrary5=function(G){var H=false,I=this.props.imageSpec;if(I){H=!c("AdsImageValidation").isWarningSize(G,I);if(this.props.igSpecificImageSpec)H=H||!c("AdsImageValidation").isWarningSize(G,this.props.igSpecificImageSpec)}return c("React").createElement(c("AdsMediaPanelImageBoxContainer.react"),{buyingTypes:this.props.buyingTypes,className:"_13u0",decoration:this.$AdsMediaLibrary9(G),igSpecificImageSpec:this.props.igSpecificImageSpec,image:G,imageSpec:I,isTooSmall:this.props.disableTooSmallImages&&H,key:G.getUniqueIdentifier(),ref:G.getUniqueIdentifier(),useMediaPanelRedesign:this.props.useMediaPanelRedesign,onImageClick:function(event){this.props.onImageClick&&this.props.onImageClick(G)}.bind(this),onImageDoubleClick:function(event){this.props.onImageDoubleClick&&this.props.onImageDoubleClick(G)}.bind(this)})}.bind(this),C}A.prototype.componentDidMount=function(){c("setImmediate")(this.measureContainerWidth)};A.prototype.componentWillReceiveProps=function(){this.measureContainerWidth()};A.prototype.render=function(){__p&&__p();var B,C=this,D,E=c("joinClasses")(this.props.className,"_3suv"),F=this.props.children;if(F)F=c("React").createElement("div",{className:"_13u2 clearfix"},F);var G=void 0,H=this.props.photoArrangeConstraints;if(this.state.containerWidth&&this.props.photoArrangeEnabled){var I,J;(function(){I=Math.max(0,C.state.containerWidth-H.containerPadding);J=C.props.imageList.map(function(M){return babelHelpers["extends"]({},M,{width:M.width||m.width,height:M.height||m.height})});var L=c("PhotoArrange").solve(babelHelpers["extends"]({},H,{containerWidth:I}),J);G=C.props.imageList.map(function(M,N){M.calculatedWidth=L[N].width;M.calculatedHeight=L[N].height;return M})})()}else G=this.props.imageList;if(this.props.standalone){var K=null;if(I)(function(){__p&&__p();var L=C.$AdsMediaLibrary1(G,I,H.marginPerImage,H.minImageWidth),M=new(c("DimensionTracker"))();L.forEach(function(P,Q){var R=P[0],S=this.props.showStandaloneImageMetadata?q:s;if(this.props.placement===c("MediaLibraryPlacement").BIZ_MEDIA_LIBRARY)S+=n;var T=R.calculatedHeight+S;M.setValue(Q,T)}.bind(C));M.setValue(L.length,z);var N=C.props.showStandaloneImageMetadata?p:r,O=C.state.containerWidth-t;K=c("React").createElement(c("SimpleList.react"),{height:C.props.height,item:c("React").createElement(c("ImageRowItem.react"),{footerRow:C.props.scrollingAreaFooter,imageRowItems:L,renderImage:C.$AdsMediaLibrary2}),rowCount:L.length+1,rowHeight:N,rowHeightTracker:M,width:O})})();return c("React").createElement("div",{className:E,ref:"AdsMediaLibraryRoot"},c("React").createElement("div",{className:"_13t_"+(this.state.expandedImage?" _fas":""),ref:"imagesContainer"},K),this.$AdsMediaLibrary3(),this.$AdsMediaLibrary4())}else return c("React").createElement("div",{className:E,ref:"AdsMediaLibraryRoot"},c("React").createElement(c("InfiniteScroll.react"),{className:"_13u1",style:{height:this.props.height},onEndReached:this.props.onEndReached},F,c("React").createElement("div",{className:"_13t_",ref:"imagesContainer"},G.map(this.$AdsMediaLibrary5)),this.props.scrollingAreaFooter),this.$AdsMediaLibrary4())};A.prototype.$AdsMediaLibrary1=function(B,C,D,E){__p&&__p();if(!B.length)return[];var F=[[]],G=0,H=0;B.forEach(function(I,J){var K=Math.max(E,I.calculatedWidth);if(H+K>C){F.push([]);H=0;G++}F[G].push(I);H+=K+D});return F};A.prototype.$AdsMediaLibrary4=function(){if(!this.props.isLoadingInitial)return null;return c("React").createElement("div",{className:"_13u3"},c("React").createElement(c("SUISpinner.react"),{background:"light",className:"_13t-",size:"large",theme:c("SUIBusinessTheme")}))};A.prototype.$AdsMediaLibrary3=function(){if(!this.state.expandedImage)return null;var B=this.state.expandedImage,C=Math.min(B.height,u),D=C*B.width/B.height;return c("React").createElement(c("AdsMediaLibraryExpandedAsset.react"),{height:C,key:"expanded_view",source:B.getUrl(),topBarHeight:this.props.topBarHeight,width:D,onClickClose:this.$AdsMediaLibrary6})};A.prototype.$AdsMediaLibrary8=function(B){return this.props.selectedImageList.some(function(C){return C.getUniqueIdentifier()==B})};A.prototype.$AdsMediaLibrary9=function(B){if(this.$AdsMediaLibrary8(B.getUniqueIdentifier()))return"selected";else if(!this.props.isClickEnabled)return"disabled";return"default"};A.prototype.scrollToImage=function(B){var C=B.getUniqueIdentifier();C in this.refs||i(0);var D=c("ReactDOM").findDOMNode(this.refs[C]),E=c("ReactDOM").findDOMNode(this),F=D.offsetTop;if(E!=D.offsetParent)F-=E.offsetTop;c("Scroll").setTop(E,F)};A.propTypes={buyingTypes:l.arrayOf(l.string),disableTooSmallImages:l.bool,height:l.number.isRequired,imageList:l.arrayOf(l.instanceOf(c("AdsImageLegacy"))).isRequired,imageSpec:l.shape({minWarningWidth:l.number.isRequired,minWarningHeight:l.number.isRequired}),isClickEnabled:l.bool.isRequired,isLoadingInitial:l.bool,igSpecificImageSpec:l.object,onEndReached:l.func,onImageClick:l.func.isRequired,onImageDoubleClick:l.func,photoArrangeConstraints:l.shape({containerPadding:l.number.isRequired,maxImageHeight:l.number.isRequired,minImageHeight:l.number.isRequired,minImageWidth:l.number.isRequired,marginPerImage:l.number.isRequired}).isRequired,photoArrangeEnabled:l.bool,selectedImageList:l.array.isRequired,scrollingAreaFooter:l.object,showStandaloneImageMetadata:l.bool,standalone:l.bool,topBarHeight:l.number,useMediaPanelRedesign:l.bool,placement:l.string};A.defaultProps={disableTooSmallImages:false,onImageClick:c("emptyFunction"),photoArrangeConstraints:{containerPadding:o,maxImageHeight:v,minImageHeight:w,minImageWidth:x,marginPerImage:y},selectedImageList:[],showStandaloneImageMetadata:false,standalone:false,useMediaPanelRedesign:false};f.exports=A}),null);
__d("AdsMediaPanelFilters",["fbt","invariant","AdImageSpecs","AdsGenericFilterField","AdsGenericFilterFieldType","AdsGenericFilterOperator","AdsGenericFilterOperatorConfig","AdsImageValidation","AdsPageTypes","keyMirror"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l={"16:9":16/9,"4:3":4/3,"9:16":9/16},m=(j={},j[c("AdsPageTypes").DESKTOP_FEED]=c("AdImageSpecs").PAGE_LIKE_DESKTOP_FEED,j[c("AdsPageTypes").INSTAGRAM_STORY]=c("AdImageSpecs").INSTAGRAM_STORY,j[c("AdsPageTypes").MOBILE_EXTERNAL]=c("AdImageSpecs").AUDIENCE_NETWORK_MOBILE_EXTERNAL,j[c("AdsPageTypes").MESSENGER]=c("AdImageSpecs").MESSENGER,j),n=(k={},k[c("AdsPageTypes").DESKTOP_FEED]=h._("Facebook"),k[c("AdsPageTypes").INSTAGRAM_STORY]=h._("Instagram"),k[c("AdsPageTypes").MOBILE_EXTERNAL]=h._("Audience Network"),k[c("AdsPageTypes").MESSENGER]=h._("Messenger"),k),o=c("keyMirror")({media_title:null,media_aspect:null,media_placement:null}),p={TITLE:{text:h._("Title"),field:new(c("AdsGenericFilterField"))(o.media_title,c("AdsGenericFilterFieldType").STRING),operators:[c("AdsGenericFilterOperatorConfig").CONTAIN,c("AdsGenericFilterOperatorConfig").NOT_CONTAIN],allowDuplication:true},ASPECT_RATIO:{text:h._("Aspect Ratio"),field:new(c("AdsGenericFilterField"))(o.media_aspect,c("AdsGenericFilterFieldType").STRING_SET),operators:[c("AdsGenericFilterOperatorConfig").EQUAL,c("AdsGenericFilterOperatorConfig").NOT_EQUAL],values:[{value:"16:9"},{value:"4:3"},{value:"9:16"}],allowDuplication:true},PLACEMENT_COMPATIBILITY:{text:h._("Placement"),field:new(c("AdsGenericFilterField"))(o.media_placement,c("AdsGenericFilterFieldType").STRING_SET),operators:[c("AdsGenericFilterOperatorConfig").EQUAL],values:[{value:c("AdsPageTypes").DESKTOP_FEED},{value:c("AdsPageTypes").INSTAGRAM_STORY},{value:c("AdsPageTypes").MOBILE_EXTERNAL},{value:c("AdsPageTypes").MESSENGER}],valueRenderer:x,allowDuplication:true}},q={ASPECT_RATIO:p.ASPECT_RATIO,PLACEMENT_COMPATIBILITY:p.PLACEMENT_COMPATIBILITY},r={TITLE:p.TITLE,ASPECT_RATIO:p.ASPECT_RATIO},s={},t={};function u(D,E){typeof E.value==="string"||i(0);var F=E.value&&E.value.toLowerCase(),G=typeof D==="string"?D.toLowerCase():null;switch(E.operator){case c("AdsGenericFilterOperator").CONTAIN:return G!=null&&G.includes(F);case c("AdsGenericFilterOperator").NOT_CONTAIN:return!(G!=null&&G.includes(F));default:throw new Error("invalid filter")}}function v(D,E){typeof E.value=="string"||i(0);var F=m[E.value];if(c("AdsImageValidation").isValidAspectRatio(D,F)&&c("AdsImageValidation").isWarningSize(D,F))return true;return false}function w(D,E){typeof E.value==="string"||i(0);var F=l[E.value]||0;switch(E.operator){case c("AdsGenericFilterOperator").EQUAL:return D<=F;case c("AdsGenericFilterOperator").NOT_EQUAL:return D>F;default:throw new Error("invalid filter")}}function x(D){return n[D]}var y={media_title:function D(E,F){return u(E.title,F)},media_aspect:function D(E,F){return w(E.width/E.height,F)}},z={media_aspect:function D(E,F){return w(E.getWidth()/E.getHeight(),F)},media_placement:function D(E,F){return v(E,F)}};function A(D,E,F){return D.filter(function(G){for(var H=0;H<E.values.length;H++){var I=E.values[H];if(!F[I.field.name](G,I))return false}return true})}function B(D,E){return A(D,E,y)}function C(D,E){return A(D,E,z)}f.exports={applyImageFilters:C,applyVideoFilters:B,ImageFilterFieldConfig:q,VideoFilterFieldConfig:r,ImageFilterValueConfig:s,VideoFilterValueConfig:t}}),null);
__d("AdsMediaPanelHeader.react",["cx","AdsTestIDs","LeftRight.react","Link.react","React","SUIBusinessTheme","SUICloseButton.react","XUIAmbientNUX.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l,m=c("React").PropTypes;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.$AdsMediaPanelTabTitle1=function(){this.props.onTitleClick(this.props.tabKey)}.bind(this),q}n.prototype.render=function(){return c("React").createElement(c("Link.react"),babelHelpers["extends"]({},this.props,{onClick:this.$AdsMediaPanelTabTitle1}))};n.propTypes={tabKey:m.string.isRequired,onTitleClick:m.func.isRequired};k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$AdsMediaPanelHeader1=function(u){var v=u.tabKey===this.props.selectedTab,w=c("joinClasses")(u.className,"_5jq6"+(v?" _5jq7":"")),x=c("AdsTestIDs").IMAGE_LIBRARY_HEADER+"-"+u.tabKey,y="_5jq8"+(this.props.useMediaPanelRedesign?" _4l0d":"");return c("React").createElement("span",{key:u.tabKey},c("React").createElement(n,{className:w,"data-testid":x,ref:u.tabKey,tabKey:u.tabKey,onTitleClick:this.$AdsMediaPanelHeader2},c("React").createElement("div",{className:y}),u.title),this.$AdsMediaPanelHeader3(u))}.bind(this),this.$AdsMediaPanelHeader3=function(u){if(u.nuxConfig){var v=function(){return this.refs[u.tabKey]}.bind(this);return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:v,key:u.tabKey,position:"below",shown:u.nuxConfig.shown,onCloseButtonClick:u.nuxConfig.onClose},u.nuxConfig.message)}return null}.bind(this),this.$AdsMediaPanelHeader2=function(u){this.props.onTabSwitch(u)}.bind(this),q}o.prototype.getDefaultProps=function(){return{useMediaPanelRedesign:false}};o.prototype.render=function(){var p="_5jq0"+(this.props.useMediaPanelRedesign?" _4l0e":"");if(this.props.useMediaPanelRedesign)return c("React").createElement("div",{className:p},c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",null,this.props.tabConfigs.map(this.$AdsMediaPanelHeader1)),c("React").createElement("div",{className:"_4l0h"},c("React").createElement(c("SUICloseButton.react"),{className_DEPRECATED:"layerCancel",shade:"dark",size:"small",theme:c("SUIBusinessTheme"),useLegacyPadding:true}))));else return c("React").createElement("div",{className:p},this.props.tabConfigs.map(this.$AdsMediaPanelHeader1))};o.propTypes={selectedTab:m.string.isRequired,tabConfigs:m.arrayOf(m.shape({className:m.string.isRequired,tabKey:m.string.isRequired,title:m.string.isRequired,nuxConfigs:m.shape({message:m.string.isRequired,onClose:m.func.isRequired,shown:m.bool.isRequired})})).isRequired,useMediaPanelRedesign:m.bool,onTabSwitch:m.func.isRequired};f.exports=o}),null);
__d("AdsMediaPanelInfiniteScrollFooter.react",["cx","fbt","React","SUIBusinessTheme","SUISpinner.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;m.prototype.componentDidMount=function(){if(this.props.onEndReached)this.props.onEndReached()};m.prototype.render=function(){if(!this.props.imagesLoaded)return null;if(this.props.fetchingNextPage)return c("React").createElement("div",{className:"_4bnz"},c("React").createElement(c("SUISpinner.react"),{background:"light",size:"large",theme:c("SUIBusinessTheme")}));return c("React").createElement("div",{className:"_4bn-"},c("React").createElement("div",{className:"_4bn_"},c("React").createElement("div",{className:"_4bo2"},i._("No more images found"))))};function m(){j.apply(this,arguments)}m.propTypes={fetchingNextPage:l.bool.isRequired,imagesLoaded:l.bool.isRequired,onEndReached:l.func};f.exports=m}),null);
__d("AdsMediaPanelMessage.react",["cx","Image.react","React","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=c("joinClasses")("_3suv",this.props.className);return c("React").createElement("div",{className:m,style:this.props.style},c("React").createElement("div",{className:"_5y4t"},c("React").createElement(c("Image.react"),{src:this.props.icon}),c("React").createElement("div",{className:"_5y4u"},c("React").createElement("div",null,this.props.title),c("React").createElement("div",null,this.props.subtitle))))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={icon:k.object.isRequired,subtitle:k.string,title:k.string.isRequired};f.exports=l}),null);
__d("AdsMediaPanelPageLinkInstagramAccountUnit.react",["cx","fbt","ix","ActionList.react","AdsImageLegacy","AdsLoadState_LEGACY","AdsMediaLibrary.react","AdsPageInstagramAccountActions","CenteredContainer.react","Grid.react","Image.react","Link.react","React","ScrollableArea.react","SUIBusinessTheme","SUINotice.react","SUINoticeGroup.react","SUISpinner.react","SUIText.react","XPagesManagerSettingsController","XUIButton.react","XUITextInput.react","PageSettingsRef"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("Grid.react").GridItem,n=c("React").PropTypes,o=30,p=32,q=36,r="https://instagram.com/accounts/password/reset/",s="https://www.facebook.com/business/help/898752960195806";k=babelHelpers.inherits(t,c("React").Component);l=k&&k.prototype;function t(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=l.constructor).call.apply(u,[this].concat(x)),this.state={password:"",username:""},this.$AdsMediaPanelPageLinkInstagramAccountUnit9=function(event){this.setState({password:event.target.value})}.bind(this),this.$AdsMediaPanelPageLinkInstagramAccountUnit8=function(event){this.setState({username:event.target.value})}.bind(this),this.$AdsMediaPanelPageLinkInstagramAccountUnit10=function(){if(this.props.pageID)c("AdsPageInstagramAccountActions").linkInstagramAccount(this.props.pageID,this.state.password,this.state.username)}.bind(this),v}t.prototype.render=function(){if(this.props.instagramAccount&&this.props.instagramAccount.is_published)return this.$AdsMediaPanelPageLinkInstagramAccountUnit1();else if(this.props.instagramAccountLoadState===c("AdsLoadState_LEGACY").LOADING)return this.$AdsMediaPanelPageLinkInstagramAccountUnit2();else return this.$AdsMediaPanelPageLinkInstagramAccountUnit3()};t.prototype.$AdsMediaPanelPageLinkInstagramAccountUnit2=function(){return c("React").createElement(c("ScrollableArea.react"),{height:this.props.totalHeight},this.$AdsMediaPanelPageLinkInstagramAccountUnit4(),c("React").createElement(c("CenteredContainer.react"),{fullHeight:true,horizontal:true,vertical:true},this.$AdsMediaPanelPageLinkInstagramAccountUnit5(),c("React").createElement(c("CenteredContainer.react"),{className:"_hrr",horizontal:true,vertical:true},c("React").createElement(c("SUISpinner.react"),{size:"large",theme:c("SUIBusinessTheme")}))))};t.prototype.$AdsMediaPanelPageLinkInstagramAccountUnit3=function(){return c("React").createElement(c("ScrollableArea.react"),{height:this.props.totalHeight},this.$AdsMediaPanelPageLinkInstagramAccountUnit4(),c("React").createElement(c("CenteredContainer.react"),{fullHeight:true,horizontal:true,vertical:true},this.$AdsMediaPanelPageLinkInstagramAccountUnit5(),this.props.pageID?this.$AdsMediaPanelPageLinkInstagramAccountUnit6():null))};t.prototype.$AdsMediaPanelPageLinkInstagramAccountUnit1=function(){var u=this.$AdsMediaPanelPageLinkInstagramAccountUnit4()?this.props.totalHeight-p-q:this.props.totalHeight-p,v=this.props.instagramAccountLoadState===c("AdsLoadState_LEGACY").LOADING?c("React").createElement(c("SUISpinner.react"),{size:"large",theme:c("SUIBusinessTheme")}):this.$AdsMediaPanelPageLinkInstagramAccountUnit7();return c("React").createElement("div",{style:{height:this.props.totalHeight}},this.$AdsMediaPanelPageLinkInstagramAccountUnit4(),c("React").createElement(c("AdsMediaLibrary.react"),babelHelpers["extends"]({},this.props,{height:u})),c("React").createElement("div",{className:"_hrs"},v))};t.prototype.$AdsMediaPanelPageLinkInstagramAccountUnit5=function(){var u=i._("Connect an Instagram Account"),v=null;if(this.props.instagramAccount)v=i._("Log into Instagram to select images for your Facebook ads. The Instagram account you add will represent your business in your Instagram ads. You can only connect one Instagram account to your Page.");else v=c("React").createElement("div",null,i._("Log into an Instagram account to select Instagram images to use in your Facebook ads.")," ",c("React").createElement(c("Link.react"),{href:s,target:"_blank"},i._("Learn more")),".");return c("React").createElement(c("CenteredContainer.react"),{className:"_2pie",horizontal:true},c("React").createElement(c("Image.react"),{src:j("22909")}),c("React").createElement("div",{className:"_hru"},u),c("React").createElement("div",{className:"_hrx"},v))};t.prototype.$AdsMediaPanelPageLinkInstagramAccountUnit6=function(){return c("React").createElement(c("Grid.react"),{className:"_3-8k",cols:2,spacing:"prl pts"},c("React").createElement(m,null,c("React").createElement(c("XUITextInput.react"),{className:"_hry",height:"tall",maxLength:o,placeholder:i._("Username"),value:this.state.username,onChange:this.$AdsMediaPanelPageLinkInstagramAccountUnit8})),c("React").createElement(m,null,c("React").createElement(c("XUITextInput.react"),{className:"_hry",height:"tall",placeholder:i._("Password"),type:"password",value:this.state.password,onChange:this.$AdsMediaPanelPageLinkInstagramAccountUnit9})),c("React").createElement(m,null,c("React").createElement(c("SUIText.react"),{className:"lfloat",theme:c("SUIBusinessTheme")},c("React").createElement(c("Link.react"),{href:r,target:"_blank"},i._("Forgot password?")))),c("React").createElement(m,null,c("React").createElement(c("XUIButton.react"),{className:"rfloat",disabled:this.state.username===""||this.state.password==="",label:i._("Connect"),use:"confirm",onClick:this.$AdsMediaPanelPageLinkInstagramAccountUnit10})))};t.prototype.$AdsMediaPanelPageLinkInstagramAccountUnit7=function(){var u=this.props.instagramAccount?"@"+this.props.instagramAccount.username:"",v=void 0;if(this.props.pageID){var w=c("XPagesManagerSettingsController").getURIBuilder().setString("page_token",this.props.pageID).setString("tab","instagram_ads").setString("ref",c("PageSettingsRef").INSTAGRAM_ADS).getURI();v=c("React").createElement(c("SUIText.react"),{size:"meta1",theme:c("SUIBusinessTheme")},c("React").createElement(c("Link.react"),{href:w,target:"_blank"},i._("Edit")))}return c("React").createElement(c("ActionList.react"),{className:"rfloat"},c("React").createElement(c("SUIText.react"),{shade:"dark",size:"meta1",theme:c("SUIBusinessTheme"),weight:"bold"},u),v)};t.prototype.$AdsMediaPanelPageLinkInstagramAccountUnit4=function(){if(this.props.pageLinkOrUnlinkAccountError.length===0)return null;return c("React").createElement(c("SUINoticeGroup.react"),{theme:c("SUIBusinessTheme")},this.props.pageLinkOrUnlinkAccountError.map(function(u,v){return c("React").createElement(c("SUINotice.react"),{key:v,type:"error"},u)}))};t.propTypes={imageList:n.arrayOf(n.instanceOf(c("AdsImageLegacy"))).isRequired,instagramAccount:n.shape({id:n.string.isRequired,is_published:n.bool.isRequired,profile_pic:n.string.isRequired,username:n.string.isRequired}),instagramAccountLoadState:n.oneOf(Object.keys(c("AdsLoadState_LEGACY"))).isRequired,isClickEnabled:n.bool.isRequired,pageID:n.string,pageLinkOrUnlinkAccountError:n.arrayOf(n.string).isRequired,totalHeight:n.number.isRequired};t.defaultProps={imageList:[],instagramAccount:null,instagramAccountLoadState:c("AdsLoadState_LEGACY").NOT_LOADED,pageLinkOrUnlinkAccountError:[]};f.exports=t}),null);
__d("AdsMediaPanelTabs",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({UPLOAD:null,LIBRARY:null,STOCK:null});f.exports=h}),null);
__d("AdsMediaPanelViewFilterBar.react",["cx","fbt","AdsImageCollectionViews","Link.react","React","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m,n,o,p=c("React").PropTypes;j=babelHelpers.inherits(q,c("React").Component);k=j&&j.prototype;function q(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=k.constructor).call.apply(t,[this].concat(w)),this.$AdsMediaPanelViewFilterBar1=function(y){if(y.view===c("AdsImageCollectionViews").views.INSTAGRAM&&!this.props.instagramAccountLinked)return c("React").createElement(s,{key:y.view||"ALL",selectedFilter:this.props.viewFilter,showImageCount:false,viewFilter:y,onViewFilterChoose:this.props.onViewFilterChoose});else return c("React").createElement(r,{key:y.view||"ALL",selectedFilter:this.props.viewFilter,showImageCount:true,viewFilter:y,onViewFilterChoose:this.props.onViewFilterChoose})}.bind(this),u}q.prototype.render=function(){var t="_5y6l"+(this.props.useMediaPanelRedesign?" _2wrx":"");if(this.props.availableViewFilters.length===0)return c("React").createElement("div",{className:t});var u="_5y6m"+(this.props.useMediaPanelRedesign?" _2wrx":"");return c("React").createElement("div",{className:u},this.props.availableViewFilters.map(this.$AdsMediaPanelViewFilterBar1))};q.propTypes={availableViewFilters:p.array.isRequired,instagramAccountLinked:p.bool.isRequired,viewFilter:p.object.isRequired,onViewFilterChoose:p.func};l=babelHelpers.inherits(r,c("React").Component);m=l&&l.prototype;function r(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=m.constructor).call.apply(t,[this].concat(w)),this.$LinkItem1=function(){this.props.onViewFilterChoose&&this.props.onViewFilterChoose(this.props.viewFilter)}.bind(this),u}r.prototype.render=function(){var t=this.props.showImageCount?c("React").createElement("span",{className:"_5y6p"},this.props.viewFilter.count):null;return c("React").createElement(c("Link.react"),{className:"_5y6n"+(this.props.viewFilter.view===this.props.selectedFilter.view?" _5y6o":""),onClick:this.$LinkItem1},c("React").createElement("span",null,c("React").createElement("span",null,this.props.viewFilter.text),t))};n=babelHelpers.inherits(s,c("React").Component);o=n&&n.prototype;function s(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=o.constructor).call.apply(t,[this].concat(w)),this.state={nuxShown:!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").BOOSTED_COMPONENT_INSTAGRAM_LIBRARY)},this.renderLayers=function(){return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:this.$LinkItemWithNux1,position:"above",shown:this.state.nuxShown,onCloseButtonClick:this.$LinkItemWithNux2,key:"nux_above"},i._("Connect an Instagram account to use its photos in your ads."))}.bind(this),this.$LinkItemWithNux1=function(){return this.refs.instagram_view_filter}.bind(this),this.$LinkItemWithNux2=function(){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").BOOSTED_COMPONENT_INSTAGRAM_LIBRARY);this.setState({nuxShown:false})}.bind(this),u}s.prototype.render=function(){return c("React").createElement("span",null,c("React").createElement(r,babelHelpers["extends"]({},this.props,{ref:"instagram_view_filter"})),this.renderLayers())};f.exports=q}),null);
__d("AdsMediaPanelViewFilters",["fbt","AdsImageCollectionViews"],(function a(b,c,d,e,f,g,h){var i=[{view:c("AdsImageCollectionViews").views.LIBRARY,text:h._("Ad Images")},{view:c("AdsImageCollectionViews").views.INSTAGRAM,text:h._("Instagram Images")},{view:c("AdsImageCollectionViews").views.PAGE,text:h._("Page Images")},{view:c("AdsImageCollectionViews").views.SCRAPED,text:h._("Website Images")}],j=0;i.forEach(function(m){j|=m.view});var k={view:j,text:h._("All")};i.unshift(k);var l={filters:i,all:k};f.exports=l}),null);
__d("AdsShutterstockSearchBar.react",["cx","fbt","ix","Image.react","React","XUITextInput.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$AdsShutterstockSearchBar2=function(){this.props.onTriggerSearch()}.bind(this),this.$AdsShutterstockSearchBar1=function(event){this.props.onTextChange(event.target.value)}.bind(this),p}n.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_134r"},c("React").createElement("div",{className:"_134s"},c("React").createElement(c("Image.react"),{className:"_134t",src:j("22543")}),c("React").createElement("div",{className:"_134u"},i._("Powered by {partner-company-name}",[i.param("partner-company-name","Shutterstock")])),c("React").createElement(c("XUITextInput.react"),{className:"_134v",defaultValue:this.props.searchText,height:"tall",placeholder:i._("Search Free Stock Images"),onChange:this.$AdsShutterstockSearchBar1,onEnter:this.$AdsShutterstockSearchBar2})))};n.propTypes={searchText:m.string,onTriggerSearch:m.func,onTextChange:m.func};n.defaultProps={onTriggerSearch:c("emptyFunction"),onTextChange:c("emptyFunction")};f.exports=n}),null);
__d("AdsShutterstockSearchLoader",["AdsGraphAPI"],(function a(b,c,d,e,f,g){"use strict";var h=25,i={loadSearchResults:function j(k,l){if(l)return l();return c("AdsGraphAPI").get(f.id).search("adstockimage").get({limit:h,locale:"user",q:k})}};f.exports=i}),null);
__d("AdsShutterstockSearchDispatcher",["AdsImageLegacy","AdsShutterstockSearchActions","AdsShutterstockSearchLoader"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={convertStockImages:function i(j){return j.map(function(k){return new(c("AdsImageLegacy"))({previewHeight:k.preview.height,previewUrl:k.preview.url,previewWidth:k.preview.width,stockImageID:k.id,thumbHeight:k.thumbnail.height,thumbWidth:k.thumbnail.width,url:k.thumbnail.url})})},loadSearchResults:function i(j,k){c("AdsShutterstockSearchLoader").loadSearchResults(j,k).done(function(l){var m={images:this.convertStockImages(l.data),next:null};if(l.next)m.next=l.next.bind(l);c("AdsShutterstockSearchActions").searchResultsLoaded(j,m)}.bind(this),function(l){c("AdsShutterstockSearchActions").searchResultsError(j,l)})}};f.exports=h}),null);
__d("AdsShutterstockSearchStore",["AdsDataAtom","AdsShutterstockSearchDispatcher","AdsShutterstockSearchResultsErrorDataAction","AdsShutterstockSearchResultsLoadedDataAction","FluxStore","immutable","LoadObject","Map","adsBaseStoreMixin_DEPRECATED","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("AdsDataAtom"));c("adsBaseStoreMixin_DEPRECATED")(this);this.$AdsShutterstockSearchStoreClass1=new(c("Map"))();this.$AdsShutterstockSearchStoreClass2=new(c("Map"))()}j.prototype.__onDispatch=function(k){__p&&__p();var l=k.action;switch(l.type){case c("AdsShutterstockSearchResultsLoadedDataAction").actionType:var m=this.$AdsShutterstockSearchStoreClass1.get(l.data.query),n=null;if(m&&m.hasValue())n=m.getValueEnforcing().images.concat(l.data.results.images);else n=c("immutable").OrderedSet(l.data.results.images);this.$AdsShutterstockSearchStoreClass3(l.data.results.images);this.$AdsShutterstockSearchStoreClass1.set(l.data.query,m.setValue(babelHelpers["extends"]({},l.data.results,{images:n})).done());this.__emitChange();break;case c("AdsShutterstockSearchResultsErrorDataAction").actionType:this.$AdsShutterstockSearchStoreClass1.set(l.data.query,this.$AdsShutterstockSearchStoreClass1.get(l.data.query).setError(l.data.error).done());this.__emitChange();break}};j.prototype.$AdsShutterstockSearchStoreClass3=function(k){k.forEach(function(l){var m=c("nullthrows")(l.getStockImageID());this.$AdsShutterstockSearchStoreClass2.set(m,l)}.bind(this))};j.prototype.getSearchResults=function(k,l){__p&&__p();var m=this.$AdsShutterstockSearchStoreClass1.get(k);if(!m){m=c("LoadObject").loading();this.$AdsShutterstockSearchStoreClass1.set(k,m);c("AdsShutterstockSearchDispatcher").loadSearchResults(k)}else if(m&&m.hasValue()&&!m.hasOperation()&&m.getValueEnforcing().images.size<=l){var n=m.getValueEnforcing().next;if(n){m=m.loading();this.$AdsShutterstockSearchStoreClass1.set(k,m);c("AdsShutterstockSearchDispatcher").loadSearchResults(k,n)}}return m};j.prototype.getShutterstockImageByID=function(k){return this.$AdsShutterstockSearchStoreClass2.get(k)};f.exports=new j()}),null);
__d("AdsShutterstockGuidelinesShowDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SHUTTERSTOCK.GUIDELINES_SHOW");f.exports=h}),null);
__d("AdsShutterstockUseGuidelines.react",["cx","fbt","AdsShutterstockGuidelinesShowDataAction","ContextualDialog.react","LayerFadeOnHide","Link.react","React","ReactLayeredComponentMixin_DEPRECATED","debounce","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=250,l=320,m=c("React").createClass({displayName:"AdsShutterstockUseGuidelines",mixins:[c("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{dialogPosition:j.string},getDefaultProps:function n(){return{dialogPosition:"right"}},getInitialState:function n(){return{dialogShown:false}},_cancelScheduledHides:function n(){this._scheduleHide.reset()},_hideDialog:function n(){this._cancelScheduledHides();this.setState({dialogShown:false})},_toggleDialog:function n(){this._cancelScheduledHides();var o=!this.state.dialogShown;this.setState({dialogShown:o});if(o)c("AdsShutterstockGuidelinesShowDataAction").dispatch({})},componentWillMount:function n(){this._scheduleHide=c("debounce")(this._hideDialog,k)},componentWillUnmount:function n(){this._cancelScheduledHides();this._scheduleHide=null},render:function n(){var o=c("joinClasses")("_54kg",this.props.className);return c("React").createElement(c("Link.react"),{className:o,ref:"link",onClick:this._toggleDialog,onMouseEnter:this._cancelScheduledHides,onMouseLeave:this._scheduleHide},i._("Some stock images may not comply with Facebook policies. Read our Advertising Policies before selecting an image."))},getLegalLanguage:function n(){return i._("Shutterstock images are available at no additional cost for use in your Facebook ads, with the following guidelines: {list of legal guidelines}",[i.param("list of legal guidelines",c("React").createElement("ul",{className:"_3-9n"},c("React").createElement("li",null,i._("You can't use the image as a trademark for a business.")),c("React").createElement("li",null,i._("You may not portray a person in a way that may be offensive, including: a) in ads for dating services; b) in connection with political endorsements; c) with defamatory, unlawful, offensive or immoral content; and d) as suffering from, or being treated for, a physical or mental ailment.")),c("React").createElement("li",null,i._("You may only use the image in ads and content on Facebook, and not with other websites or advertising services."))))])},renderLayers:function n(){return{dialog:c("React").createElement(c("ContextualDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},contextRef:function(){return this.refs.link}.bind(this),position:this.props.dialogPosition,shown:this.state.dialogShown,width:l},c("React").createElement("div",{className:"_54kh",onMouseEnter:this._cancelScheduledHides,onMouseLeave:this._scheduleHide},c("React").createElement("h2",{className:"_54ki"},i._("Stock Image Use Guidelines")),this.getLegalLanguage()))}}});f.exports=m}),null);
__d("AdsShutterstockViewStore",["AdsDataAtom","AdsShutterstockEndReachedDataAction","AdsShutterstockSearchDoneDataAction","AdsShutterstockSearchTextChangedDataAction","FluxStore","Map","adsBaseStoreMixin_DEPRECATED"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("AdsDataAtom"));c("adsBaseStoreMixin_DEPRECATED")(this);this.$AdsShutterstockViewStoreClass3=new(c("Map"))()}j.prototype.__onDispatch=function(k){__p&&__p();var l=k.action;switch(l.type){case c("AdsShutterstockSearchTextChangedDataAction").actionType:this.$AdsShutterstockViewStoreClass1=l.data.searchText;this.__emitChange();break;case c("AdsShutterstockSearchDoneDataAction").actionType:this.$AdsShutterstockViewStoreClass2=l.data.searchText;if(!this.$AdsShutterstockViewStoreClass3.get(this.$AdsShutterstockViewStoreClass2))this.$AdsShutterstockViewStoreClass3.set(this.$AdsShutterstockViewStoreClass2,1);this.__emitChange();break;case c("AdsShutterstockEndReachedDataAction").actionType:var m=this.$AdsShutterstockViewStoreClass3.get(l.data.searchText);if(!m)this.$AdsShutterstockViewStoreClass3.set(l.data.searchText,2);else this.$AdsShutterstockViewStoreClass3.set(l.data.searchText,m+1);this.__emitChange();break}};j.prototype.getNumPagesForQuery=function(k){var l=this.$AdsShutterstockViewStoreClass3.get(k);return l||0};j.prototype.getCurrentText=function(){return this.$AdsShutterstockViewStoreClass1};j.prototype.getDelayedText=function(){return this.$AdsShutterstockViewStoreClass2};j.prototype.isTyping=function(){var k=this.$AdsShutterstockViewStoreClass1!==null&&this.$AdsShutterstockViewStoreClass1!==undefined;return k&&this.$AdsShutterstockViewStoreClass1!==this.$AdsShutterstockViewStoreClass2};f.exports=new j()}),null);
__d("AdsShutterstockLibrary.react",["cx","fbt","ix","AdsFluxContainer","AdsMediaLibrary.react","AdsMediaPanelInfiniteScrollFooter.react","AdsMediaPanelMessage.react","AdsShutterstockSearchBar.react","AdsShutterstockSearchStore","AdsShutterstockUseGuidelines.react","AdsShutterstockViewActions","AdsShutterstockViewStore","React","ShutterstockApiStatus","adsFormatErrorMessage","debounce","keyMirror","setImmediate"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes,n=25,o=c("keyMirror")({ERROR:null,HAS_MORE:null,LOADING_INITIAL:null,LOADING_MORE:null,NO_MORE_RESULTS:null,NO_REQUEST:null,NO_RESULTS:null}),p=c("debounce")(function(r){return c("AdsShutterstockViewActions").searchDone(r)},200);k=babelHelpers.inherits(q,c("React").PureComponent);l=k&&k.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.$AdsShutterstockLibrary4=function(){var w=this.$AdsShutterstockLibrary2(),x=w.state;if(x===o.HAS_MORE)c("setImmediate")(function(){return c("AdsShutterstockViewActions").endReached(this.state.query)}.bind(this))}.bind(this),s}q.getStores=function(){return[c("AdsShutterstockSearchStore"),c("AdsShutterstockViewStore")]};q.calculateState=function(r,s){var t=c("AdsShutterstockViewStore").getDelayedText()||s.defaultSearchText,u=c("AdsShutterstockViewStore").getNumPagesForQuery(t)||1,v=null;if(t)v=c("AdsShutterstockSearchStore").getSearchResults(t,n*u);return{currentSearchText:c("AdsShutterstockViewStore").getCurrentText(),isTyping:c("AdsShutterstockViewStore").isTyping(),query:t,results:v}};q.prototype.$AdsShutterstockLibrary1=function(r,s,t){return c("React").createElement(c("AdsMediaPanelMessage.react"),{icon:r,style:{height:this.props.imageContainerHeight},subtitle:s,title:t})};q.prototype.$AdsShutterstockLibrary2=function(){__p&&__p();var r=this.state.results,s=null,t=[];if(!r)if(this.state.isTyping)s=o.LOADING_INITIAL;else s=o.NO_REQUEST;else if(r.hasError())s=o.ERROR;else if(!r.hasValue())s=o.LOADING_INITIAL;else if(!r.getValueEnforcing().next){t=r.getValueEnforcing().images.toArray();if(t.length===0)s=o.NO_RESULTS;else s=o.NO_MORE_RESULTS}else{t=r.getValueEnforcing().images.toArray();if(r.hasOperation())s=o.LOADING_MORE;else s=o.HAS_MORE}return{state:s,imageList:t}};q.prototype.$AdsShutterstockLibrary3=function(){var r=this.$AdsShutterstockLibrary2(),s=r.state,t=r.imageList;switch(s){case o.NO_REQUEST:return this.$AdsShutterstockLibrary1(j("22542"),i._("Any images you select will be saved in your image library."),i._("Search for professional images to use in your ads."));case o.NO_RESULTS:return this.$AdsShutterstockLibrary1(j("22544"),i._("Try using other keywords."),i._("There aren't any images that match what you searched."));case o.ERROR:return this.$AdsShutterstockLibrary1(j("22544"),null,i._("An error occurred while searching for stock images: {error message}",[i.param("error message",c("adsFormatErrorMessage")(this.state.results.error))]));default:var u=s===o.HAS_MORE||s===o.LOADING_MORE,v=c("React").createElement(c("AdsMediaPanelInfiniteScrollFooter.react"),{fetchingNextPage:u,imagesLoaded:s!==o.LOADING_INITIAL}),w=s===o.LOADING_INITIAL||this.state.isTyping;return c("React").createElement(c("AdsMediaLibrary.react"),{disableTooSmallImages:this.props.disableTooSmallImages,height:this.props.imageContainerHeight,imageList:t,imageSpec:this.props.imageSpec,isClickEnabled:this.props.isClickEnabled,isLoadingInitial:w,scrollingAreaFooter:v,selectedImageList:this.props.selectedImageList,onEndReached:this.$AdsShutterstockLibrary4,onImageClick:this.props.onImageClick},c("React").createElement(c("AdsShutterstockUseGuidelines.react"),{className:"_3cl1",dialogPosition:"left"}))}};q.prototype.render=function(){if(!c("ShutterstockApiStatus").available)return c("React").createElement(c("AdsMediaPanelMessage.react"),{className:this.props.className,icon:j("22544"),style:{height:this.props.imageContainerHeight},subtitle:i._("Please try again later."),title:i._("Sorry, stock images aren't available right now.")});return c("React").createElement("div",{className:this.props.className},c("React").createElement(c("AdsShutterstockSearchBar.react"),{searchText:this.state.currentSearchText,onTextChange:this.$AdsShutterstockLibrary5}),this.$AdsShutterstockLibrary3())};q.prototype.$AdsShutterstockLibrary5=function(r){c("AdsShutterstockViewActions").searchTextChanged(r);p(r)};q.defaultProps={disableTooSmallImages:false,isClickEnabled:true,selectedImageList:[]};q.propTypes={defaultSearchText:m.string,disableTooSmallImages:m.bool,imageContainerHeight:m.number.isRequired,imageSpec:m.shape({minWarningWidth:m.number.isRequired,minWarningHeight:m.number.isRequired}),isClickEnabled:m.bool.isRequired,selectedImageList:m.array.isRequired,onImageClick:m.func.isRequired};f.exports=c("AdsFluxContainer").create(q,{withProps:true,name:f.id})}),null);
__d("AdsMediaPanel.react",["cx","fbt","ix","Promise","AdsArrowedCarouselEnhanced.react","AdsEditInlinePostWarning.react","AdsImageActions","AdsImageCollectionViews","AdsImageDimensionDataLoader","AdsImageSecondaryActions","AdsImageStore","AdsImageUploadErrorActions","AdsImageValidation","AdsLoadState_LEGACY","AdsMediaLibrary.react","AdsMediaPanelFilters","AdsMediaPanelHeader.react","AdsMediaPanelImageBoxContainer.react","AdsMediaPanelInfiniteScrollFooter.react","AdsMediaPanelMessage.react","AdsMediaPanelPageLinkInstagramAccountUnit.react","AdsMediaPanelTabs","AdsMediaPanelViewFilterBar.react","AdsMediaPanelViewFilters","AdsShutterstockLibrary.react","AdsTestIDs","BootloadedComponent.react","Event","FluxMixinLegacy","JSResource","Map","React","ReactComponentWithPureRenderMixin","ReactDOM","Set","SUIBusinessTheme","SUISpinner.react","SUIThemeContainer.react","emptyFunction","getViewportDimensions","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=c("React").PropTypes,l=49,m=25,n=84,o=144,p=215,q=332,r=658,s=523,t=100,u=60,v=60,w=50,x=0,y=12,z=0,A=0,B=100,C=80,D={};D[c("AdsMediaPanelTabs").UPLOAD]={className:"_5xhy",title:i._("Upload Images"),renderer:"_renderUploadTab"};D[c("AdsMediaPanelTabs").LIBRARY]={className:"_5xh-",title:i._("Image Library"),renderer:"_renderLibraryTab"};D[c("AdsMediaPanelTabs").STOCK]={className:"_5xh_",title:i._("Stock Images"),renderer:"_renderStockTab"};var E=c("React").createClass({displayName:"AdsMediaPanel",mixins:[c("FluxMixinLegacy")([c("AdsImageStore")],{withProps:true}),c("ReactComponentWithPureRenderMixin")],propTypes:{accountID:k.string.isRequired,allowMultiImage:k.bool,buyingTypes:k.arrayOf(k.string),defaultStockSearchText:k.string,disableTooSmallImages:k.bool,igSpecificImageSpec:k.object,imageCollection:k.object.isRequired,imageHandlers:k.shape({onClick:k.func,onDoubleClick:k.func,onSecondaryAction:k.func}).isRequired,imageSpec:k.shape({minWarningWidth:k.number.isRequired,minWarningHeight:k.number.isRequired,placement:k.string}),initialSelectedTab:k.oneOf(Object.keys(D)),instagramAccount:k.shape({id:k.string.isRequired,is_published:k.bool.isRequired,profile_pic:k.string.isRequired,username:k.string.isRequired}),instagramAccountLoadState:k.oneOf(Object.keys(c("AdsLoadState_LEGACY"))),maxSelectedImages:k.number.isRequired,pageID:k.string,pageLinkOrUnlinkAccountError:k.arrayOf(k.string),selectedImageList:k.array.isRequired,tabKeys:k.arrayOf(k.string).isRequired,theme:k.object,uploadHandlers:k.shape({onClick:k.func,onEnd:k.func,onFail:k.func,onStart:k.func,onSuccess:k.func}).isRequired,useInstagramImageCreative:k.bool,useMediaPanelRedesign:k.bool,userImagesLoaded:k.bool,validateImageFormat:k.bool,validateImageSize:k.bool,onTabSwitch:k.func.isRequired},getDefaultProps:function F(){return{adEditWarningMessage:null,disableTooSmallImages:false,imageHandlers:{onClick:c("emptyFunction"),onDoubleClick:c("emptyFunction"),onSecondaryAction:c("emptyFunction")},maxSelectedImages:1,onTabSwitch:c("emptyFunction"),pageFetchingNextPage:false,pageImagesLoaded:true,pageOnEndReached:c("emptyFunction"),selectedImageList:[],uploadHandlers:{},useMediaPanelRedesign:false,userImagesLoaded:true,validateImageFormat:true,validateImageSize:true}},getInitialState:function F(){return{multiImageRowHeight:0,viewFilter:c("AdsMediaPanelViewFilters").all,selectedTab:this.props.initialSelectedTab||c("AdsMediaPanelTabs").LIBRARY,uploadedImages:[],filterSet:null}},statics:{calculateState:function F(G,H){return{canFetchNextLibraryPage:c("AdsImageStore").hasCursorForNextPage(H.accountID),fetchingNextLibraryPage:c("AdsImageStore").isFetchingNextPage(H.accountID)}}},componentWillMount:function F(){this._setResizeHandlerRef(c("Event").listen(window,"resize",function(){return this.forceUpdate()}.bind(this)))},componentWillUnmount:function F(){this._removeResizeHandlerRef();this._setResizeHandlerRef(null)},componentDidMount:function F(){this._setSelectedImagesRowHeight()},componentDidUpdate:function F(){this._setSelectedImagesRowHeight()},_getTabContentHeight:function F(){__p&&__p();var G=this.props.useMediaPanelRedesign?n:o,H=0,I=0,J=0;if(this.props.useMediaPanelRedesign){H=l+m;if(this.props.maxSelectedImages>1)H+=G;I=p+H;J=s}else{I=p+l;J=q+l;H=r-J}var K=c("getViewportDimensions")().height,L=K-t-H;return Math.max(I,Math.min(J,L))},_removeResizeHandlerRef:function F(){var G=this;G._resizeHandlerRef.remove()},_setResizeHandlerRef:function F(G){var H=this;H._resizeHandlerRef=G},_isTabAllowed:function F(G){return this.props.tabKeys.indexOf(G)!==-1},_renderMultipleSelectedImagesRow:function F(){var G=this.state.multiImageRowHeight===0?0:this.state.multiImageRowHeight/B,H=null;if(this.props.maxSelectedImages>1){var I=this.props.selectedImageList.map(function(K,L){return c("React").createElement(c("AdsMediaPanelImageBoxContainer.react"),{alt:i._("Selected Image {number} of {total}",[i.param("number",L+1),i.param("total",this.props.selectedImageList.length)]),buyingTypes:this.props.buyingTypes,className:"_16es",decoration:"removable",image:K,imageSpec:this.props.imageSpec,key:K.getUniqueIdentifier(),scaleImageFactor:G,useMediaPanelRedesign:this.props.useMediaPanelRedesign,onDecorationIconClick:this.props.imageHandlers.onSecondaryAction&&this.props.imageHandlers.onSecondaryAction.bind(null,K,c("AdsImageSecondaryActions").X)})}.bind(this)),J="_16et _5xi2"+(this.props.useMediaPanelRedesign?" _2xcc":"")+" clearfix";H=c("React").createElement("div",{className:J,"data-testid":c("AdsTestIDs").SELECTED_IMAGE_PANEL},c("React").createElement("div",{className:"_16eu"},c("React").createElement("h2",{className:"_5xht"},i._("Selected Images")),c("React").createElement("span",{className:"_5xi4"},i._({"*":{"*":"({images} of {max-images})"}},[i.param("images",this.props.selectedImageList.length,[0]),i.param("max-images",this.props.maxSelectedImages,[0])]))),c("React").createElement("div",{className:"_3k2_",ref:"selectedImagesCarouselContainer"},c("React").createElement(c("AdsArrowedCarouselEnhanced.react"),{maxChangeAmount:6},I)))}return H},render:function F(){D[c("AdsMediaPanelTabs").UPLOAD].title=i._({"*":"Upload Images","_1":"Upload Image"},[i.plural(this.props.maxSelectedImages)]);var G=this.props.tabKeys.map(function(I){return{tabKey:I,className:D[I].className,title:D[I].title}}),H=c("React").createElement("div",{"data-testid":c("AdsTestIDs").IMAGE_LIBRARY},c("React").createElement(c("AdsMediaPanelHeader.react"),{selectedTab:this.state.selectedTab,tabConfigs:G,useMediaPanelRedesign:this.props.useMediaPanelRedesign,onTabSwitch:this._switchToTab}),this._renderTabContent(),this._renderEditInlinePostWarning(),this._renderMultipleSelectedImagesRow());if(this.props.theme)return c("React").createElement(c("SUIThemeContainer.react"),{theme:this.props.theme},H);else return H},_switchToTab:function F(G){this.setState({selectedTab:G});this.props.onTabSwitch(G)},_renderEditInlinePostWarning:function F(){return c("React").createElement(c("AdsEditInlinePostWarning.react"),{className:"_5zio",message:this.props.adEditWarningMessage})},_renderTabContent:function F(){var G=D[this.state.selectedTab],H=c("joinClasses")(G.className,"_5xhx _5xhw"),I=this;return I[G.renderer](this.state.selectedTab,H)},_renderUploadTab:function F(G,H){c("AdsImageUploadErrorActions").removeErrors();var I=c("React").createElement("div",{className:"_2z5_"},c("React").createElement(c("SUISpinner.react"),{theme:c("SUIBusinessTheme")}));return c("React").createElement("div",{className:H,key:G},c("React").createElement(c("BootloadedComponent.react"),{accountId:this.props.accountID,allowMultiImage:this.props.allowMultiImage||this.props.maxSelectedImages>1,bootloadLoader:c("JSResource")("AdsUploadImageBox.react").__setRef("AdsMediaPanel.react"),bootloadPlaceholder:I,height:this._getTabContentHeight(),imageSpec:this.props.imageSpec,useMediaPanelRedesign:this.props.useMediaPanelRedesign,validateImageFormat:this.props.validateImageFormat,validateImageSize:this.props.validateImageSize,onUploadClick:this.props.uploadHandlers.onClick,onUploadEnd:this._onUploadEnd,onUploadFail:this.props.uploadHandlers.onFail,onUploadStart:this.props.uploadHandlers.onStart,onUploadSuccess:this.props.uploadHandlers.onSuccess}))},_onUploadEnd:function F(G){__p&&__p();c("Promise").all(G.map(function(H){return c("AdsImageDimensionDataLoader").getDimensionByURL(H.getUrl()).then(function(I){var J=I.width,K=I.height;return H.clone({width:J,height:K})})})).done(function(G){__p&&__p();if(this.props.uploadHandlers.onEnd)this.props.uploadHandlers.onEnd(G);if(!G.length)return;var H=this.state.uploadedImages||[],I=this._filterDuplicateImages(H,G);H=H.concat(I);this.setState({uploadedImages:H});if(this.props.maxSelectedImages===1)this.setState({selectedTab:c("AdsMediaPanelTabs").LIBRARY,filterSet:null},function(){return this.scrollToImage(G[0])}.bind(this))}.bind(this))},_sortDownTooSmallImages:function F(G){__p&&__p();var H=this.props.imageSpec,I=this.props.igSpecificImageSpec,J=this.state.uploadedImages;G=this._filterDuplicateImages(J,G);var K=new(c("Map"))();G.forEach(function(M,N){return K.set(M,N)});var L=G.sort(function(M,N){__p&&__p();var O=0,P=0;if(I){O+=c("AdsImageValidation").isWarningSize(M,I)?1:0;P+=c("AdsImageValidation").isWarningSize(N,I)?1:0}O+=H&&c("AdsImageValidation").isWarningSize(M,H)?1:0;P+=H&&c("AdsImageValidation").isWarningSize(N,H)?1:0;if(O>P)return-1;else if(O<P)return 1;else return K.get(M)-K.get(N)});return J?J.concat(L):L},_filterDuplicateImages:function F(G,H){if(!G)return H;var I=new(c("Set"))();G.forEach(function(J){return I.add(J.getUniqueIdentifier())});return H.filter(function(J){return!I.has(J.getUniqueIdentifier())})},_onLibraryEndReached:function F(){if(this.state.canFetchNextLibraryPage&&!this.state.fetchingNextLibraryPage)c("AdsImageActions").loadNextPage(this.props.accountID)},_canSelectImages:function F(){return this.props.maxSelectedImages===1||this.props.selectedImageList.length<this.props.maxSelectedImages},_renderLibraryTab:function F(G,H){__p&&__p();var I=this.props.imageCollection,J=I.getImageCount(this.state.viewFilter.view),K=I.getImages(this.state.viewFilter.view);if(this.props.disableTooSmallImages)K=this._sortDownTooSmallImages(K);if(this.props.filters!=null&&this.state.filterSet!=null)K=c("AdsMediaPanelFilters").applyImageFilters(K,this.state.filterSet);var L=this._onLibraryEndReached,M=null;if(this.state.fetchingNextLibraryPage||!this.state.canFetchNextLibraryPage)M=c("React").createElement(c("AdsMediaPanelInfiniteScrollFooter.react"),{fetchingNextPage:this.state.fetchingNextLibraryPage,imagesLoaded:this.props.userImagesLoaded});if(this.state.viewFilter.view===c("AdsImageCollectionViews").views.PAGE){M=c("React").createElement(c("AdsMediaPanelInfiniteScrollFooter.react"),{fetchingNextPage:this.props.pageFetchingNextPage,imagesLoaded:this.props.pageImagesLoaded});L=this.props.pageOnEndReached}var N=null;if(this.props.useMediaPanelRedesign)N={containerPadding:z,maxImageHeight:B,minImageHeight:C,minImageWidth:x,marginPerImage:A};else N={containerPadding:u,maxImageHeight:v,minImageHeight:w,minImageWidth:x,marginPerImage:y};var O=this._getTabContentHeight()-l,P=void 0;if(this.state.viewFilter.view===c("AdsImageCollectionViews").views.INSTAGRAM)P=c("React").createElement(c("AdsMediaPanelPageLinkInstagramAccountUnit.react"),babelHelpers["extends"]({},this.props,{imageList:K,isClickEnabled:this._canSelectImages(),isLoadingInitial:!this.props.userImagesLoaded,photoArrangeConstraints:N,photoArrangeEnabled:true,ref:"imageLib",scrollingAreaFooter:M,totalHeight:O,onEndReached:L,onImageClick:this.props.imageHandlers.onClick,onImageDoubleClick:this.props.imageHandlers.onDoubleClick}));else if(J>0||!this.props.userImagesLoaded)P=c("React").createElement(c("AdsMediaLibrary.react"),{buyingTypes:this.props.buyingTypes,disableTooSmallImages:this.props.disableTooSmallImages,height:O,igSpecificImageSpec:this.props.igSpecificImageSpec,imageList:K,imageSpec:this.props.imageSpec,isClickEnabled:this._canSelectImages(),isLoadingInitial:!this.props.userImagesLoaded,key:G,photoArrangeConstraints:N,photoArrangeEnabled:true,ref:"imageLib",useMediaPanelRedesign:this.props.useMediaPanelRedesign,scrollingAreaFooter:M,selectedImageList:this.props.selectedImageList,onEndReached:L,onImageClick:this.props.imageHandlers.onClick,onImageDoubleClick:this.props.imageHandlers.onDoubleClick});else{var Q=this._isTabAllowed(c("AdsMediaPanelTabs").STOCK)?i._("Upload images or try using professional stock images at no extra cost."):i._("Upload images to use them for your ads.");P=c("React").createElement(c("AdsMediaPanelMessage.react"),{className:H,icon:j("22542"),style:{height:String(O)+"px"},subtitle:Q,title:i._("There aren't any images in your library.")})}var R=c("AdsMediaPanelViewFilters").filters.map(function(T){return babelHelpers["extends"]({},T,{count:I.getImageCount(T.view)})}).filter(function(T){return T.view!==c("AdsImageCollectionViews").views.INSTAGRAM&&T.count>0||T.view===c("AdsImageCollectionViews").views.INSTAGRAM&&this.props.useInstagramImageCreative}.bind(this)),S=this.props.filters?c("React").createElement("div",{className:"_5y6m"+(this.props.useMediaPanelRedesign?" _2wrx":"")},c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("AdsMediaPanelFilterBar.react").__setRef("AdsMediaPanel.react"),bootloadPlaceholder:c("React").createElement(c("SUISpinner.react"),{theme:c("SUIBusinessTheme")}),filterSet:this.state.filterSet,mediaType:"image",onChange:this._onFilterChange})):null;return c("React").createElement("div",{className:H},c("React").createElement(c("AdsMediaPanelViewFilterBar.react"),{availableViewFilters:R,instagramAccountLinked:!!this.props.instagramAccount&&this.props.instagramAccount.is_published,useMediaPanelRedesign:this.props.useMediaPanelRedesign,viewFilter:this.state.viewFilter,onViewFilterChoose:this._onViewFilterChoose}),S,P)},_onViewFilterChoose:function F(G){if(G.view===this.state.viewFilter.view)return;this.setState({viewFilter:G})},_onFilterChange:function F(G){this.setState({filterSet:G})},_onStockImageClick:function F(G){this.props.imageCollection.addImagesToBack_UNSAFE([G],c("AdsImageCollectionViews").views.STOCK);var H=this.props.imageHandlers.onClick;if(H)H.call(this.props.imageHandlers,G)},_renderStockTab:function F(G,H){return c("React").createElement(c("AdsShutterstockLibrary.react"),{className:H,defaultSearchText:this.props.defaultStockSearchText,disableTooSmallImages:this.props.disableTooSmallImages,imageContainerHeight:this._getTabContentHeight()-l,imageSpec:this.props.imageSpec,isClickEnabled:this._canSelectImages(),key:G,selectedImageList:this.props.selectedImageList,onImageClick:this._onStockImageClick})},_setSelectedImagesRowHeight:function F(){if(this.props.maxSelectedImages>1){var G=c("ReactDOM").findDOMNode(this.refs.selectedImagesCarouselContainer);this.setState({multiImageRowHeight:G.offsetHeight})}},scrollToImage:function F(G){this.refs.imageLib.scrollToImage(G)}});f.exports=E}),null);
__d("BUIAdoptionDialogConfirmButton.react",["BIGAdoptionConfig","BUIAdoptionButton.react","BUIAdoptionWrapper.react","React","SUIBusinessTheme","SUIButton.react","SUIModalConfirmButton.react","XUIDialogConfirmButton.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){return c("React").createElement(c("BUIAdoptionWrapper.react"),{enabled:c("BIGAdoptionConfig").sui_dialog_button_adoption,fallback:c("React").createElement(k,this.props)},c("React").createElement(c("SUIModalConfirmButton.react"),babelHelpers["extends"]({theme:c("SUIBusinessTheme")},this.props)))};j.getButtonSize=function(l){return c("BUIAdoptionButton.react").getButtonSize(l)};function j(){h.apply(this,arguments)}j.defaultProps=c("SUIButton.react").defaultProps;j.propTypes=c("SUIButton.react").propTypes;function k(l){var m=c("BUIAdoptionButton.react").convertSUIPropsToXUIProps(l);m.action=l.layerAction;return c("React").createElement(c("XUIDialogConfirmButton.react"),m)}f.exports=j}),null);
__d("AdsImageDialog.react",["cx","invariant","Promise","AdImageSpecsUtils","AdsDataAtom","AdsImageCollection","AdsImageCollectionViews","AdsImageLegacy","AdsImageSecondaryActions","AdsImageUploadStartDataAction","AdsImageUploadUploadSuccessDataAction","AdsMediaPanel.react","AdsMediaPanelTabs","AdsShutterstockImageByIDStore","AdsTestIDs","BUIAdoptionDialogCancelButton.react","BUIAdoptionDialogConfirmButton.react","BUIAdoptionHorizontalLayout.react","LayerFadeOnHide","LayerHideOnEscape","LayerHideOnTransition","LayerRemoveOnHide","React","XUIDialog.react","XUIDialogFooter.react","deepFreezeValue","emptyFunction","nullthrows"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m,n=c("React").PropTypes,o=[c("AdsMediaPanelTabs").UPLOAD,c("AdsMediaPanelTabs").LIBRARY,c("AdsMediaPanelTabs").STOCK],p={LayerFadeOnHide:c("LayerFadeOnHide"),LayerHideOnEscape:c("LayerHideOnEscape"),LayerHideOnTransition:c("LayerHideOnTransition"),LayerRemoveOnHide:c("LayerRemoveOnHide")},q=[];c("deepFreezeValue")(q);j=babelHelpers.inherits(r,c("React").PureComponent);k=j&&j.prototype;function r(A){k.constructor.call(this,A);s.call(this);var B=A.selectedImages.map(x);this.state={selectedLegacyImageList:B,userConfirmed:false,userSelected:false}}r.prototype.componentWillMount=function(){t(this.props.accountID,this.props.libraryImages,this.props.instagramAccount,this.props.instagramImages,this.props.pageImages||[],this.state.selectedLegacyImageList||[],{maxSelectedImages:this.props.maxSelectedImages})};r.prototype.componentWillReceiveProps=function(A){var B=A.accountID,C=A.libraryImages,D=A.instagramAccount,E=A.instagramImages,F=A.pageImages,G=A.maxSelectedImages;t(B,C,D,E,F,this.state.selectedLegacyImageList||[],{maxSelectedImages:G})};r.prototype.render=function(){var A=c("AdImageSpecsUtils").reduceMinImageSpec(this.props.specs),B=A.imageSpec,C=A.igSpecificImageSpec,D={onClick:this.$AdsImageLegacyDialog1,onDoubleClick:this.$AdsImageLegacyDialog2,onSecondaryAction:this.$AdsImageLegacyDialog3},E={onEnd:this.$AdsImageLegacyDialog4,onStart:this.$AdsImageLegacyDialog5},F=this.props.maxSelectedImages,G=y(this.props.accountID,{maxSelectedImages:F});return c("React").createElement(c("XUIDialog.react"),{behaviors:p,shown:true,width:860,onToggle:this.props.onCancel},c("React").createElement(c("AdsMediaPanel.react"),babelHelpers["extends"]({},this.props,{buttonStyle:"done",disableTooSmallImages:!!B,igSpecificImageSpec:C,imageCollection:G,imageHandlers:D,imageSpec:B,initialSelectedTab:this.props.initialTab,instagramAccount:this.props.instagramAccount,maxSelectedImages:F,selectedImageList:this.state.selectedLegacyImageList,stockSearchText:"",tabKeys:this.props.tabKeys||o,uploadHandlers:E})),c("React").createElement(c("XUIDialogFooter.react"),{className:"_5h0r"},c("React").createElement(c("BUIAdoptionHorizontalLayout.react"),null,c("React").createElement(c("BUIAdoptionDialogCancelButton.react"),null),c("React").createElement(c("BUIAdoptionDialogConfirmButton.react"),{"data-testid":c("AdsTestIDs").IMAGE_DIALOG_CLOSE_BUTTON,disabled:!this.state.userSelected||this.state.userConfirmed,use:"confirm",onClick:this.$AdsImageLegacyDialog6}))))};r.prototype.$AdsImageLegacyDialog10=function(A){return new(c("Promise"))(function(B,C){c("AdsShutterstockImageByIDStore").addLegacyCallback_DONT_USE_IN_NEW_CODE(c("nullthrows")(A.getStockImageID()),function(D){if(D.hasError()){this.setState({userConfirmed:false});i(0)}else if(D.hasValue())B(babelHelpers["extends"]({},A.toJSON(),{url:D.getValueEnforcing().get("preview_url")}))}.bind(this))}.bind(this))};r.prototype.$AdsImageLegacyDialog5=function(){c("AdsDataAtom").dispatch({action:{type:c("AdsImageUploadStartDataAction").actionType}})};r.propTypes={accountID:n.string.isRequired,allowMultiImage:n.bool,defaultStockSearchText:n.string,initialTab:n.string,instagramAccount:n.object,libraryImages:n.arrayOf(n.shape({url:n.string.isRequired,hash:n.oneOfType([n.string,n.oneOf([null,undefined])])})).isRequired,maxSelectedImages:n.number.isRequired,pageImages:n.arrayOf(n.instanceOf(c("AdsImageLegacy"))),selectedImages:n.arrayOf(n.shape({stockImageID:n.string,url:n.string,hash:n.string}).isRequired).isRequired,specs:n.arrayOf(n.shape({minWarningWidth:n.number.isRequired,minWarningHeight:n.number.isRequired})).isRequired,tabKeys:n.arrayOf(n.string),onCancel:n.func,onSelect:n.func.isRequired};r.defaultProps={defaultStockSearchText:"",initialTab:c("AdsMediaPanelTabs").LIBRARY,instagramAccount:null,instagramImages:[],libraryImages:[],maxSelectedImages:1,onSelect:c("emptyFunction"),pageFetchingNextPage:false,pageImages:[],pageImagesLoaded:true,pageOnEndReached:c("emptyFunction"),selectedImages:[],specs:[]};var s=function s(){__p&&__p();this.$AdsImageLegacyDialog7=function(A,B){var C=this.props.maxSelectedImages,D=y(this.props.accountID,{maxSelectedImages:C});D.setImageSelected(A,true);var E=this.state.selectedLegacyImageList.concat(A),F=E.length-C;if(F>0){for(var G=0;G<F;G++)D.setImageSelected(A,false);E=E.slice(F,E.length)}this.setState({selectedLegacyImageList:E,userSelected:true},B||c("emptyFunction"))}.bind(this);this.$AdsImageLegacyDialog3=function(A,B){if(B===c("AdsImageSecondaryActions").X)this.$AdsImageLegacyDialog8(A)}.bind(this);this.$AdsImageLegacyDialog8=function(A){var B=y(this.props.accountID,{maxSelectedImages:this.props.maxSelectedImages});B.setImageSelected(A,false);var C=this.state.selectedLegacyImageList.filter(function(D){return!D.equals(A)});this.setState({selectedLegacyImageList:C,userSelected:true})}.bind(this);this.$AdsImageLegacyDialog9=function(A){A.forEach(function(B){return delete B.crops});if(this.props.maxSelectedImages===1)A.length||i(0);this.props.onSelect(A)}.bind(this);this.$AdsImageLegacyDialog6=function(A){__p&&__p();var B,C=this;A&&A.preventDefault();var D=[];if(this.state.userSelected)(function(){__p&&__p();var E=[];C.state.selectedLegacyImageList.forEach(function(F){if(F.isStockImage())E.push(this.$AdsImageLegacyDialog10(F))}.bind(C));if(E.length>0)C.setState({userConfirmed:true});c("Promise").all(E).done(function(F){F.reverse();this.state.selectedLegacyImageList.forEach(function(G){if(G.isStockImage())D.push(F.pop());else D.push(G.toJSON())});this.$AdsImageLegacyDialog9(D)}.bind(C))})()}.bind(this);this.$AdsImageLegacyDialog1=function(A){var B=this.state.selectedLegacyImageList.some(function(C){return C.equals(A)});if(B){if(this.props.maxSelectedImages>1)this.$AdsImageLegacyDialog8(A)}else this.$AdsImageLegacyDialog7(A)}.bind(this);this.$AdsImageLegacyDialog2=function(A){var B=this.props.selectedImages;if(this.props.maxSelectedImages==1&&B.length){var C=x(B[0]);if(C&&C.equals(A))return;else if(C)this.$AdsImageLegacyDialog7(A,this.$AdsImageLegacyDialog6)}}.bind(this);this.$AdsImageLegacyDialog4=function(A){var B=A.map(function(D){return{hash:D.getAdAccountHash(),url:D.getUrl(),id:D.getID()}});c("AdsDataAtom").dispatch({action:{type:c("AdsImageUploadUploadSuccessDataAction").actionType,imagesData:{imagesData:B}}});var C=[];C=A.map(function(D){return{legacyImage:D,view:c("AdsImageCollectionViews").views.LIBRARY}});u(this.props.accountID,this.props.instagramAccount,C,false,{maxSelectedImages:this.maxSelectedImages});A.forEach(function(D){return this.$AdsImageLegacyDialog7(D)}.bind(this))}.bind(this)};function t(A,B,C,D,E,F,G){__p&&__p();var H=[];if(B.length)B.forEach(function(I){H.push({legacyImage:new(c("AdsImageLegacy"))(I),view:c("AdsImageCollectionViews").views.LIBRARY})});if(D.length)D.forEach(function(I){H.push({legacyImage:new(c("AdsImageLegacy"))({url:I.url,imageType:"INSTAGRAM"}),view:c("AdsImageCollectionViews").views.INSTAGRAM})});if(E.length)E.forEach(function(I){H.push({legacyImage:I,view:c("AdsImageCollectionViews").views.PAGE})});if(F.length)F.filter(function(I){return!!I.getAdAccountHash()}).forEach(function(I){H.push({legacyImage:I,view:c("AdsImageCollectionViews").views.LIBRARY})});if(H.length)u(A,C,H,true,G)}function u(A,B,C,D,E){__p&&__p();var F;if(C&&C.length)(function(){__p&&__p();var G=y(A,E),H=[],I=B?B.id:null,J=w[A];if(I!==J){w[A]=I;G.clearImagesByViewBitmask(c("AdsImageCollectionViews").views.INSTAGRAM)}C.forEach(function(L){if(!G.hasImage(L.legacyImage))H.push(L)});if(H.length){var K=[c("AdsImageCollectionViews").views.INSTAGRAM,c("AdsImageCollectionViews").views.LIBRARY,c("AdsImageCollectionViews").views.PAGE];K.map(function(L){var M=H.filter(function(N){return N.view===L}).map(function(N){return N.legacyImage});if(D)G.addImagesToBack(M,L);else G.addImagesToFront(M,L)})}})()}var v={},w={};function x(A){if(A)return new(c("AdsImageLegacy"))(A);else return null}function y(A,B){var C=v[A];if(!C){C=new(c("AdsImageCollection"))(B);v[A]=C}return C}l=babelHelpers.inherits(z,c("React").Component);m=l&&l.prototype;z.prototype.render=function(){return c("React").createElement(r,this.props)};function z(){l.apply(this,arguments)}f.exports=z}),null);
__d("AdsImageListDataManager",["Promise","AdsAPIAdAccountFields","AdsGraphAPI","AdsImageActions","AdsImageDataManagerFields","AssetLibraryAPIUtils.brands","AssetLibrarySearchUtils.brands","BizSiteIdentifier.brands"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=100;i.prototype.load=function(j){var k=j.accountID,l=j.sortBy,m=j.query,n=j.filterSet,o=n?c("AssetLibrarySearchUtils.brands").getAssetLibraryFilteringParams(n):null,p=c("AdsImageDataManagerFields").concat(c("AssetLibraryAPIUtils.brands").getTagFieldsForAudiences()),q={date_format:"U",fields:p,limit:h,sort:l,name:m,filtering:o,business_id:c("BizSiteIdentifier.brands").getBusinessID()};c("AdsGraphAPI").get(f.id).adaccount(k).edge(c("AdsAPIAdAccountFields").ADIMAGES).batched().get(q).done(function(r){return c("AdsImageActions").imageListLoaded(j,r.data,r.next)},function(r){return c("AdsImageActions").imagesLoadError(r)})};i.prototype.loadNextPage=function(j,k){k().then(function(l){return c("AdsImageActions").imageListLoaded(j,l.data,l.next)})};i.prototype.deleteChild=function(j,k,l){return new(c("Promise"))(function(m,n){c("AdsGraphAPI").get(f.id).adaccount(j).edge("adimages").batched().remove({hash:k}).done(function(o){return m(o)},function(o){var p=o.error_user_msg||o.message;l&&l(p);n(o)})})};i.prototype.deleteCreative=function(j){return new(c("Promise"))(function(k,l){c("AdsGraphAPI").get(f.id).object("adcreative",j).batched().remove().done(function(m){return k(m)},function(m){return l(m)})})};function i(){}f.exports=new i()}),null);
__d("AdsImageListStore",["Promise","AdsDataAtom","AdsImageActions","AdsImageImagesDeleteDataAction","AdsImageImagesEndReachedDataAction","AdsImageImagesInvalidatedDataAction","AdsImageListDataManager","AdsImageListLoadedDataAction","AssetLibraryAppConstants.brands","FluxLoadObjectStore","LoadObject"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("AssetLibraryAppConstants.brands").ACTION;h=babelHelpers.inherits(k,c("FluxLoadObjectStore"));i=h&&h.prototype;function k(l){i.constructor.call(this,l)}k.prototype.reduce=function(l,m){__p&&__p();var n=m.action;switch(n.actionType){case c("AdsImageImagesDeleteDataAction").actionType:l=this.$AdsImageListStore1(l,n);break;case c("AdsImageImagesInvalidatedDataAction").actionType:l=l.clear();break;case c("AdsImageListLoadedDataAction").actionType:l=this.$AdsImageListStore2(l,n);break;case c("AdsImageImagesEndReachedDataAction").actionType:l=this.$AdsImageListStore3(l,n);break;case j.ADD_TAG_TO_OBJECT_SUCCESS:l=l.clear();break}return l};k.prototype.$AdsImageListStore1=function(l,m){var n=m.imageListRecord,o=n.accountID,p=c("LoadObject").empty(),q=this.$AdsImageListStore4(l,n),r=q.imageList;this.$AdsImageListStore5(o,m.imageList,r);p=p.setValue({imageList:[]}).deleting();return l.set(n,p)};k.prototype.$AdsImageListStore2=function(l,m){var n=m.imageListRecord,o=this.$AdsImageListStore4(l,n),p=o.imageList,q=m.loadNextPage,r=c("LoadObject").empty(),s=m.images.map(function(t){return t.hash});p=p.concat(s);r=r.setValue({imageList:p,loadNextPage:q}).done();l=l.set(n,r);return l};k.prototype.$AdsImageListStore3=function(l,m){var n=m.imageListRecord,o=this.$AdsImageListStore4(l,n),p=o.imageList,q=o.loadNextPage;if(q){var r=c("LoadObject").empty();r=r.setValue({imageList:p,loadNextPage:undefined}).updating();l=l.set(n,r);this.$AdsImageListStore6(n,q)}return l};k.prototype.$AdsImageListStore4=function(l,m){var n=l.get(m)||c("LoadObject").empty(),o=n.getValue()||{},p=o.imageList||[],q=o.loadNextPage;return{imageList:p,loadNextPage:q}};k.prototype.$AdsImageListStore5=function(l,m){var n=c("Promise").all(m.map(function(o){return this.$AdsImageListStore7(l,o)}.bind(this)));n.then(function(o){return c("AdsImageActions").imagesInvalidated()})};k.prototype.$AdsImageListStore7=function(l,m){return c("AdsImageListDataManager").deleteChild(l,m)};k.prototype.$AdsImageListStore6=function(l,m){c("AdsImageListDataManager").loadNextPage(l,m)};k.prototype.__load=function(l){c("AdsImageListDataManager").load(l)};f.exports=new k(c("AdsDataAtom"))}),null);
__d("AdsImageListStoreRecord",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").Record({accountID:"",sortBy:"",query:"",filterSet:null});f.exports=h}),null);
__d("AdsInstagramAccountMediaQuery",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({accountID:undefined,contentType:undefined,limit:undefined,sortBy:""});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("AdsInstagramIdentityUtils",["AdsLoadStateUtils_LEGACY","GraphEdgeName","GraphInstagramUserFields","isEmpty"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(k,l,m,n){var o=!c("isEmpty")(m);if(k.business&&(o||n))return false;var p=l&&l.id,q=p&&(!m||m.every(function(k){return k.id!==p}));if(!l||!q)return!o;var r=!l[c("GraphInstagramUserFields").IS_PUBLISHED],s=k&&k.business&&l[c("GraphInstagramUserFields").IS_PUBLISHED];return!o&&!s||!!r}function i(k,l,m){__p&&__p();var n=k;if(!n)return true;if(!n.is_published){if(m)return true;if(l.length===0)return true}return l.some(function(o){return o.id===n.id})}function j(k,l,m){if(!c("AdsLoadStateUtils_LEGACY").isLoaded(l))return null;var n=l[c("GraphEdgeName").PAGE_BACKED_INSTAGRAM_ACCOUNTS],o=l[c("GraphEdgeName").INSTAGRAM_ACCOUNTS];if((!k||m)&&o&&o.data&&o.data.length>0)return o.data[0];if(n&&n.data&&n.data.length>0)return n.data[0];return null}f.exports={getEligibleInstagramAccount:j,isSelectedInstagramAccountAvailable:i,needToUsePageIdentity:h}}),null);
__d("AdsInstagramMediaListBatchLoadErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"INSTAGRAM_MEDIA_LIST.BATCH_LOAD_ERROR");f.exports=h}),null);
__d("AdsInstagramMediaListBatchLoadedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"INSTAGRAM_MEDIA_LIST.BATCH_LOADED");f.exports=h}),null);
__d("AdsInstagramMediaListPartialLoadDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"INSTAGRAM_MEDIA_LIST.PARTIAL_LOAD");f.exports=h}),null);
__d("AdsInstagramMediaSingleListLoadedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"INSTAGRAM_MEDIA_LIST.SINGLE_LOADED");f.exports=h}),null);
__d("AdsInstagramAccountMediaListActions",["AdsInstagramMediaListBatchLoadedDataAction","AdsInstagramMediaListBatchLoadErrorDataAction","AdsInstagramMediaListPartialLoadDataAction","AdsInstagramMediaSingleListLoadedDataAction"],(function a(b,c,d,e,f,g){"use strict";var h={mediaListLoaded:function i(j,k){c("AdsInstagramMediaSingleListLoadedDataAction").dispatch({data:{instagramUserID:j,media:k}})},mediaListBatchLoaded:function i(j){c("AdsInstagramMediaListBatchLoadedDataAction").dispatch({responses:j})},mediaListBatchLoadError:function i(j){c("AdsInstagramMediaListBatchLoadErrorDataAction").dispatch({errors:j})},mediaListPartialBatchLoaded:function i(j,k){c("AdsInstagramMediaListPartialLoadDataAction").dispatch({data:{instagramUserID:j,media:k}})}};f.exports=h}),null);
__d("AdsInstagramMediaListLoadedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_INSTAGRAM_MEDIA_LIST_LOADED");f.exports=h}),null);
__d("AdsInstagramAccountMediaListDataManager",["AdsBaseListDataManager","AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterFieldType","AdsGenericFilterOperator","AdsGenericFilterSet","AdsGraphAPI","AdsInstagramAccountMediaListActions","AdsInstagramMediaListLoadedDataAction","GraphAPIPaging","Map"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=100,k=["id","content_type","display_url","is_sub_media","taken_at","video_metadata","video_url"];h=babelHelpers.inherits(l,c("AdsBaseListDataManager"));i=h&&h.prototype;l.prototype.loadFor=function(m){c("AdsGraphAPI").get(f.id).object("instagram_object",m).edge("instagram_media").get({fields:["id"],limit:j}).then(c("GraphAPIPaging").eachPage(function(n){return this.$AdsInstagramAccountMediaListDataManager1(m,n.data)}.bind(this))).done(this.__handleSuccess.bind(this,["load"],m,null),this.__handleError.bind(this,["load"],m,null))};l.prototype.load=function(m,n){var o=m.accountID,p=m.contentType,q=m.limit,r=m.sortBy;q=q?q:j;var s=typeof p==="number"?new(c("AdsGenericFilterSet"))([new(c("AdsGenericFilter"))(new(c("AdsGenericFilterField"))("content_type",c("AdsGenericFilterFieldType").NUMBER),c("AdsGenericFilterOperator").EQUAL,p)]).toAPI():null,t={fields:k,filtering:s,limit:q,sort:r,after:n};c("AdsGraphAPI").get(f.id).object("instagram_object",o).edge("instagram_media").get(t).done(function(u){return c("AdsInstagramMediaListLoadedDataAction").dispatch({response:{query:m,mediaList:u.data,after:u.paging&&u.paging.next?u.paging.cursors.after:undefined}})},this.__handleError.bind(this,["load"],o,null))};l.prototype.$AdsInstagramAccountMediaListDataManager1=function(m,n){c("AdsInstagramAccountMediaListActions").mediaListPartialBatchLoaded(m,n)};l.prototype.__onBatchLoaded=function(m){c("AdsInstagramAccountMediaListActions").mediaListBatchLoaded(m)};l.prototype.__onBatchLoadError=function(m){c("AdsInstagramAccountMediaListActions").mediaListBatchLoadError(m)};function l(){h.apply(this,arguments)}f.exports=new l()}),null);
__d("AdsInstagramMediaListStore",["AdsDataAtom","AdsInstagramAccountMediaListDataManager","AdsInstagramMediaListLoadedDataAction","FluxLoadObjectStore","immutable","LoadObject"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxLoadObjectStore"));i=h&&h.prototype;j.prototype.reduce=function(k,l){var m=l.action;switch(m.type){case c("AdsInstagramMediaListLoadedDataAction").actionType:return this.$AdsInstagramMediaListStore1(k,m.response);default:return k}};j.prototype.$AdsInstagramMediaListStore1=function(k,l){var m=l.query,n=l.after,o=l.mediaList||[];if(k.get(m)&&k.get(m).hasValue())o=k.get(m).getValueEnforcing().mediaList.concat(o);return this.__handleOne(k,m,{mediaList:o,after:n})};j.prototype.__load=function(k){c("AdsInstagramAccountMediaListDataManager").load(k)};function j(){h.apply(this,arguments)}f.exports=new j(c("AdsDataAtom"))}),null);
__d("AdsInstagramAccountUsernameLoadErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AdsInstagramAccounts.USERNAME.LOAD_ERROR");f.exports=h}),null);
__d("AdsInstagramAccountUsernameLoadedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AdsInstagramAccounts.USERNAME.LOADED");f.exports=h}),null);
__d("AdsInstagramUsernameActions",["AdsInstagramAccountUsernameLoadedDataAction","AdsInstagramAccountUsernameLoadErrorDataAction"],(function a(b,c,d,e,f,g){"use strict";var h={usernameLoaded:function i(j){c("AdsInstagramAccountUsernameLoadedDataAction").dispatch({specs:j})},usernameLoadError:function i(j){c("AdsInstagramAccountUsernameLoadErrorDataAction").dispatch({errors:j})}};f.exports=h}),null);
__d("AdsInstagramUsernameDataManager",["AdsBaseDataManager","AdsGraphAPI","AdsInstagramUsernameActions","GraphInstagramUserFields"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AdsBaseDataManager"));i=h&&h.prototype;j.prototype.loadAll=function(k){k.forEach(function(l){return this.load(l)}.bind(this))};j.prototype.load=function(k){c("AdsGraphAPI").get(f.id).object("instagram_object",k).batched().get({fields:[c("GraphInstagramUserFields").HAS_PROFILE_PIC,c("GraphInstagramUserFields").ID,c("GraphInstagramUserFields").IS_PRIVATE,c("GraphInstagramUserFields").IS_PUBLISHED,c("GraphInstagramUserFields").PROFILE_PIC,c("GraphInstagramUserFields").USERNAME]}).done(function(l){return this.__handleSuccess(["load"],k,null,l)}.bind(this),function(l){return this.__handleError(["load"],k,null,l)}.bind(this))};j.prototype.__onBatchLoaded=function(k){c("AdsInstagramUsernameActions").usernameLoaded(k)};j.prototype.__onBatchLoadError=function(k){c("AdsInstagramUsernameActions").usernameLoadError(k)};function j(){h.apply(this,arguments)}f.exports=new j()}),null);
__d("AdsInstagramUsernameStore",["AdsBaseDataStore","AdsInstagramAccountBusinessBatchLoadedDataAction","AdsInstagramAccountErrorRefreshAllErrorsDataAction","AdsInstagramAccountPageBatchLoadedDataAction","AdsInstagramAccountUsernameLoadedDataAction","AdsInstagramAccountUsernameLoadErrorDataAction","AdsInstagramUsernameDataManager","AdsLoadState_LEGACY","GraphEdgeName","Map","getByPath"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AdsBaseDataStore"));i=h&&h.prototype;j.prototype.getDataManager=function(){return c("AdsInstagramUsernameDataManager")};j.prototype.__onDispatch=function(k){__p&&__p();var l=k.action;switch(l.type){case c("AdsInstagramAccountUsernameLoadedDataAction").actionType:this.__handleData(l.specs,c("AdsLoadState_LEGACY").LOADED);break;case c("AdsInstagramAccountUsernameLoadErrorDataAction").actionType:this.__handleData(l.errors,c("AdsLoadState_LEGACY").ERROR);break;case c("AdsInstagramAccountPageBatchLoadedDataAction").actionType:this.$AdsInstagramUsernameStore1(l.specs);break;case c("AdsInstagramAccountBusinessBatchLoadedDataAction").actionType:this.$AdsInstagramUsernameStore2(l.specs);break;case c("AdsInstagramAccountErrorRefreshAllErrorsDataAction").actionType:if(this.__invalidateAllErrors())this.__emitChange();break}};j.prototype.$AdsInstagramUsernameStore1=function(k){if(!k||k.size===0)return;var l=new(c("Map"))();k.forEach(function(m,n){var o=c("getByPath")(m,[c("GraphEdgeName").PAGE_BACKED_INSTAGRAM_ACCOUNTS,"data"],[]).concat(c("getByPath")(m,[c("GraphEdgeName").INSTAGRAM_ACCOUNTS,"data"],[]));o.forEach(function(p){return l.set(p.id,p)})});this.__handleData(l,c("AdsLoadState_LEGACY").LOADED)};j.prototype.$AdsInstagramUsernameStore2=function(k){if(!k||k.size===0)return;var l=new(c("Map"))();k.forEach(function(m,n){var o=c("getByPath")(m,["data"],[]);o.forEach(function(p){return l.set(p.id,p)})});this.__handleData(l,c("AdsLoadState_LEGACY").LOADED)};function j(){h.apply(this,arguments)}f.exports=new j()}),null);
__d("AdsPageImageListImagesEndReachedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"PAGE_IMAGE_LIST.IMAGES_END_REACHED");f.exports=h}),null);
__d("AdsPageImageListImagesLoadedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"PAGE_IMAGE_LIST.IMAGES_LOADED");f.exports=h}),null);
__d("PageImageListActions",["AdsPageImageListImagesEndReachedDataAction","AdsPageImageListImagesLoadedDataAction"],(function a(b,c,d,e,f,g){"use strict";var h={imageListLoaded:function i(j,k,l){c("AdsPageImageListImagesLoadedDataAction").dispatch({data:{imageListRecord:j,imageList:k,loadNextPage:l}})},imagesEndReached:function i(j){c("AdsPageImageListImagesEndReachedDataAction").dispatch({data:{imageListRecord:j}})}};f.exports=h}),null);
__d("PageImageListDataManager",["AdsGraphAPI","AdsImageLegacy","AssetLibraryAPIUtils.brands","AssetLibrarySearchUtils.brands","BizSiteIdentifier.brands","PageImageListActions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();h.prototype.load=function(i){var j=i.pageID,k=i.sortBy,l=i.query,m=i.filterSet,n=m?c("AssetLibrarySearchUtils.brands").getAssetLibraryFilteringParams(m):null,o=["images","picture","id"];o=o.concat(c("AssetLibraryAPIUtils.brands").getTagFieldsForAudiences());var p={fields:o,type:"uploaded",name:l,sort:k,filtering:n,business_id:c("BizSiteIdentifier.brands").getBusinessID()};c("AdsGraphAPI").get(f.id).object("page",j).edge("photos").get(p).done(function(q){var r=q.next?q.next.bind(q):null;c("PageImageListActions").imageListLoaded(i,this.$PageImageListDataManager1(q.data),r)}.bind(this))};h.prototype.loadNextPage=function(i,j){j().done(function(k){var j=k.next?k.next.bind(k):null;c("PageImageListActions").imageListLoaded(i,this.$PageImageListDataManager1(k.data),j)}.bind(this))};h.prototype.$PageImageListDataManager1=function(i){return i.map(function(j){var k=j.images.reduce(function(l,m){return l.width<m.width?m:l});return new(c("AdsImageLegacy"))({height:k.height,url:k.source,url_128:j.picture,width:k.width,id:j.id,imageType:"PAGE",business_object_tags:j.business_object_tags})})};function h(){}f.exports=new h()}),null);
__d("PageImageListStore",["AdsDataAtom","AdsPageImageListImagesEndReachedDataAction","AdsPageImageListImagesLoadedDataAction","AssetLibraryAppConstants.brands","FluxLoadObjectStore","LoadObject","PageImageListDataManager"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("AssetLibraryAppConstants.brands").ACTION;h=babelHelpers.inherits(k,c("FluxLoadObjectStore"));i=h&&h.prototype;k.prototype.reduce=function(l,m){var n=m.action;switch(n.type){case c("AdsPageImageListImagesLoadedDataAction").actionType:return this.$PageImageListStore1(l,n.data);case c("AdsPageImageListImagesEndReachedDataAction").actionType:return this.$PageImageListStore2(l,n.data);case j.ADD_TAG_TO_OBJECT_SUCCESS:l=l.clear();return l;default:return l}};k.prototype.$PageImageListStore3=function(l,m){var n=l.get(m)||c("LoadObject").empty(),o=n.getValue()||{},p=o.imageList||[],q=o.loadNextPage;return{imageList:p,loadNextPage:q}};k.prototype.$PageImageListStore2=function(l,m){var n=m.imageListRecord,o=this.$PageImageListStore3(l,n),p=o.imageList,q=o.loadNextPage;if(q){var r=c("LoadObject").empty();r=r.setValue({imageList:p,loadNextPage:undefined}).updating();l=l.set(n,r);this.$PageImageListStore4(n,q)}return l};k.prototype.$PageImageListStore1=function(l,m){var n=m.imageListRecord,o=m.imageList,p=m.loadNextPage,q=this.$PageImageListStore3(l,n).imageList;o=q.concat(o);var r=c("LoadObject").empty();r=r.setValue({imageList:o,loadNextPage:p}).done();l=l.set(n,r);return l};k.prototype.$PageImageListStore4=function(l,m){c("PageImageListDataManager").loadNextPage(l,m)};k.prototype.__load=function(l){c("PageImageListDataManager").load(l)};function k(){h.apply(this,arguments)}f.exports=new k(c("AdsDataAtom"))}),null);
__d("PageImageListPagingStore",["AdsDataAtom","FluxDerivedStore","PageImageListActions","PageImageListStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxDerivedStore"));i=h&&h.prototype;j.prototype.__getData=function(k){return c("PageImageListStore").get(k)};j.prototype.__computeResult=function(k,l){var m=l.getValue()||{},n=m.imageList||[],o=l.hasValue(),p=l.isUpdating();return{fetchingNextPage:p,imagesLoaded:o,imageList:n,onEndReached:this.$PageImageListPagingStore1(k)}};j.prototype.__getStores=function(){return[c("PageImageListStore")]};j.prototype.$PageImageListPagingStore1=function(k){return function(){c("PageImageListActions").imagesEndReached(k)}};function j(){h.apply(this,arguments)}f.exports=new j(c("AdsDataAtom"))}),null);
__d("PageImageListStoreRecord",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").Record({pageID:"",sortBy:"",query:"",filterSet:null});f.exports=h}),null);
__d("AdsImageDialogContainer.react",["AdsFluxContainer","AdsImageDialog.react","AdsImageListStore","AdsImageListStoreRecord","AdsImageStore","AdsInstagramAccountMediaQuery","AdsInstagramIdentityUtils","AdsInstagramMediaListStore","AdsInstagramUsernameStore","AdsLoadStateUtils_LEGACY","AdsPageInstagramAccountStore","InstagramSlipstreamMediaContentType","PageImageListPagingStore","PageImageListStoreRecord","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.getStores=function(){return[c("AdsInstagramMediaListStore"),c("AdsInstagramUsernameStore"),c("AdsPageInstagramAccountStore"),c("PageImageListPagingStore")]};k.calculateState=function(l,m){__p&&__p();var n=m.accountID,o=new(c("AdsImageListStoreRecord"))({accountID:n}),p=c("AdsImageListStore").get(o),q=p.getValue()||{},r=q.imageList||[],s=c("AdsImageStore").getAllFor(m.accountID,r),t=c("AdsLoadStateUtils_LEGACY").getLoadedValues(s),u=m.pageID?c("AdsPageInstagramAccountStore").getPageLinkOrUnlinkAccountErrors(m.pageID):[],v=new(c("PageImageListStoreRecord"))({pageID:m.pageID}),w=m.pageID?c("PageImageListPagingStore").get(v):{},x=null,y=null;if(m.selectedInstagramAccountID){y=c("AdsInstagramUsernameStore").get(m.selectedInstagramAccountID);if(c("AdsLoadStateUtils_LEGACY").isLoaded(y))x=y}else if(m.pageID){y=c("AdsPageInstagramAccountStore").get(m.pageID);x=c("AdsInstagramIdentityUtils").getEligibleInstagramAccount(false,y)}var z=y?y.loadState:null,A=[];if(m.useInstagramImageCreative&&x&&x.id){var B=new(c("AdsInstagramAccountMediaQuery"))({accountID:x.id,contentType:c("InstagramSlipstreamMediaContentType").MEDIA_CONTENT_TYPE_PHOTO}),C=c("AdsInstagramMediaListStore").get(B);if(C.hasValue())C.getValueEnforcing().mediaList.forEach(function(D){A.push({url:D.display_url})})}return{instagramAccount:x,instagramAccountLoadState:z,instagramImages:A,libraryImages:t,pageLinkOrUnlinkAccountError:u,pageImages:w.imageList,pageImagesLoaded:w.imagesLoaded,pageFetchingNextPage:w.fetchingNextPage,pageOnEndReached:w.onEndReached}};k.prototype.render=function(){return c("React").createElement(c("AdsImageDialog.react"),babelHelpers["extends"]({},this.props,{instagramAccount:this.state.instagramAccount,instagramAccountLoadState:this.state.instagramAccountLoadState,instagramImages:this.state.instagramImages,libraryImages:this.props.libraryImages||this.state.libraryImages,pageFetchingNextPage:this.state.pageFetchingNextPage,pageImages:this.state.pageImages,pageImagesLoaded:this.state.pageImagesLoaded,pageLinkOrUnlinkAccountError:this.state.pageLinkOrUnlinkAccountError,pageOnEndReached:this.state.pageOnEndReached}))};function k(){h.apply(this,arguments)}f.exports=c("AdsFluxContainer").create(k,{withProps:true,name:f.id})}),null);
__d("AdsImageSelectorV2ConfigUtils",["AdsImageSelectorV2Types","immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("AdsImageSelectorV2Types").AdsImageSource;function i(n,o,p){return{type:h.ACCOUNT_IMAGE,accountImageSourceProps:{accountID:n,imageSpecs:o,usePhotoArrange:p}}}function j(n,o,p){return{type:h.PAGE_IMAGE,pageImageSourceProps:{pageID:n,imageSpecs:o,usePhotoArrange:p}}}function k(n){return{type:h.STOCK_IMAGE,stockImageSourceProps:{defaultSearchText:n}}}function l(n,o,p,q){return{type:h.UPLOAD_IMAGE,uploadImageSourceProps:{accountID:n,allowMultiImage:p,imageSpec:o,useMediaPanelRedesign:q}}}function m(n,o,p){return{type:h.INSTAGRAM_IMAGE,instagramImageSourceProps:{instagramAccountID:n,imageSpecs:o,usePhotoArrange:p}}}f.exports={getAccountImageConfig:i,getInstagramImageConfig:m,getPageImageConfig:j,getStockImageConfig:k,getUploadImageConfig:l}}),null);
__d("AdsImageSelectorV2AddSelectedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_IMAGE_SELECTOR_V2_ADD_SELECTED");f.exports=h}),null);
__d("AdsImageSelectorV2ClearSelectedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_IMAGE_SELECTOR_V2_CLEAR_SELECTED");f.exports=h}),null);
__d("AdsImageSelectorV2RemoveSelectedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_IMAGE_SELECTOR_V2_REMOVE_SELECTED");f.exports=h}),null);
__d("AdsImageSelectorV2SetMaxSelectedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_IMAGE_SELECTOR_V2_SET_MAX_SELECTED");f.exports=h}),null);
__d("AdsImageSelectorV2SetSelectedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_IMAGE_SELECTOR_V2_SET_SELECTED");f.exports=h}),null);
__d("AdsImageSelectorV2SetSelectedSourceTypeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_IMAGE_SELECTOR_V2_SET_SELECTED_SOURCE_TYPE");f.exports=h}),null);
__d("AdsImageSelectorV2SetSourceTypesDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_IMAGE_SELECTOR_V2_SET_SOURCE_TYPES");f.exports=h}),null);
__d("AdsImageSelectorV2StateStoreRecord",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({maxSelectedImageIDs:1,selectedImageIDs:c("immutable").OrderedSet(),selectedSourceType:null,sourceTypes:null});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("AdsImageSelectorV2StateStore",["invariant","AdsDataAtom","AdsImageIDClasses","AdsImageSelectorV2AddSelectedDataAction","AdsImageSelectorV2ClearSelectedDataAction","AdsImageSelectorV2RemoveSelectedDataAction","AdsImageSelectorV2SetMaxSelectedDataAction","AdsImageSelectorV2SetSelectedDataAction","AdsImageSelectorV2SetSelectedSourceTypeDataAction","AdsImageSelectorV2SetSourceTypesDataAction","AdsImageSelectorV2StateStoreRecord","AdsImageSelectorV2Types","AdsImageUploadUploadSuccessDataAction","FluxReduceStore","immutable"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("AdsImageIDClasses").AdsImageID,l=c("AdsImageSelectorV2Types").AdsImageSource;i=babelHelpers.inherits(m,c("FluxReduceStore"));j=i&&i.prototype;m.prototype.getInitialState=function(){return new(c("AdsImageSelectorV2StateStoreRecord"))()};m.prototype.getSelectedImageIDs=function(){return this.getState().get("selectedImageIDs")};m.prototype.getMaxSelectedImageIDs=function(){return this.getState().get("maxSelectedImageIDs")};m.prototype.getSourceTypes=function(){return this.getState().get("sourceTypes")};m.prototype.getSelectedSourceType=function(){return this.getState().get("selectedSourceType")};m.prototype.reduce=function(n,o){__p&&__p();var p=o.action;switch(p.type){case c("AdsImageSelectorV2AddSelectedDataAction").actionType:return this.$AdsImageSelectorV2StateStore1(n,p.imageID);case c("AdsImageSelectorV2RemoveSelectedDataAction").actionType:return this.$AdsImageSelectorV2StateStore2(n,p.imageID);case c("AdsImageSelectorV2SetSelectedDataAction").actionType:n=this.$AdsImageSelectorV2StateStore3(n,p.max||n.get("maxSelectedImageIDs"));return this.$AdsImageSelectorV2StateStore4(n,p.imageIDs);case c("AdsImageSelectorV2SetMaxSelectedDataAction").actionType:return this.$AdsImageSelectorV2StateStore3(n,p.max);case c("AdsImageSelectorV2ClearSelectedDataAction").actionType:return this.$AdsImageSelectorV2StateStore4(n,c("immutable").OrderedSet());case c("AdsImageSelectorV2SetSourceTypesDataAction").actionType:n=this.$AdsImageSelectorV2StateStore5(n,p.sourceTypes);n=this.$AdsImageSelectorV2StateStore6(n,p.selectedSourceType||n.get("selectedSourceType"));return this.$AdsImageSelectorV2StateStore7(n);case c("AdsImageSelectorV2SetSelectedSourceTypeDataAction").actionType:n=this.$AdsImageSelectorV2StateStore6(n,p.selectedSourceType);return this.$AdsImageSelectorV2StateStore7(n);case c("AdsImageUploadUploadSuccessDataAction").actionType:if(p.imageData!==undefined){n=this.$AdsImageSelectorV2StateStore8(n,p.imageData);return this.$AdsImageSelectorV2StateStore9(n)}return n;default:return n}};m.prototype.$AdsImageSelectorV2StateStore1=function(n,o){var p=n.get("selectedImageIDs"),q=this.$AdsImageSelectorV2StateStore10(p.add(o),n.get("maxSelectedImageIDs"));return p.size===q.size?n:n.set("selectedImageIDs",q)};m.prototype.$AdsImageSelectorV2StateStore2=function(n,o){var p=n.get("selectedImageIDs"),q=p.remove(o);return p===q?n:n.set("selectedImageIDs",q)};m.prototype.$AdsImageSelectorV2StateStore4=function(n,o){o=this.$AdsImageSelectorV2StateStore10(o,n.get("maxSelectedImageIDs"));var p=n.get("selectedImageIDs");return c("immutable").is(p,o)?n:n.set("selectedImageIDs",o)};m.prototype.$AdsImageSelectorV2StateStore3=function(n,o){var p=n.get("maxSelectedImageIDs");if(p===o)return n;else{n=n.set("maxSelectedImageIDs",o);return n.update("selectedImageIDs",function(q){return this.$AdsImageSelectorV2StateStore10(q,o)}.bind(this))}};m.prototype.$AdsImageSelectorV2StateStore5=function(n,o){var p=n.get("sourceTypes");return c("immutable").is(p,o)?n:n.set("sourceTypes",o)};m.prototype.$AdsImageSelectorV2StateStore6=function(n,o){var p=n.get("selectedSourceType");return p===o?n:n.set("selectedSourceType",o)};m.prototype.$AdsImageSelectorV2StateStore8=function(n,o){var p=k.fromAcountAndHash(o.accountID,o.hash);if(n.maxSelectedImageIDs!==1)return this.$AdsImageSelectorV2StateStore1(n,p);else{n=this.$AdsImageSelectorV2StateStore4(n,c("immutable").OrderedSet([p]));if(this.$AdsImageSelectorV2StateStore11(n,l.ACCOUNT_IMAGE))n=this.$AdsImageSelectorV2StateStore6(n,l.ACCOUNT_IMAGE);return n}};m.prototype.$AdsImageSelectorV2StateStore10=function(n,o){if(0<=o&&o<n.size)return n.slice(0,o);return n};m.prototype.$AdsImageSelectorV2StateStore11=function(n,o){var p=n.get("sourceTypes");return!!p&&!!p.find(function(q){return q===o})};m.prototype.$AdsImageSelectorV2StateStore9=function(n){var o=n.get("selectedImageIDs").size,p=n.get("maxSelectedImageIDs");if(0<=p&&p<o)return this.$AdsImageSelectorV2StateStore4(n,n.get("selectedImageIDs").slice(0,p));return n};m.prototype.$AdsImageSelectorV2StateStore7=function(n){var o=n.get("selectedSourceType");if(o)this.$AdsImageSelectorV2StateStore11(n,o)||h(0);return n};function m(){i.apply(this,arguments)}f.exports=new m(c("AdsDataAtom"))}),null);
__d("AdsImageSourceImageBoxTypes",["AdsSimpleImage"],(function a(b,c,d,e,f,g){"use strict";var h={TINY:new(c("AdsSimpleImage"))({height:64,width:120}),SMALL:new(c("AdsSimpleImage"))({height:72,width:136}),MEDIUM:new(c("AdsSimpleImage"))({height:84,width:180}),LARGE:new(c("AdsSimpleImage"))({height:120,width:290})};f.exports={ImageSizes:h}}),null);
__d("AdsImageSourceImageBox.react",["cx","errorCode","ix","AdsError","AdsErrorUtils","AdsFBIconDownsized.react","AdsImageLegacy","AdsImageSelectorV2Types","AdsImageSourceImageBoxTypes","AdsImageUtils","AdsImageValidation","AdsInstagramErrorUtils","AdsInstagramFields","AdsPageTypes","AdsSimpleImage","AdsStockImageSourceUtils","AdsTestIDs","AdsValidationIcon.react","AdsValidationIconType","BackgroundImage.react","BIGAdoptionConfig","CenteredContainer.react","ContextualDialog.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","GradientBox.react","Image.react","immutable","Link.react","LoadObject","React","SphericalMediaGyroIcon.react","SUIBusinessTheme","SUISpinner.react","asset","emptyFunction","fbglyph","getElementPosition","getViewportDimensions","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("AdsImageSelectorV2Types").ImageSourceImageSpec,n=c("AdsImageSourceImageBoxTypes").ImageSizes,o=c("AdsStockImageSourceUtils").estimatePreviewDimensions,p=c("AdsInstagramFields").INSTAGRAM_SPECIFIC_IMAGE_ERROR_KEYS,q=function q(B){var C=B.image,D=B.imageSize,E=B.size;return c("AdsImageUtils").renderScaledCroppedImage(C.url,E.width,E.height,D?D.width:C.width,D?D.height:C.height,null)};function r(B){var C=B.image,D=B.imageSize,E=B.size,F=B.isScaledCropped?c("React").createElement(q,{image:C,imageSize:D,size:E}):c("React").createElement(c("BackgroundImage.react"),{backgroundPosition:"0px",backgroundSize:"cover",height:E.height,loadingIndicatorStyle:"small",optimizeResizeSpeed:true,src:C.url,width:E.width});return F}function s(B){return c("React").createElement(c("CenteredContainer.react"),{horizontal:true,style:{height:B.size.height,width:B.size.width},vertical:true},c("React").createElement(c("SUISpinner.react"),{theme:c("SUIBusinessTheme")}))}function t(B){var C=B.previewImage.width,D=B.previewImage.height,E=B.previewImage.url,F={height:String(D)+"px",width:String(C)+"px"},G="right",H=B.contextRef();if(H){var I=c("getElementPosition")(H),J=c("getViewportDimensions")(),K=I.x,L=J.width-I.x-I.width;G=K>L?"left":"right"}return c("React").createElement(c("ContextualDialog.react"),{autoFocus:false,contextRef:B.contextRef,position:G,shown:B.isHovering,style:F},c("React").createElement(c("BackgroundImage.react"),{backgroundPosition:"0px",backgroundSize:"cover",height:D,loadingIndicatorStyle:"large",optimizeResizeSpeed:true,src:E,width:C}))}function u(B){if(B.hasError||B.isHovering)return c("React").createElement(c("FBOverlayElement.react"),{vertical:"bottom"},c("React").createElement(c("GradientBox.react"),{className:"_3129",color:"black",direction:"up"}));else return null}function v(B){var C=w(B.fullSizeImageLoadObject,B.previewImageLoadObject);if(C&&(B.isHovering||B.hasError)){var D=C.width+" \xd7 "+C.height;return c("React").createElement(c("FBOverlayElement.react"),{vertical:"bottom"},c("React").createElement("div",{className:"_368_"},D))}else return null}function w(B,C){var D=C&&C.hasValue()&&C.getValueEnforcing(),E=B.hasValue()&&!B.isLoading()&&!B.isUpdating();if(E)return B.getValueEnforcing();else if(D)return o(D);else return null}function x(B){if(!B.errors||B.errors.length===0)return null;var C=c("AdsErrorUtils").getLevelForErrors(B.errors),D=c("AdsErrorUtils").getAllErrorsAtLevel(B.errors,C);return c("React").createElement(c("FBOverlayElement.react"),{vertical:"bottom"},c("React").createElement("div",{className:"_368_"},c("React").createElement(c("AdsValidationIcon.react"),{className:"_273x",isError:C===c("AdsError").Level.WARN,messages:z(D,C),type:C===c("AdsError").Level.WARN?c("AdsValidationIconType").ERROR_IMAGE:c("AdsValidationIconType").WARNING})))}function y(B){if(!B.isRemovable)return null;return c("React").createElement(c("FBOverlayElement.react"),{horizontal:"right",vertical:"top"},c("React").createElement(c("Link.react"),{className:"_4lwb",onClick:B.onRemove},c("React").createElement(c("AdsFBIconDownsized.react"),{src:c("BIGAdoptionConfig").ads_fbicon_adoption?j("363587"):j("114707")})))}function z(B,C){var D=B.filter(function(G){return!p.has(G.key)}).map(function(G){return G.message}),E=B.filter(function(G){return p.has(G.key)}),F=void 0;if(E.length>0)F=c("AdsInstagramErrorUtils").getCombinedErrorMessage(E,C);F&&D.push(F);return D}k=babelHelpers.inherits(A,c("React").PureComponent);l=k&&k.prototype;function A(){var B,C;for(var D=arguments.length,E=Array(D),F=0;F<D;F++)E[F]=arguments[F];return C=(B=l.constructor).call.apply(B,[this].concat(E)),this.state={errors:[],isHovering:false,isSelectable:true},this.$AdsImageSourceImageBox2=function(){return this.setState({isHovering:true})}.bind(this),this.$AdsImageSourceImageBox3=function(){return this.setState({isHovering:false})}.bind(this),this.$AdsImageSourceImageBox4=function(){return this.refs.image}.bind(this),C}A.prototype.componentWillMount=function(){this.$AdsImageSourceImageBox1(this.props)};A.prototype.componentWillReceiveProps=function(B){this.$AdsImageSourceImageBox1(B,this.props)};A.prototype.$AdsImageSourceImageBox5=function(){if(!this.props.isSelected)return null;return c("React").createElement(c("FBOverlayElement.react"),{horizontal:"right",vertical:"top"},c("React").createElement("div",{className:"_2sd4"},c("React").createElement(c("Image.react"),{src:j("22312")})))};A.prototype.$AdsImageSourceImageBox6=function(){var B=this.props.fullSizeImageLoadObject.hasValue()&&this.props.fullSizeImageLoadObject.getValueEnforcing().isSphericalPhoto;if(!B)return null;return c("React").createElement(c("FBOverlayElement.react"),null,c("React").createElement("span",null,c("React").createElement(c("SphericalMediaGyroIcon.react"),{className:"_ngy"})))};A.prototype.$AdsImageSourceImageBox1=function(B,C){__p&&__p();var D=!C||B.imageSpecs!==C.imageSpecs;if(D){var E=B.imageSpecs?B.imageSpecs.toArray():[],F=w(B.fullSizeImageLoadObject,B.previewImageLoadObject),G=c("AdsImageValidation").getAdsErrorsForImage(new(c("AdsImageLegacy"))(F),E);this.setState({errors:G});if(G&&G.length>0){var H=E[0]&&E[0].placement!==c("AdsPageTypes").INSTAGRAM_STREAM&&E[0].placement!==c("AdsPageTypes").INSTAGRAM_STORY&&G.every(function(I){return I.key!==1487015});this.setState({isSelectable:H})}}};A.prototype.render=function(){__p&&__p();var B=this.props.imageLoadObject,C=this.props.size,D=void 0;if(this.props.previewImageLoadObject&&this.props.previewImageLoadObject.hasValue())D=c("React").createElement(t,{contextRef:this.$AdsImageSourceImageBox4,isHovering:this.state.isHovering,previewImage:this.props.previewImageLoadObject.getValueEnforcing()});var E=this.state.errors&&this.state.errors.length>0,F=this.state.isSelectable?this.props.onClick:null,G=this.props.isDisabled?c("React").createElement("div",{className:"_312b"}):null;if(B.hasValue()){var H=B.getValueEnforcing();if(H&&H.url==null){var I=this.props.fullSizeImageLoadObject;if(I&&I.hasValue())H=I.getValueEnforcing()}var J=w(this.props.fullSizeImageLoadObject,this.props.previewImageLoadObject);return c("React").createElement("div",{className:c("joinClasses")("_345u"+(this.props.isSelected?" _312f":""),this.props.className),ref:"image",onMouseEnter:this.$AdsImageSourceImageBox2,onMouseLeave:this.$AdsImageSourceImageBox3},c("React").createElement(c("FBOverlayContainer.react"),null,c("React").createElement(c("FBOverlayBase.react"),null,c("React").createElement(c("Link.react"),{"data-testid":c("AdsTestIDs").IMAGE_BOX,onClick:F},c("React").createElement(c("FBOverlayContainer.react"),null,c("React").createElement(c("FBOverlayBase.react"),null,c("React").createElement(r,{image:H,imageSize:J,isScaledCropped:this.props.isScaledCropped,size:C})),this.$AdsImageSourceImageBox5(),this.$AdsImageSourceImageBox6(),c("React").createElement(c("FBOverlayElement.react"),null,c("React").createElement(u,{hasError:E,isHovering:this.state.isHovering})),c("React").createElement(c("FBOverlayElement.react"),null,c("React").createElement(v,{fullSizeImageLoadObject:this.props.fullSizeImageLoadObject,hasError:E,isHovering:this.state.isHovering,previewImageLoadObject:this.props.previewImageLoadObject})),c("React").createElement(c("FBOverlayElement.react"),null,c("React").createElement(x,{errors:this.state.errors}))))),c("React").createElement(c("FBOverlayElement.react"),null,c("React").createElement(y,{isRemovable:this.props.isRemovable,onRemove:this.props.onRemove}))),D,G)}return c("React").createElement("div",{className:"_345u"},c("React").createElement(s,{size:C}))};A.defaultProps={isDisabled:false,isRemovable:false,isScaledCropped:false,isSelected:false,size:n.MEDIUM,onClick:c("emptyFunction"),onRemove:c("emptyFunction")};f.exports=A}),null);
__d("AdsImageSourceImageBoxContainer.react",["AdsFluxContainer","AdsImageIDClasses","AdsImageInfoStore","AdsImageSelectorV2StateStore","AdsImageSelectorV2Types","AdsImageSourceImageBox.react","AdsImageSourceImageBoxTypes","AdsSimpleImage","immutable","LoadObject","React","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("AdsImageIDClasses").AdsShutterstockImageID,k=c("AdsImageSelectorV2Types").ImageSourceImageSpec,l=c("AdsImageSourceImageBoxTypes").ImageSizes;function m(p){var q=c("AdsImageInfoStore").getHighResThumbnailURL(p).isEmpty()?c("AdsImageInfoStore").getThumbnailURL(p):c("AdsImageInfoStore").getHighResThumbnailURL(p);return q}function n(p){if(p instanceof j)return c("LoadObject").empty();return c("AdsImageInfoStore").getFullSize(p)}h=babelHelpers.inherits(o,c("React").PureComponent);i=h&&h.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=i.constructor).call.apply(p,[this].concat(s)),this.$AdsImageSourceImageBoxContainer1=function(){this.props.onClick(this.state.isSelected,this.props.imageID)}.bind(this),this.$AdsImageSourceImageBoxContainer2=function(){this.props.onRemove(this.props.imageID)}.bind(this),q}o.getStores=function(){return[c("AdsImageInfoStore"),c("AdsImageSelectorV2StateStore")]};o.calculateState=function(p,q){var r=q.imageID,s=void 0;if(r instanceof j)s=c("AdsImageInfoStore").getPreview(r);var t=n(r),u=q.useFullsize?t:m(r),v=c("AdsImageSelectorV2StateStore").getSelectedImageIDs(),w=c("AdsImageSelectorV2StateStore").getMaxSelectedImageIDs(),x=q.isSelected===undefined?v.has(r):q.isSelected,y=q.isDisabled===undefined?!x&&w!==1&&v.size>=w:q.isDisabled;return{fullSizeImageLoadObject:t,imageLoadObject:u.isEmpty()||u.isLoading()&&t.hasValue()?t:u,isDisabled:y,isSelected:x,previewImageLoadObject:s}};o.prototype.render=function(){return c("React").createElement(c("AdsImageSourceImageBox.react"),{className:this.props.className,fullSizeImageLoadObject:this.state.fullSizeImageLoadObject,imageID:this.props.imageID,imageLoadObject:this.state.imageLoadObject,imageSpecs:this.props.imageSpecs,isDisabled:this.state.isDisabled,isRemovable:this.props.isRemovable,isScaledCropped:this.props.isScaledCropped,isSelected:this.state.isSelected,previewImageLoadObject:this.state.previewImageLoadObject,size:this.props.size,onClick:this.$AdsImageSourceImageBoxContainer1,onRemove:this.$AdsImageSourceImageBoxContainer2})};o.defaultProps={isRemovable:false,useFullsize:false,size:l.MEDIUM,onClick:c("emptyFunction"),onRemove:c("emptyFunction")};f.exports=c("AdsFluxContainer").create(o,{withProps:true,name:f.id})}),null);
__d("AdsImageSourceMetadata",["ix","fbt","AdsImageSelectorV2Types","BIGAdoptionConfig","immutable","React","SUIGlyphIcon.react","asset","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k=c("AdsImageSelectorV2Types").AdsImageSource,l={name:i._("Account Images"),icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcActive:h("121768"),srcDefault:h("123370")})},m={name:i._("Page Images"),icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcActive:h("121298"),srcDefault:h("122900")})},n={name:i._("Stock Images"),icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcActive:c("BIGAdoptionConfig").ads_fbicon_adoption?h("386075"):h("121778"),srcDefault:c("BIGAdoptionConfig").ads_fbicon_adoption?h("386074"):h("123380")})},o={name:i._("Upload Images"),icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcActive:h("121765"),srcDefault:h("123367")})},p={name:i._("Instagram"),icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcActive:h("120647"),srcDefault:c("BIGAdoptionConfig").ads_fbicon_adoption?h("403152"):h("122249")})},q=c("immutable").Map((j={},j[k.ACCOUNT_IMAGE]=l,j[k.STOCK_IMAGE]=n,j[k.PAGE_IMAGE]=m,j[k.EXTERNAL_IMAGE]=n,j[k.UPLOAD_IMAGE]=o,j[k.INSTAGRAM_IMAGE]=p,j));f.exports=q}),null);
__d("AdsImageSelectorV2.react",["cx","fbt","invariant","AdsArrowedCarouselEnhanced.react","AdsEditInlinePostWarning.react","AdsImageSelectorV2Types","AdsImageSourceImageBoxContainer.react","AdsImageSourceImageBoxTypes","AdsImageSourceMetadata","BootloadedComponent.react","CenteredContainer.react","immutable","JSResource","React","SUIBusinessTheme","SUISpinner.react","SUITabGroup.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("AdsImageSelectorV2Types").AdsImageSource,n=c("AdsImageSourceImageBoxTypes").ImageSizes;function o(r){var s=r.source,t=c("React").createElement(c("CenteredContainer.react"),{fullHeight:true,horizontal:true,vertical:true},c("React").createElement(c("SUISpinner.react"),{size:"large",theme:c("SUIBusinessTheme")}));switch(s.type){case m.ACCOUNT_IMAGE:return c("React").createElement(c("BootloadedComponent.react"),babelHelpers["extends"]({bootloadLoader:c("JSResource")("AdsAccountImageSourceContainer.react").__setRef("AdsImageSelectorV2.react"),bootloadPlaceholder:t,key:s.type},s.accountImageSourceProps));case m.STOCK_IMAGE:return c("React").createElement(c("BootloadedComponent.react"),babelHelpers["extends"]({bootloadLoader:c("JSResource")("AdsStockImageSourceContainer.react").__setRef("AdsImageSelectorV2.react"),bootloadPlaceholder:t,key:s.type},s.stockImageSourceProps));case m.PAGE_IMAGE:return c("React").createElement(c("BootloadedComponent.react"),babelHelpers["extends"]({bootloadLoader:c("JSResource")("AdsPageImageSourceContainer.react").__setRef("AdsImageSelectorV2.react"),bootloadPlaceholder:t,key:s.type},s.pageImageSourceProps));case m.EXTERNAL_IMAGE:return c("React").createElement("div",null," Insert External Source Here ");case m.UPLOAD_IMAGE:return c("React").createElement(c("BootloadedComponent.react"),babelHelpers["extends"]({bootloadLoader:c("JSResource")("AdsUploadImageSourceContainer.react").__setRef("AdsImageSelectorV2.react"),bootloadPlaceholder:t,key:s.type},s.uploadImageSourceProps));case m.INSTAGRAM_IMAGE:return c("React").createElement(c("BootloadedComponent.react"),babelHelpers["extends"]({bootloadLoader:c("JSResource")("AdsInstagramImageSourceContainer.react").__setRef("AdsImageSelectorV2.react"),bootloadPlaceholder:t,key:s.type},s.instagramImageSourceProps))}j(0)}function p(r){var s=r.maxSelectedImageIDs,t=r.selectedImageIDs,u=r.onRemove;if(s===1||t.isEmpty())return null;var v=t.map(function(x){return c("React").createElement(c("AdsImageSourceImageBoxContainer.react"),{className:"_2afl",imageID:x,isDisabled:false,isRemovable:true,isScaledCropped:true,isSelected:false,key:x.getSignature(),size:n.TINY,onRemove:u})}),w=c("React").createElement("div",{className:"_2afr"},c("React").createElement("div",{style:{height:16}},c("React").createElement("h2",{className:"_2afs"},i._("Selected Images")),c("React").createElement("span",{className:"_2aft"},i._({"*":{"*":"({images} of {max-images})"}},[i.param("images",t.size,[0]),i.param("max-images",s,[0])]))),c("React").createElement("div",{className:"_2afu"},c("React").createElement(c("AdsArrowedCarouselEnhanced.react"),null,v)));return w}k=babelHelpers.inherits(q,c("React").PureComponent);l=k&&k.prototype;q.prototype.render=function(){var r=this.props.sourceTypes.map(function(s){return{icon:c("AdsImageSourceMetadata").get(s).icon,label:c("AdsImageSourceMetadata").get(s).name,value:s}}).toArray();return c("React").createElement("div",{className:"_2afv"},c("React").createElement(c("SUITabGroup.react"),{className:"_dk-",tabs:r,theme:c("SUIBusinessTheme"),value:this.props.selectedSource.type,onChange:this.props.onSourceChange}),c("React").createElement("div",{className:"_1-vi"},c("React").createElement(o,{source:this.props.selectedSource})),c("React").createElement(c("AdsEditInlinePostWarning.react"),{className:"_5zio",message:this.props.adEditWarningMessage}),c("React").createElement(p,{maxSelectedImageIDs:this.props.maxSelectedImageIDs,selectedImageIDs:this.props.selectedImageIDs,onRemove:this.props.onRemove}))};function q(){k.apply(this,arguments)}f.exports=q}),null);
__d("AdsImageSelectorV2Container.react",["AdsFluxContainer","AdsImageSelectorV2.react","AdsImageSelectorV2RemoveSelectedDataAction","AdsImageSelectorV2SetSelectedSourceTypeDataAction","AdsImageSelectorV2SetSourceTypesDataAction","AdsImageSelectorV2StateStore","immutable","React","SUIBusinessThemeContainer.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("AdsImageSelectorV2StateStore")]};j.calculateState=function(k,l){var m=c("AdsImageSelectorV2StateStore").getSelectedSourceType()||l.initialSource,n=l.sources,o=n.find(function(q){return q.type===m}),p=n.map(function(q){return q.type});return{selectedImageIDs:c("AdsImageSelectorV2StateStore").getSelectedImageIDs(),maxSelectedImageIDs:c("AdsImageSelectorV2StateStore").getMaxSelectedImageIDs(),selectedSource:o,sourceTypes:p}};j.prototype.componentWillMount=function(){var k=this.props.sources.map(function(l){return l.type});c("AdsImageSelectorV2SetSourceTypesDataAction").dispatch({selectedSourceType:this.props.initialSource,sourceTypes:k})};j.prototype.render=function(){return c("React").createElement(c("SUIBusinessThemeContainer.react"),null,c("React").createElement(c("AdsImageSelectorV2.react"),{adEditWarningMessage:this.props.adEditWarningMessage,maxSelectedImageIDs:this.state.maxSelectedImageIDs,selectedImageIDs:this.state.selectedImageIDs,selectedSource:this.state.selectedSource,sourceTypes:this.state.sourceTypes,onRemove:this.$AdsImageSelectorV2Container1,onSourceChange:this.$AdsImageSelectorV2Container2}))};j.prototype.$AdsImageSelectorV2Container2=function(k){c("AdsImageSelectorV2SetSelectedSourceTypeDataAction").dispatch({selectedSourceType:k})};j.prototype.$AdsImageSelectorV2Container1=function(k){c("AdsImageSelectorV2RemoveSelectedDataAction").dispatch({imageID:k})};function j(){h.apply(this,arguments)}f.exports=c("AdsFluxContainer").create(j,{withProps:true,name:f.id})}),null);
__d("AdsImageSelectorV2Modal.react",["cx","fbt","AdsImageSelectorV2Container.react","AdsTestIDs","immutable","React","SUIBusinessTheme","SUIBusinessThemeContainer.react","SUIModal.react","SUIModalCancelButton.react","SUIModalConfirmButton.react","SUIModalFooter.react","SUIModalHeader.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$AdsImageSelectorV2Modal1=function(){this.props.onConfirm();this.props.onHide()}.bind(this),n}l.prototype.render=function(){var m=this.props,n=m.adEditWarningMessage,o=m.header,p=m.height,q=m.initialSource,r=m.isShown,s=m.maxSelectedImageIDs,t=m.sources,u=m.onHide,v=o?o:s>1?i._("Select Images"):i._("Select an Image"),w=c("React").createElement(c("SUIModalHeader.react"),{theme:c("SUIBusinessTheme"),title:v}),x=r?c("React").createElement(c("AdsImageSelectorV2Container.react"),{adEditWarningMessage:n,initialSource:q,sources:t}):null;return c("React").createElement(c("SUIBusinessThemeContainer.react"),null,c("React").createElement(c("SUIModal.react"),{footer:c("React").createElement(c("SUIModalFooter.react"),{primaryButton:c("React").createElement(c("SUIModalConfirmButton.react"),{"data-testid":c("AdsTestIDs").IMAGE_DIALOG_CLOSE_BUTTON,disabled:!this.props.canConfirmModal,onClick:this.$AdsImageSelectorV2Modal1}),secondaryButton:c("React").createElement(c("SUIModalCancelButton.react"),null)}),header:w,isShown:r,label:"Image Selector Modal",width:768,onHide:u},c("React").createElement("div",{className:"_1v5v",style:{height:p}},x)))};f.exports=l}),null);
__d("AdsImageSelectorV2ModalContainer.react",["Promise","AdsFluxContainer","AdsImageInfoStore","AdsImageLegacy","AdsImageSelectorV2Modal.react","AdsImageSelectorV2SetSelectedDataAction","AdsImageSelectorV2StateStore","immutable","React","SUIBusinessThemeContainer.react","emptyFunction","promiseStoreGet"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("AdsImageSelectorV2StateStore")]};j.calculateState=function(){var k=c("AdsImageSelectorV2StateStore").getSelectedImageIDs(),l=!k.isEmpty();return{canConfirmModal:l,selectedImageIDs:k}};function j(k){__p&&__p();i.constructor.call(this,k);this.$AdsImageSelectorV2ModalContainer1=function(){__p&&__p();var l=this.state.selectedImageIDs,m=this.props.onConfirmLegacy;if(m){if(this.props.onLoadingImages)this.props.onLoadingImages();var n=l.map(function(o){var p=function p(){return c("AdsImageInfoStore").getFullSizeLegacyImage_DEPRECATED(o,null,null)};return c("promiseStoreGet")(c("AdsImageInfoStore"),p)});c("Promise").all(n.toArray()).done(function(o){return m(c("immutable").OrderedSet(o))})}else this.props.onConfirm(l)}.bind(this)}j.prototype.componentDidMount=function(){c("AdsImageSelectorV2SetSelectedDataAction").dispatch({imageIDs:this.props.selectedImageIDs,max:this.props.maxSelectedImageIDs})};j.prototype.componentWillReceiveProps=function(k){if(!this.props.isShown&&k.isShown)c("AdsImageSelectorV2SetSelectedDataAction").dispatch({imageIDs:k.selectedImageIDs,max:k.maxSelectedImageIDs})};j.prototype.render=function(){return c("React").createElement(c("SUIBusinessThemeContainer.react"),null,c("React").createElement(c("AdsImageSelectorV2Modal.react"),{adEditWarningMessage:this.props.adEditWarningMessage,canConfirmModal:this.state.canConfirmModal,header:this.props.header,height:this.props.height,initialSource:this.props.initialSource,isShown:this.props.isShown,maxSelectedImageIDs:this.props.maxSelectedImageIDs,sources:this.props.sources,onConfirm:this.$AdsImageSelectorV2ModalContainer1,onHide:this.props.onHide}))};j.defaultProps={height:404,maxSelectedImageIDs:1,selectedImageIDs:c("immutable").OrderedSet(),onConfirm:c("emptyFunction")};f.exports=c("AdsFluxContainer").create(j,{name:f.id})}),null);
__d("SlideshowMediaUploadContainer.react",["cx","fbt","ix","AdsTestIDs","React","Image.react","XUIButton.react","XUINotice.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$SlideshowMediaUploadContainer1=function(){if(!this.props.errorMessage)return null;return c("React").createElement("div",{className:"_3dg4"},c("React").createElement(c("XUINotice.react"),{use:"warn"},this.props.errorMessage))}.bind(this),o}m.prototype.$SlideshowMediaUploadContainer2=function(){if(this.props.showVideoButton)return i._("Use photos or video stills to create a slideshow");else return i._("Upload new or use existing photos to create a slideshow")};m.prototype.render=function(){return c("React").createElement("div",babelHelpers["extends"]({"data-testid":c("AdsTestIDs").SLIDE_SHOW_MEDIA_UPLOAD_PANEL},this.props,{className:"_v32"+(!!this.props.errorMessage?" _16q2":"")}),this.$SlideshowMediaUploadContainer1(),c("React").createElement(c("Image.react"),{className:"_v33",hidden:!!this.props.errorMessage,src:j("99135")}),c("React").createElement("div",{className:"_3dg5"+(!!this.props.errorMessage?" _16q2":"")},this.$SlideshowMediaUploadContainer2(),c("React").createElement("div",{className:"_v34"+(!!this.props.errorMessage?" _16q2":"")},this.props.children)))};m.getImageUploadButton=function(){return c("React").createElement(c("XUIButton.react"),{className:"_v35","data-testid":c("AdsTestIDs").SLIDE_SHOW_ADD_PHOTOS_BUTTON,href:{url:"#"},image:c("React").createElement(c("Image.react"),{className:"_v36",src:j("115359")}),label:i._("Add Photos"),size:"xlarge",use:"confirm"})};m.getVideoUploadButton=function(){return c("React").createElement(c("XUIButton.react"),{className:"_v35","data-testid":c("AdsTestIDs").SLIDE_SHOW_ADD_VIDEO_BUTTON,href:{url:"#"},image:c("React").createElement(c("Image.react"),{className:"_v36",src:j("130530")}),label:i._("Add Video"),size:"xlarge"})};m.defaultProps={children:null,errorMessage:null,showVideoButton:false};f.exports=m}),null);
__d("AdsSlideshowImageUploadsContainer.react",["cx","AdsImageDialogContainer.react","AdsImageIDUtils","AdsImageLegacy","AdsImageSelectorV2ConfigUtils","AdsImageSelectorV2ModalContainer.react","AdsImageSelectorV2Types","AdsMediaPanelTabs","immutable","Link.react","React","SlideshowMediaUploadContainer.react","emptyFunction","gkx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("AdsImageSelectorV2Types").AdsImageSource;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$AdsSlideshowImageUploadsContainer1=function(r){var s=r?r.toJSON():[];this.props.onSelectImagesConfirm(s)}.bind(this),n}l.prototype.render=function(){__p&&__p();var m=null;if(this.props.imageDialogShown)if(c("gkx")("AT6lT8s-lYKB5LRmP7d-QYBhUD7X_CNEOzgL1PbJAIi0zfFxesqKQ0yjhhCYTHie1XOPrmltBCRly47ifx0Irut0")){var n=c("immutable").List([c("AdsImageSelectorV2ConfigUtils").getAccountImageConfig(this.props.accountID,c("immutable").List(),true),c("AdsImageSelectorV2ConfigUtils").getStockImageConfig(),c("AdsImageSelectorV2ConfigUtils").getPageImageConfig(this.props.pageID,c("immutable").List(),true),c("AdsImageSelectorV2ConfigUtils").getUploadImageConfig(this.props.accountID)]);m=c("React").createElement(c("AdsImageSelectorV2ModalContainer.react"),{accountID:this.props.accountID,initialSource:k.ACCOUNT_IMAGE,isShown:this.props.imageDialogShown,maxSelectedImageIDs:this.props.maxSelectedImages,selectedImageIDs:c("AdsImageIDUtils").getImageIDsFromImageInfoArray(this.props.accountID,this.props.selectedImages),sources:n,onConfirmLegacy:this.$AdsSlideshowImageUploadsContainer1,onHide:this.props.onImageDialogClose})}else m=c("React").createElement(c("AdsImageDialogContainer.react"),{accountID:this.props.accountID,libraryImages:this.props.libraryImages,maxSelectedImages:this.props.maxSelectedImages,pageID:this.props.pageID,selectedImages:this.props.selectedImages,tabKeys:this.$AdsSlideshowImageUploadsContainer2(),useInstagramImageCreative:false,onCancel:this.props.onImageDialogClose,onSelect:this.props.onSelectImagesConfirm});var o=this.props.disabled?c("emptyFunction"):this.props.onImageDialogShown;switch(this.props.imageUploadButtonType){case"more_link":return c("React").createElement("span",{className:"_38i2"+(this.props.disabled?" _1wqh":""),role:"presentation",onClick:o},c("React").createElement(c("Link.react"),{className:"_10ct"}),m);case"add_button":return c("React").createElement("span",{role:"presentation",onClick:o},c("SlideshowMediaUploadContainer.react").getImageUploadButton(),m)}return c("React").createElement("span",{role:"presentation",onClick:o},c("SlideshowMediaUploadContainer.react").getImageUploadButton(),m)};l.prototype.$AdsSlideshowImageUploadsContainer2=function(){return[c("AdsMediaPanelTabs").UPLOAD,c("AdsMediaPanelTabs").LIBRARY,c("AdsMediaPanelTabs").STOCK]};f.exports=l}),null);
__d("AdsSlideshowLoggingStore",["AdsDataAtom","AdsSlideshowLoggingStoreState","FluxReduceStore","adsSlideshowLoggingStoreReducer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return new(c("AdsSlideshowLoggingStoreState"))()};j.prototype.reduce=function(k,l){var m=l.action,n=[c("adsSlideshowLoggingStoreReducer")];return n.reduce(function(k,o){return o(k,m)},k)};function j(){h.apply(this,arguments)}f.exports=new j(c("AdsDataAtom"))}),null);
__d("AdsInstagramVideoUploadStartDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"INSTAGRAM_VIDEO_UPLOAD_START");f.exports=h}),null);
__d("AdsVideoBatchLoadErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.BATCH_LOAD_ERROR");f.exports=h}),null);
__d("AdsVideoBatchLoadedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.BATCH_LOADED");f.exports=h}),null);
__d("AdsVideoCloseVideoPickerDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.CLOSE_VIDEO_PICKER");f.exports=h}),null);
__d("AdsVideoFilterDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AdsVideoAction.VIDEOS_FILTER");f.exports=h}),null);
__d("AdsVideoItemClickedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.ITEM_CLICKED");f.exports=h}),null);
__d("AdsVideoOpenSelectorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.OPEN_SELECTOR");f.exports=h}),null);
__d("AdsVideoSortDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AdsVideoAction.VIDEOS_SORT");f.exports=h}),null);
__d("AdsVideoSwitchTabDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.SWITCH_TAB");f.exports=h}),null);
__d("AdsVideoToastCardsCancelUploadDataReducerPlugin",["AdsVideoUploadToastCardUtils"],(function a(b,c,d,e,f,g){"use strict";var h={reduce:function i(j,k){return c("AdsVideoUploadToastCardUtils").dismissProgressVideoToastCard(j)}};f.exports=h}),null);
__d("AdsVideoToastCardsCancelUploadDataReducer",["AdsDataReducer","AdsToastCardDataProvider","AdsVideoToastCardsCancelUploadDataReducerPlugin"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataReducer").create(c("AdsToastCardDataProvider"),{},c("AdsVideoToastCardsCancelUploadDataReducerPlugin").reduce);f.exports=h}),null);
__d("AdsVideoUploadCancelDataAction",["AdsDataAction","AdsVideoToastCardsCancelUploadDataReducer"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([c("AdsVideoToastCardsCancelUploadDataReducer")],"VIDEO.UPLOAD_CANCEL");f.exports=h}),null);
__d("AdsVideoUploadFinishDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.UPLOAD_FINISH");f.exports=h}),null);
__d("AdsVideoToastCardsUploadProgressDataReducerPlugin",["AdsVideoUploadStatus","AdsVideoUploadToastCardUtils"],(function a(b,c,d,e,f,g){"use strict";var h={reduce:function i(j,k){return c("AdsVideoUploadToastCardUtils").createOrUpdateToastCard(j,c("AdsVideoUploadToastCardUtils").TOAST_CARD_TYPE.PROGRESS,k.title,null,k.videoBackgroundUpload,k.progress,c("AdsVideoUploadStatus").UPLOADING)}};f.exports=h}),null);
__d("AdsVideoToastCardsUploadProgressDataReducer",["AdsDataReducer","AdsToastCardDataProvider","AdsVideoToastCardsUploadProgressDataReducerPlugin"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataReducer").create(c("AdsToastCardDataProvider"),{},c("AdsVideoToastCardsUploadProgressDataReducerPlugin").reduce);f.exports=h}),null);
__d("AdsVideoUploadProgressDataAction",["AdsDataAction","AdsVideoToastCardsUploadProgressDataReducer"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([c("AdsVideoToastCardsUploadProgressDataReducer")],"VIDEO.UPLOAD_PROGRESS");f.exports=h}),null);
__d("AdsVideoToastCardsUploadSuccessDataReducerPlugin",["AdsVideoUploadStatus","AdsVideoUploadToastCardUtils"],(function a(b,c,d,e,f,g){"use strict";var h={reduce:function i(j,k){return c("AdsVideoUploadToastCardUtils").createOrUpdateToastCard(j,c("AdsVideoUploadToastCardUtils").TOAST_CARD_TYPE.PROGRESS,k.title,null,k.videoBackgroundUpload,null,c("AdsVideoUploadStatus").ENCODING)}};f.exports=h}),null);
__d("AdsVideoToastCardsUploadSuccessDataReducer",["AdsDataReducer","AdsToastCardDataProvider","AdsVideoToastCardsUploadSuccessDataReducerPlugin"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataReducer").create(c("AdsToastCardDataProvider"),{},c("AdsVideoToastCardsUploadSuccessDataReducerPlugin").reduce);f.exports=h}),null);
__d("AdsVideoUploadSuccessDataAction",["AdsDataAction","AdsVideoToastCardsUploadSuccessDataReducer"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([c("AdsVideoToastCardsUploadSuccessDataReducer")],"VIDEO.UPLOAD_SUCCESS");f.exports=h}),null);
__d("AdsVideoActions",["invariant","AdsInstagramVideoUploadStartDataAction","AdsVideoBatchLoadedDataAction","AdsVideoBatchLoadErrorDataAction","AdsVideoCloseVideoPickerDataAction","AdsVideoEncodingSuccessDataAction","AdsVideoFilterDataAction","AdsVideoItemClickedDataAction","AdsVideoOpenSelectorDataAction","AdsVideoSortDataAction","AdsVideoSwitchTabDataAction","AdsVideoUploadCancelDataAction","AdsVideoUploadErrorDataAction","AdsVideoUploadFinishDataAction","AdsVideoUploadProgressDataAction","AdsVideoUploadStartDataAction","AdsVideoUploadSuccessDataAction","AdsVideoUploadUtil"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={openSelector:function j(){c("AdsVideoOpenSelectorDataAction").dispatch({})},closeVideoPicker:function j(k){c("AdsVideoCloseVideoPickerDataAction").dispatch({hideSource:k})},videoBatchLoaded:function j(k){c("AdsVideoBatchLoadedDataAction").dispatch({videos:k})},videoBatchLoadError:function j(k){c("AdsVideoBatchLoadErrorDataAction").dispatch({errors:k})},videoClicked:function j(){c("AdsVideoItemClickedDataAction").dispatch({})},startUpload:function j(k,l,m,n){__p&&__p();l||h(0);!n||k.length==n.length||h(0);if(!n)n=[c("AdsVideoUploadUtil").DEFAULT_UPLOADER_KEY];var o=void 0,p=void 0;for(var q=0;q<k.length;q++){p=n[q];o=k.item(q);c("AdsVideoUploadStartDataAction").dispatch({accountID:l,file:o,uploaderKey:p,videoBackgroundUpload:m})}},startImport:function j(k,l,m,n){c("AdsVideoUploadStartDataAction").dispatch({accountID:m,title:k,url:l,videoBackgroundUpload:n})},startInstagramImport:function j(k,l,m){m||h(0);c("AdsVideoUploadStartDataAction").dispatch({title:k,instagramStoryID:l,accountID:m})},startInstagramVideoLibraryImport:function j(k,l){c("AdsInstagramVideoUploadStartDataAction").dispatch({url:k,accountID:l})},cancelUpload:function j(){c("AdsVideoUploadCancelDataAction").dispatch({})},uploadProgress:function j(k,l,m,n){c("AdsVideoUploadProgressDataAction").dispatch({progress:n,uploaderKey:l,title:k,videoBackgroundUpload:m})},uploadSuccess:function j(k,l,m,n,o){c("AdsVideoUploadSuccessDataAction").dispatch({isVideoGif:n,title:k,uploaderKey:l,videoBackgroundUpload:m,videoID:o})},uploadError:function j(k,l,m,n,o){var p=void 0;if(o)p=o.error||o.error_description||o.message&&JSON.parse(o.message);c("AdsVideoUploadErrorDataAction").dispatch({errorMessage:p,isVideoGif:n,title:k,uploaderKey:l,videoBackgroundUpload:m})},finishUpload:function j(){c("AdsVideoUploadFinishDataAction").dispatch({})},encodingSuccess:function j(k,l,m,n,o,p){c("AdsVideoEncodingSuccessDataAction").dispatch({accountID:n,isVideoGif:o,uploaderKey:l,video:p,videoBackgroundUpload:m})},videoTabSwitch:function j(k){c("AdsVideoSwitchTabDataAction").dispatch({tabKey:k})},filter:function j(k){c("AdsVideoFilterDataAction").dispatch({query:k})},sort:function j(k){c("AdsVideoSortDataAction").dispatch({query:k})}};f.exports=i}),null);
__d("AdsVideoListBatchLoadErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.LIST.BATCH_LOAD_ERROR");f.exports=h}),null);
__d("AdsVideoListBatchLoadedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.LIST.BATCH_LOADED");f.exports=h}),null);
__d("AdsVideoDialogFilterConstants",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({LENGTH_LESS_THAN_15:"less than 15s",LENGTH_LESS_THAN_60:"less than 60s",LENGTH_GREATER_THAN_60:"greater than 60s",HEIGHT_GREATER_THAN_340:"greater than 340px",HEIGHT_GREATER_THAN_1067:"greater than 1067px",WIDTH_GREATER_THAN_600:"greater than 600px",ASPECT_RATIO_16_OVER_9:"16:9",ASPECT_RATIO_9_OVER_16:"9:16",ASPECT_RATIO_4_OVER_5:"4:5",ASPECT_RATIO_1_OVER_1:"1:1"});f.exports=h}),null);
__d("AdsVideoDialogFilterUtil",["AdsGenericFilterFieldType","AdsGenericFilterSet","AdsVideoDialogFilterConstants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=1e3,i=.01,j=16/9,k=9/16,l=4/5,m=1/1,n={getApiParamsForAdAccount:function o(p){__p&&__p();var q={};p.values.map(function(r){__p&&__p();var s=r.field.name,t=void 0;if(s==="length")if(typeof r.value==="string")t=parseInt(r.value,10)*h;else t=r.value.map(function(u){return parseInt(u,10)*h});else t=r.value;switch(r.field.type){case c("AdsGenericFilterFieldType").NUMBER:switch(r.operator){case"LESS_THAN":q["max"+s]=parseInt(t,10);break;case"GREATER_THAN":q["min"+s]=parseInt(t,10);break;case"IN_RANGE":if(typeof t==="object"){q["min"+s]=parseInt(t[0],10);q["max"+s]=parseInt(t[1],10)}break}break;case c("AdsGenericFilterFieldType").STRING:q[s]=t;break}});return q},getApiParamsForPagesEdge:function o(p){__p&&__p();if(!p)return null;var q={};q.filtering=[];var r=void 0,s=void 0;for(var t in p){var u=void 0;switch(t){case"title":u=n.getFilter("title","CONTAIN",p[t]);q.filtering.push(u);break;case"maxlength":u=n.getFilter("length","LESS_THAN",p[t]);q.filtering.push(u);break;case"minlength":u=n.getFilter("length","GREATER_THAN",p[t]);q.filtering.push(u);break;case"maxheight":u=n.getFilter("height","LESS_THAN",p[t]);q.filtering.push(u);break;case"minheight":u=n.getFilter("height","GREATER_THAN",p[t]);q.filtering.push(u);break;case"maxwidth":u=n.getFilter("width","LESS_THAN",p[t]);q.filtering.push(u);break;case"minwidth":u=n.getFilter("width","GREATER_THAN",p[t]);q.filtering.push(u);break;case"min_aspect_ratio":s=p[t];break;case"max_aspect_ratio":r=p[t];break;case"sort":q.sort=p[t]?[p[t]]:null;break;default:return null}}if(s&&r){var v=n.getFilter("aspect_ratio","IN_RANGE",[s,r]);q.filtering.push(v)}return q},getFilter:function o(p,q,r){var s={field:p,operator:q,value:r};return s},getApiParamsForAdAccountFromPresetFilters:function o(p){__p&&__p();if(!p)return null;var q={};p.values.map(function(r){__p&&__p();var s=r.field.name,t=r.value;switch(r.field.type){case c("AdsGenericFilterFieldType").STRING:q[s]=t;break;case c("AdsGenericFilterFieldType").STRING_SET:switch(s){case"length":switch(t){case c("AdsVideoDialogFilterConstants").LENGTH_LESS_THAN_15:q.maxlength=15e3;break;case c("AdsVideoDialogFilterConstants").LENGTH_LESS_THAN_60:q.maxlength=6e4;break;case c("AdsVideoDialogFilterConstants").LENGTH_GREATER_THAN_60:q.minlength=6e4;break}break;case"height":switch(t){case c("AdsVideoDialogFilterConstants").HEIGHT_GREATER_THAN_340:q.minheight=340;break;case c("AdsVideoDialogFilterConstants").HEIGHT_GREATER_THAN_1067:q.minheight=1067;break}break;case"width":switch(t){case c("AdsVideoDialogFilterConstants").WIDTH_GREATER_THAN_600:q.minwidth=600;break}break;case"aspect_ratio":switch(t){case c("AdsVideoDialogFilterConstants").ASPECT_RATIO_16_OVER_9:q.min_aspect_ratio=j-i;q.max_aspect_ratio=j+i;break;case c("AdsVideoDialogFilterConstants").ASPECT_RATIO_9_OVER_16:q.min_aspect_ratio=k-i;q.max_aspect_ratio=k+i;break;case c("AdsVideoDialogFilterConstants").ASPECT_RATIO_4_OVER_5:q.min_aspect_ratio=l-i;q.max_aspect_ratio=l+i;break;case c("AdsVideoDialogFilterConstants").ASPECT_RATIO_1_OVER_1:q.min_aspect_ratio=m-i;q.max_aspect_ratio=m+i;break}break}}});return q}};f.exports=n}),null);
__d("AdsVideoListGenCacheKey",[],(function a(b,c,d,e,f,g){"use strict";var h={genCacheKey:function i(j,k){if(!k)return j;var l=j;for(var m in k)l=l+String(m)+String(k[m]);return l}};f.exports=h}),null);
__d("AdsVideoListLoadErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.LIST.LOAD_ERROR");f.exports=h}),null);
__d("AdsVideoListLoadedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.LIST.LOADED");f.exports=h}),null);
__d("AdsVideoListDataManager",["AdsBaseListDataManager","AdsGraphAPI","AdsVideoDialogFilterUtil","AdsVideoListBatchLoadedDataAction","AdsVideoListBatchLoadErrorDataAction","AdsVideoListGenCacheKey","AdsVideoListLoadedDataAction","AdsVideoListLoadErrorDataAction","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=["id","updated_time"],k=100;h=babelHelpers.inherits(l,c("AdsBaseListDataManager"));i=h&&h.prototype;l.prototype.loadForAdAccount=function(m,n){var o=c("AdsVideoListGenCacheKey").genCacheKey(m,n),p=babelHelpers["extends"]({},n,{fields:j,limit:k});c("AdsGraphAPI").get(f.id).adaccount(m).edge("advideos").batched().get(p).done(this.__handleSuccess.bind(this,["load"],o,null),this.__handleError.bind(this,["load"],o,null))};l.prototype.loadForPage=function(m,n){var o=c("AdsVideoListGenCacheKey").genCacheKey(m,n),p=c("AdsVideoDialogFilterUtil").getApiParamsForPagesEdge(n),q=babelHelpers["extends"]({},p,{fields:j});c("AdsGraphAPI").get(f.id).object("page",m).edge("videos").batched().get(q).done(this.__handleSuccess.bind(this,["load"],o,null),this.__handleError.bind(this,["load"],o,null))};l.prototype.loadForPageIndexed=function(m,n,o){var p=c("AdsVideoListGenCacheKey").genCacheKey(m,o),q=c("AdsVideoDialogFilterUtil").getApiParamsForPagesEdge(o),r=babelHelpers["extends"]({},q,{access_token:n,fields:j,limit:k});c("AdsGraphAPI").get(f.id).object("page",m).edge("indexed_videos").get(r).done(this.__handleSuccess.bind(this,["load"],p,null),this.__handleError.bind(this,["load"],p,null))};l.prototype.__onBatchLoaded=function(m){if(c("gkx")("AT6I0e63Ut5au0AsLCKyVLGoTGZuBQfc0npRwkY3FsZXK8OrMiGhWivBPw3p_jXXMsj0Gt-Z9IHo9mL2r3RSmrWADKbUkd1zZDVEwarHFcpBlg"))c("AdsVideoListBatchLoadedDataAction").dispatch({responses:m});else m.forEach(function(n,o){var p=n.data.map(function(q){return{id:q.id,updatedTime:q.updated_time}});c("AdsVideoListLoadedDataAction").dispatch({sourceID:o,videos:p})})};l.prototype.__onBatchLoadError=function(m){if(c("gkx")("AT6I0e63Ut5au0AsLCKyVLGoTGZuBQfc0npRwkY3FsZXK8OrMiGhWivBPw3p_jXXMsj0Gt-Z9IHo9mL2r3RSmrWADKbUkd1zZDVEwarHFcpBlg"))c("AdsVideoListBatchLoadErrorDataAction").dispatch({errors:m});else m.forEach(function(n,o){c("AdsVideoListLoadErrorDataAction").dispatch({sourceID:o})})};function l(){h.apply(this,arguments)}f.exports=new l()}),null);
__d("AdsVideoListStore",["AdsBaseListStore","AdsDataAtom","AdsLoadState_LEGACY","AdsLoadStateUtils_LEGACY","AdsPageStore","AdsVideoEncodingSuccessDataAction","AdsVideoListBatchLoadedDataAction","AdsVideoListBatchLoadErrorDataAction","AdsVideoListDataManager","AdsVideoListGenCacheKey","AdsVideoListLoadedDataAction","AdsVideoListLoadErrorDataAction","LoadObject","killswitch"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j={loadState:c("AdsLoadState_LEGACY").LOADED,list:[]},k={loadState:c("AdsLoadState_LEGACY").LOADING,list:[]};h=babelHelpers.inherits(l,c("AdsBaseListStore"));i=h&&h.prototype;l.prototype.getDataManager=function(){return c("AdsVideoListDataManager")};l.prototype.__onDispatch=function(m){__p&&__p();c("AdsDataAtom").waitFor([c("AdsPageStore").getDispatchToken()]);if(c("AdsPageStore").hasChanged())this.__emitChange();var n=m.action;switch(n.actionType){case c("AdsVideoListBatchLoadedDataAction").actionType:n.responses.forEach(function(o,p){this.__handleDataFor(p,o.data.map(function(q){return{id:q.id,updatedTime:q.updated_time}}),c("AdsLoadState_LEGACY").LOADED)}.bind(this));break;case c("AdsVideoListBatchLoadErrorDataAction").actionType:n.errors.forEach(function(o,p){this.__handleDataFor(p,null,c("AdsLoadState_LEGACY").ERROR)}.bind(this));break;case c("AdsVideoListLoadedDataAction").actionType:this.__handleDataFor(n.sourceID,n.videos,c("AdsLoadState_LEGACY").LOADED);break;case c("AdsVideoListLoadErrorDataAction").actionType:this.__handleDataFor(n.sourceID,null,c("AdsLoadState_LEGACY").ERROR);break;case c("AdsVideoEncodingSuccessDataAction").actionType:this.__invalidateEntireCache();this.__emitChange();break}};l.prototype.getForPage=function(m,n){__p&&__p();if(!m)return j;var o=c("AdsVideoListGenCacheKey").genCacheKey(m,n),p=this.getCachedFor(o);if(p.loadState===c("AdsLoadState_LEGACY").NOT_LOADED){if(c("killswitch")("ADS_SELECT_VIDEO_LIST_FROM_INDEXED_ENDPOINT"))c("AdsVideoListDataManager").loadForPage(m,n);else{var q=c("AdsPageStore").get(m);if(c("AdsLoadStateUtils_LEGACY").isLoaded(q))c("AdsVideoListDataManager").loadForPageIndexed(m,q.access_token,n)}return k}return p};l.prototype.getForAdAccount=function(m,n){if(!m)return j;var o=c("AdsVideoListGenCacheKey").genCacheKey(m,n),p=this.getCachedFor(o);if(p.loadState===c("AdsLoadState_LEGACY").NOT_LOADED){c("AdsVideoListDataManager").loadForAdAccount(m,n);return k}return p};l.prototype.getForAdAccountAndPage=function(m,n,o){var p=this.getForAdAccount(m,o),q=this.getForPage(n,o);return{loadState:c("AdsLoadStateUtils_LEGACY").mergeLoadStates([p.loadState,q.loadState]),list:p.list.concat(q.list)}};l.prototype.getLoadObjectForAdAccount=function(m,n){return this.$AdsVideoListStore1(this.getForAdAccount(m,n))};l.prototype.getLoadObjectForAdAccountAndPage=function(m,n,o){return this.$AdsVideoListStore1(this.getForAdAccountAndPage(m,n,o))};l.prototype.$AdsVideoListStore1=function(m){var n=m.loadState,o=m.list,p=c("LoadObject").withValue(o);switch(n){case c("AdsLoadState_LEGACY").NOT_LOADED:case c("AdsLoadState_LEGACY").LOADING:return p.loading();case c("AdsLoadState_LEGACY").LOADED:return p;default:return p.setError(new Error("Unexpected error when loading video list"))}};function l(){h.apply(this,arguments)}f.exports=new l()}),null);
__d("AdsVideoErrorNoticeUtils",["React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j){if(!j)return null;if(j.error&&typeof j.error.message==="string")return j.error.message;if(typeof j==="string")return j;return null}function i(j){if(!j)return null;var k=[];j.forEach(function(l){return l.message&&k.push(c("React").createElement("div",{key:l.key},l.message))});return k}f.exports={getErrorMessageContent:h,getNewlyUploadedVideoErrorMessage:i}}),null);
__d("AdsVideoImportPanel.react",["cx","fbt","ix","AdsHelpTrayUIActions","AdsProgressBox.react","AdsVideoUploadStatus","CenteredContainer.react","Image.react","ImageBlock.react","Layout.react","Link.react","React","SUIBusinessTheme","SUISimplePopover.react","SUIText.react","XUITextInput.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("Layout.react").Column,n=c("Layout.react").FillColumn,o=c("React").PropTypes,p="1764659187152203";k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.$AdsVideoImportPanel5=function(w){return c("React").createElement(c("CenteredContainer.react"),{className:"_4a29",vertical:false},c("React").createElement(c("AdsProgressBox.react"),{className:"_4a2a",progressValue:this.props.uploadProgress,striped:true,subtitle:w,videoTitle:this.props.uploadTitle,onCancel:this.props.onUploadCancel}))}.bind(this),this.$AdsVideoImportPanel10=function(event){this.props.onVideoTitleChange(event.target.value)}.bind(this),this.$AdsVideoImportPanel9=function(event){this.props.onVideoURLChange(event.target.value)}.bind(this),this.$AdsVideoImportPanel4=function(){c("AdsHelpTrayUIActions").pushCMSIDToHistory(p)},s}q.prototype.render=function(){return c("React").createElement("div",{className:"_17kg"},c("React").createElement(c("Layout.react"),null,c("React").createElement(n,null,this.$AdsVideoImportPanel1(),this.$AdsVideoImportPanel2()),c("React").createElement(m,{className:"mlm"},this.$AdsVideoImportPanel3())))};q.prototype.$AdsVideoImportPanel3=function(){return c("React").createElement("div",{className:"_17kh"},c("React").createElement(c("SUIText.react"),{className:"_17ki",shade:"light",theme:c("SUIBusinessTheme"),weight:"bold"},i._("Paste a Direct Download Link to Your Video")),c("React").createElement("div",null,c("React").createElement("p",null,c("React").createElement(c("SUIText.react"),{shade:"light",theme:c("SUIBusinessTheme")},i._("Your video file must be directly downloadable from the link. We currently don't support shareable links or links that need to be authenticated."))),c("React").createElement("p",null,c("React").createElement(c("SUIText.react"),{shade:"light",theme:c("SUIBusinessTheme")},i._("If you are having trouble uploading, make sure you are pasting a direct download link from wherever it is hosted. You can test if it is downloadable by pasting the link in your browser. If supported, the video file will automatically download."))),c("React").createElement("p",null,c("React").createElement(c("SUIText.react"),{shade:"light",theme:c("SUIBusinessTheme")},i._("{learn more link} about how to use a hosted video file for your ad.",[i.param("learn more link",c("React").createElement(c("Link.react"),{onClick:this.$AdsVideoImportPanel4},i._("Learn more")))])))))};q.prototype.$AdsVideoImportPanel2=function(){switch(this.props.uploadStatus){case c("AdsVideoUploadStatus").UPLOADING:return this.$AdsVideoImportPanel5(i._("Uploading video"));case c("AdsVideoUploadStatus").ENCODING:return this.$AdsVideoImportPanel5(i._("Encoding video"));default:return this.$AdsVideoImportPanel6()}};q.prototype.$AdsVideoImportPanel6=function(){return c("React").createElement("div",{className:"_17a1"},this.$AdsVideoImportPanel7(),this.$AdsVideoImportPanel8())};q.prototype.$AdsVideoImportPanel1=function(){return c("React").createElement(c("CenteredContainer.react"),{className:"_17a2",vertical:false},c("React").createElement(c("ImageBlock.react"),{spacing:"large"},c("React").createElement(c("Image.react"),{src:j("23772")}),c("React").createElement(c("CenteredContainer.react"),{className:"_17a4",horizontal:false,vertical:true},c("React").createElement(c("SUIText.react"),{shade:"light",theme:c("SUIBusinessTheme")},i._("Quickly upload a video by pasting the link of a hosted video file.")))))};q.prototype.$AdsVideoImportPanel7=function(){var r=this.props.hasHelpTray?c("React").createElement(c("Link.react"),{onClick:this.$AdsVideoImportPanel4},i._("Learn more.")):null;return c("React").createElement("div",null,c("React").createElement(c("SUIText.react"),{className:"_17a5",shade:"medium",size:"meta1",textAlign:"right",theme:c("SUIBusinessTheme"),weight:"bold"},i._("Video URL")),c("React").createElement(c("SUISimplePopover.react"),{content:i._("Your video file must be directly downloadable from this link. Make sure it ends in .MOV or .MP4. {learn more link}",[i.param("learn more link",r)]),theme:c("SUIBusinessTheme")}),c("React").createElement(c("XUITextInput.react"),{className:"_17a6",height:"tall",placeholder:i._("Paste the link of your video file"),value:this.props.videoURL,onChange:this.$AdsVideoImportPanel9}))};q.prototype.$AdsVideoImportPanel8=function(){return c("React").createElement("div",null,c("React").createElement(c("SUIText.react"),{className:"_17a5",shade:"medium",size:"meta1",textAlign:"right",theme:c("SUIBusinessTheme"),weight:"bold"},i._("Title")),c("React").createElement(c("SUISimplePopover.react"),{content:c("React").createElement("span",null,i._("Name your video file so you can easily find it later when you browse your library.")),theme:c("SUIBusinessTheme")}),c("React").createElement(c("XUITextInput.react"),{className:"_17a6",height:"tall",placeholder:i._("Name your video file"),value:this.props.videoTitle,onChange:this.$AdsVideoImportPanel10}))};q.propTypes={hasHelpTray:o.bool,uploadProgress:o.number,uploadStatus:o.oneOf(Object.keys(c("AdsVideoUploadStatus"))),uploadTitle:o.string,videoTitle:o.string,videoURL:o.string,onUploadCancel:o.func,onVideoTitleChange:o.func.isRequired,onVideoURLChange:o.func.isRequired};q.defaultProps={hasHelpTray:false,uploadStatus:c("AdsVideoUploadStatus").NONE};f.exports=q}),null);
__d("AdsVideoImportSourceTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({INSTAGRAM:null});f.exports=h}),null);
__d("AdsVideoSelectionHeaderTabTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({LIBRARY:null,IMPORT:null,UPLOAD:null});f.exports=h}),null);
__d("AdsVideoSelectionHeader.react",["cx","fbt","AdsMediaPanelHeader.react","AdsVideoSelectionHeaderTabTypes","React","SimpleNUXMessage","SimpleNUXMessageTypes"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").Component,m=[{className:"_5ta",tabKey:c("AdsVideoSelectionHeaderTabTypes").LIBRARY,title:i._("Browse Library"),nuxConfig:null},{className:"_5tb",tabKey:c("AdsVideoSelectionHeaderTabTypes").IMPORT,title:i._("Paste a Link"),nuxConfig:{message:i._("New! Upload a video faster by pasting the link of a hosted video file."),msg_id:c("SimpleNUXMessageTypes").VIDEO_REMOTE_UPLOAD}},{className:"_fnb",tabKey:c("AdsVideoSelectionHeaderTabTypes").UPLOAD,title:i._("Upload Videos"),nuxConfig:null}];j=babelHelpers.inherits(n,l);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={closedNuxes:[]},p}n.prototype.componentDidMount=function(){if(this.props.visible==true)this.refs.header.forceUpdate()};n.prototype.render=function(){var o=m.filter(function(p){return p.tabKey!==c("AdsVideoSelectionHeaderTabTypes").UPLOAD||this.props.showInstagramVideos}.bind(this)).map(function(p){return{className:p.className,tabKey:p.tabKey,title:p.title,nuxConfig:this.$AdsVideoSelectionHeader1(p.nuxConfig)}}.bind(this));return c("React").createElement(c("AdsMediaPanelHeader.react"),{ref:"header",selectedTab:this.props.selectedTab,tabConfigs:o,onTabSwitch:this.props.onTabSwitch})};n.prototype.$AdsVideoSelectionHeader1=function(o){if(o==null)return null;return{message:o.message,onClose:this.$AdsVideoSelectionHeader2.bind(this,o.msg_id),shown:this.props.visible&&!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").VIDEO_REMOTE_UPLOAD)&&!this.state.closedNuxes.includes(o.msg_id)}};n.prototype.$AdsVideoSelectionHeader2=function(o){var p=this.state.closedNuxes.slice();p.push(o);this.setState({closedNuxes:p});c("SimpleNUXMessage").markMessageSeenByUser(o)};n.defaultProps={selectedTab:c("AdsVideoSelectionHeaderTabTypes").LIBRARY,showInstagramVideos:false};n.tabs=c("AdsVideoSelectionHeaderTabTypes");f.exports=n}),null);
__d("AdsVideoShortContentConstant",[],(function a(b,c,d,e,f,g){"use strict";f.exports={SHORT_CONTENT_VIDEO_LENGTH_LIMIT:15.5}}),null);
__d("AdsVideoShortContentTipContentEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADS_INTERFACE:"ads_interface",VIDEO_ONLOAD:"video_onload",CREATIVE_HUB:"creative_hub",INSTREAM_PLACEMENT:"instream_placement"})}),null);
__d("AdsVideoShortContentTipSourceEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CREATION_FLOW_OBJECTIVE:"creation_flow_objective",CREATION_FLOW_VIDEO_LIB_BROWSE:"creation_flow_video_lib_browse",CREATION_FLOW_VIDEO_UPLOAD:"creation_flow_video_upload",CREATIVE_HUB_VIDEO_LIB_BROWSE:"creative_hub_video_lib_browse",CREATIVE_HUB_VIDEO_PREVIEW:"creative_hub_video_preview",POWER_EDITOR_DUPLICATE_AD:"power_editor_duplicate_ad",POWER_EDITOR_L3:"power_editor_l3",POWER_EDITOR_VIDEO_LIB_BROWSE:"power_editor_video_lib_browse"})}),null);
__d("AdsVideoUploadBox.react",["cx","fbt","ix","AdsProgressBox.react","AdsVideoUploadStatus","AdsVideoUtils","CenteredContainer.react","FileInput.react","Image.react","InlineBlock.react","Link.react","React","WaitTimeArea.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=300,n=35;k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$AdsVideoUploadBox3=function(u){this.$AdsVideoUploadBox4(u.target.files)}.bind(this),this.$AdsVideoUploadBox2=function(u){this.$AdsVideoUploadBox4(u.dataTransfer.files);u.preventDefault()}.bind(this),q}o.prototype.render=function(){var p=this.props.uploadProgress?this.props.uploadProgress:0;switch(this.props.uploadStatus){case c("AdsVideoUploadStatus").UPLOADING:return c("React").createElement(c("CenteredContainer.react"),{className:"_1y4h",horizontal:false,style:{height:this.props.height},vertical:true},c("React").createElement(c("WaitTimeArea.react"),{name:"AdsVideoUploadBox:Upload",owner:"ads_advertiser_experience"},c("React").createElement(c("AdsProgressBox.react"),{processingAction:c("AdsProgressBox.react").PROCESSING_ACTION.Uploading,progressValue:p,striped:false,videoTitle:this.props.uploadTitle,onCancel:this.props.onUploadCancel})));case c("AdsVideoUploadStatus").ENCODING:return c("React").createElement(c("CenteredContainer.react"),{className:"_1y4h",horizontal:false,style:{height:this.props.height},vertical:true},c("React").createElement(c("WaitTimeArea.react"),{name:"AdsVideoUploadBox:Encode",owner:"ads_advertiser_experience"},c("React").createElement(c("AdsProgressBox.react"),{processingAction:c("AdsProgressBox.react").PROCESSING_ACTION.Encoding,progressValue:p,striped:true,videoTitle:this.props.uploadTitle,onCancel:this.props.onUploadCancel})));default:return c("React").createElement("div",{className:"_1y4h",style:{height:this.props.height},onDragOver:this.$AdsVideoUploadBox1,onDrop:this.$AdsVideoUploadBox2},c("React").createElement(c("FileInput.react"),{accept:c("AdsVideoUtils").getVideoFileExtensions(),onChange:this.$AdsVideoUploadBox3},c("React").createElement(c("Link.react"),null,c("React").createElement(c("InlineBlock.react"),{alignv:"middle",className:"_1y4j"},c("React").createElement(c("Image.react"),{className:"_1y4k",src:j("23121")}),c("React").createElement(c("InlineBlock.react"),{alignv:"middle",className:"_1y4l",height:n},i._("Drag and drop a video or click to upload"))))))}};o.prototype.$AdsVideoUploadBox1=function(p){p.preventDefault()};o.prototype.$AdsVideoUploadBox4=function(p){if(this.props.onVideoFileChange)this.props.onVideoFileChange(p)};o.defaultProps={height:m};f.exports=o}),null);
__d("AdsVideoUploadPanel.react",["cx","fbt","AdsImageLegacy","AdsSelected.react","AdsVideoImportSourceTypes","AdsVideoItem.react","AdsVideoUploadBox.react","CenteredContainer.react","React","SUIBusinessTheme","SUIText.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=76;function m(p){__p&&__p();var q=p.video;if(!q.display_url)return null;var r=q.id===p.selectedVideoID,s=i._("Video ({video ID})",[i.param("video ID",q.creation_time)]),t=q.creation_time?q.creation_time:"Instagram",u=function u(){return p.onVideoClick(q.id,t,q.video_url,c("AdsVideoImportSourceTypes").INSTAGRAM)},v=void 0,w=void 0;if(q.video_metadata&&q.video_metadata.height&&q.video_metadata.width){v=q.video_metadata.width;w=q.video_metadata.height}else{var x=new(c("AdsImageLegacy"))({url:q.display_url});if(x.hasDimensions()){w=x.getHeight();v=x.getWidth()}else{w=0;v=0}}return c("React").createElement(c("AdsSelected.react"),{className:"_414a",isSelected:r,key:"video_"+q.id},c("React").createElement(c("AdsVideoItem.react"),{accountCapabilities:p.accountCapabilities,errors:[],height:w,isSpherical:false,length:q.video_metadata&&q.video_metadata.duration?q.video_metadata.duration:0,picture:q.display_url,selectableOnErrors:p.selectableOnErrors,size:"small",title:s,width:v,onClick:u}))}function n(p){var q=void 0;if(p.instagramAccount&&p.instagramAccount.username)q=c("React").createElement(c("SUIText.react"),{display:"inline",shade:"dark",size:"meta1",theme:c("SUIBusinessTheme"),weight:"bold"}," "+p.instagramAccount.username.toString());return c("React").createElement(c("CenteredContainer.react"),{className:"_3x3a",horizontal:false,vertical:true},c("React").createElement(c("SUIText.react"),{display:"block",shade:"dark",size:"medium_DEPRECATED",theme:c("SUIBusinessTheme"),weight:"bold"},i._("Import from Instagram")),c("React").createElement("div",{className:"_3-8w"},i._("Videos from {bold username}{username extension} Instagram are available to upload into Ads Manager. Stories on Instagram are only visible and available to import for 24 hours. Select the videos below that you'd like to upload to the library and use in ads.",[i.param("bold username",q),i.param("username extension",q?"'s ":" ")])))}j=babelHelpers.inherits(o,c("React").PureComponent);k=j&&j.prototype;o.prototype.render=function(){var p=void 0,q=void 0;if(this.props.instagramVideos&&this.props.instagramVideos.length>0){q=l;var r=this.props.instagramVideos.map(function(s,t){return c("React").createElement(m,babelHelpers["extends"]({},this.props,{key:t,video:s}))}.bind(this));p=c("React").createElement("div",{className:"_3x3b"},c("React").createElement(n,{instagramAccount:this.props.instagramAccount}),r)}return c("React").createElement("div",null,c("React").createElement(c("AdsVideoUploadBox.react"),{height:q,uploadProgress:this.props.uploadProgress,uploadStatus:this.props.uploadStatus,uploadTitle:this.props.uploadTitle,onUploadCancel:this.props.onUploadCancel,onVideoFileChange:this.props.onVideoFileChange}),p)};function o(){j.apply(this,arguments)}o.defaultProps={onVideoClick:c("emptyFunction")};f.exports=o}),null);
__d("XBrandVideoAdsShortContentTipEmailController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/brand_video/short_content/tip_email/",{})}),null);
__d("AdsVideoViewsShortContentMegaphoneRenderer",["cssVar","cx","fbt","ix","AdsGuidanceBaseNuxRenderer","AdsGuidanceLogUtils","AdsGuidanceMegaphoneNux.react","AdsHelpTrayUIActions","AdsVideoShortContentTipContentEnum","AdsVideoShortContentTipSourceEnum","AsyncRequest","BIGAdoptionConfig","Grid.react","Image.react","immutable","Layout.react","Link.react","React","SUIBusinessTheme","SUIButton.react","SUILink.react","SUISimplePopover.react","SUIText.react","SUITextInput.react","XBrandVideoAdsShortContentTipEmailController","asset","fbglyph","isEmail"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n,o,p,q,r=c("Grid.react").GridItem,s=c("Layout.react").Column,t=Object.freeze({ERROR:0,NONE:1,SENDING:2,SENT:3}),u="257808937971866",v="video_view_short_content_tip",w="video_ads_video_views_short_content_tip";l=babelHelpers.inherits(x,c("React").Component);m=l&&l.prototype;function x(A){__p&&__p();m.constructor.call(this,A);this.$BrandVideoAdsShortContentMegaphone1=function(){this.setState({email:"",errorMessage:null,emailProcessingStatus:t.NONE,isInvalidEmail:false})}.bind(this);this.$BrandVideoAdsShortContentMegaphone2=function(B){this.setState({email:B,isInvalidEmail:false,errorMessage:null})}.bind(this);this.$BrandVideoAdsShortContentMegaphone3=function(){__p&&__p();if(!c("isEmail")(this.state.email)){this.setState({isInvalidEmail:true,errorMessage:j._("Please enter a valid email address.")});return}this.setState({emailProcessingStatus:t.SENDING});var B=c("XBrandVideoAdsShortContentTipEmailController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(B).setData({recipient_email:this.state.email.trim(),ad_account_id:this.props.adAccountID,tip_source:this.props.tipSource,content_type:this.props.contentType}).setHandler(function(C){if(C.payload.status)this.setState({emailProcessingStatus:t.SENT});else this.setState({emailProcessingStatus:t.ERROR,errorMessage:j._("Unable to send the email. Please try again.")})}.bind(this)).send()}.bind(this);this.state={email:"",errorMessage:null,emailProcessingStatus:t.NONE,isInvalidEmail:false}}x.prototype.$BrandVideoAdsShortContentMegaphone4=function(){switch(this.props.contentType){case c("AdsVideoShortContentTipContentEnum").INSTREAM_PLACEMENT:return k("326342");case c("AdsVideoShortContentTipContentEnum").ADS_INTERFACE:case c("AdsVideoShortContentTipContentEnum").CREATIVE_HUB:case c("AdsVideoShortContentTipContentEnum").VIDEO_ONLOAD:default:return this.props.sizeType==="small"?k("287232"):k("23151")}};x.prototype.$BrandVideoAdsShortContentMegaphone5=function(){switch(this.props.contentType){case c("AdsVideoShortContentTipContentEnum").CREATIVE_HUB:return j._("Tip: Short Videos Perform Better on Mobile");case c("AdsVideoShortContentTipContentEnum").VIDEO_ONLOAD:return j._("Tip: Try a Shorter Video For More Completed Views");case c("AdsVideoShortContentTipContentEnum").INSTREAM_PLACEMENT:return j._("Tip: New Placement Available For Shorter Video Ads");case c("AdsVideoShortContentTipContentEnum").ADS_INTERFACE:default:return j._("Tip: Shorter Videos Get More Completed Views")}};x.prototype.$BrandVideoAdsShortContentMegaphone6=function(){switch(this.props.contentType){case c("AdsVideoShortContentTipContentEnum").CREATIVE_HUB:return j._("Tell your story in 15 seconds or less, and get your entire message across to more people. {=Show More link}",[j.param("=Show More link",c("React").createElement(c("Link.react"),{onClick:this.props.onClick},j._("Show more.")))]);case c("AdsVideoShortContentTipContentEnum").VIDEO_ONLOAD:return j._("More people watch to the end of video ads that are 15s or less. {=Show More link}",[j.param("=Show More link",c("React").createElement(c("Link.react"),{onClick:this.props.onClick},j._("Show more.")))]);case c("AdsVideoShortContentTipContentEnum").INSTREAM_PLACEMENT:var A=function A(){c("AdsHelpTrayUIActions").pushCMSIDToHistory(u)};return j._("Use a 5-15 second video to be eligible for the in-stream videos placement. People tend to watch these ads to the end. {=Show More}",[j.param("=Show More",c("React").createElement(c("Link.react"),{onClick:A},j._("Show more.")))]);case c("AdsVideoShortContentTipContentEnum").ADS_INTERFACE:default:return j._("More people watch to the end of videos that are 15 seconds or less. {=Show More link}",[j.param("=Show More link",c("React").createElement(c("Link.react"),{onClick:this.props.onClick},j._("Show more.")))])}};x.prototype.renderEmailSent=function(){var A=c("BIGAdoptionConfig").ads_fbicon_adoption?k("378272"):k("119370");return c("React").createElement("div",null,c("React").createElement(c("Image.react"),{className:"_t-p",src:A}),c("React").createElement(c("SUIText.react"),{className:"_t-t",customColorUseSparingly:"#42b72a",size:"medium_DEPRECATED"},j._("SENT TO: {email address}",[j.param("email address",this.state.email)])),c("React").createElement("div",{className:"_t-u"},c("React").createElement(c("SUILink.react"),{onClick:this.$BrandVideoAdsShortContentMegaphone1},j._("Send Another"))))};x.prototype.renderSendEmail=function(){return c("React").createElement(c("Layout.react"),null,c("React").createElement(s,null,c("React").createElement(c("Grid.react"),{alignv:"top",cols:2},c("React").createElement(r,null,c("React").createElement("div",null,c("React").createElement(c("SUITextInput.react"),{errorMessage:this.state.errorMessage,placeholder:j._("Enter email address"),onChange:this.$BrandVideoAdsShortContentMegaphone2}))),c("React").createElement(r,{className:"_t-v"},c("React").createElement(c("SUIButton.react"),{disabled:this.state.email.trim().length==0||this.state.isInvalidEmail||this.state.emailProcessingStatus===t.SENDING,label:j._("Send"),use:"confirm",onClick:this.$BrandVideoAdsShortContentMegaphone3})))))};x.prototype.render=function(){var A=this.state.emailProcessingStatus===t.SENT?this.renderEmailSent():this.renderSendEmail();return c("React").createElement(c("AdsGuidanceMegaphoneNux.react"),{containerAlign:"center",imageAlign:"center",imageSrc:this.$BrandVideoAdsShortContentMegaphone4(),key:v,title:this.$BrandVideoAdsShortContentMegaphone5(),onClose:this.props.onClose},c("React").createElement(c("SUIText.react"),{theme:c("SUIBusinessTheme")},this.$BrandVideoAdsShortContentMegaphone6()),c("React").createElement("div",{className:"_t-w"},c("React").createElement("div",{className:"_t-x"},j._("Send This Tip"),c("React").createElement(c("SUISimplePopover.react"),{content:c("React").createElement("span",null,j._("Encourage your team to make shorter videos.")),contentWidthUseSparingly:248,position:"above",theme:c("SUIBusinessTheme")})),c("React").createElement("div",{className:"_t-y"},A)))};n=babelHelpers.inherits(y,c("React").Component);o=n&&n.prototype;function y(A){o.constructor.call(this,A)}y.prototype.render=function(){var A=void 0;switch(this.props.tipSource){case c("AdsVideoShortContentTipSourceEnum").CREATION_FLOW_VIDEO_LIB_BROWSE:case c("AdsVideoShortContentTipSourceEnum").POWER_EDITOR_VIDEO_LIB_BROWSE:A="small";break;default:A="normal"}return c("React").createElement(x,{adAccountID:this.props.adAccountID,contentType:this.props.contentType,sizeType:A,tipSource:this.props.tipSource,onClick:this.props.onClick,onClose:this.props.onClose})};p=babelHelpers.inherits(z,c("AdsGuidanceBaseNuxRenderer"));q=p&&p.prototype;z.prototype.getIDs=function(){return c("immutable").Set([w])};z.prototype.canRender=function(A,B,C){return true};z.prototype.getElement=function(A,B,C,D){var E=function(){c("AdsGuidanceLogUtils").logClick(A,B,C);this.getProps().onClick()}.bind(this),F=this.getProps(),G=F.adAccountID,H=F.contentType,I=F.tipSource;return c("React").createElement(y,{adAccountID:G,contentType:H,nuxData:C,tipSource:I,onClick:E,onClose:D})};function z(){p.apply(this,arguments)}f.exports=z}),null);
__d("VideoAdsShortContentNux.react",["AdsGuidanceStandaloneNuxContainer.react","AdsHelpTrayUIActions","AdsVideoViewsShortContentMegaphoneRenderer","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j="144240239372256",k=c("React").Component;h=babelHelpers.inherits(l,k);i=h&&h.prototype;function l(m){i.constructor.call(this,m)}l.prototype.shouldComponentUpdate=function(){return false};l.prototype.render=function(){var m=function m(){c("AdsHelpTrayUIActions").pushCMSIDToHistory(j)};return c("React").createElement(c("AdsGuidanceStandaloneNuxContainer.react"),{accountID:this.props.adAccountID,channelName:this.props.channelName,className:this.props.className,nuxName:this.props.nuxName,renderer:new(c("AdsVideoViewsShortContentMegaphoneRenderer"))({adAccountID:this.props.adAccountID,contentType:this.props.contentType,tipSource:this.props.tipSource,onClick:m})})};f.exports=l}),null);
__d("adsGetArrayFromLoadObjectWithDefault",[],(function a(b,c,d,e,f,g){"use strict";var h=[];function i(j){var k=arguments.length<=1||arguments[1]===undefined?h:arguments[1];return j.hasValue()?j.getValueEnforcing():k}f.exports=i}),null);
__d("AdsVideoPicker.react",["cx","errorCode","fbt","invariant","AdsApplicationUtils","AdsEditInlinePostWarning.react","AdsEditorMPAConstants","AdsError","AdsErrorUtils","AdsMediaPanelFilters","AdsTestIDs","AdsVideoActions","AdsVideoErrorNoticeUtils","AdsVideoImportPanel.react","AdsVideoImportSourceTypes","AdsVideoPanel.react","AdsVideoSelectionHeader.react","AdsVideoShortContentConstant","AdsVideoShortContentTipContentEnum","AdsVideoShortContentTipSourceEnum","AdsVideoUploadPanel.react","AdsVideoUploadStatus","BootloadedComponent.react","BUIAdoptionDialogButton.react","BUIAdoptionDialogOkayButton.react","JSResource","LoadObject","Map","React","SUIBusinessTheme","SUIModal.react","SUIModalFooter.react","SUINotice.react","SUISpinner.react","VideoAdsShortContentNux.react","adsGetArrayFromLoadObjectWithDefault","emptyFunction","gkx"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("React").PropTypes,o="AYMTAdsInterfacesManagementHomeChannel",p=788,q=new(c("Map"))(),r="video_ads_video_views_short_content_tip_for_qc";l=babelHelpers.inherits(s,c("React").Component);m=l&&l.prototype;function s(t){__p&&__p();m.constructor.call(this,t);this.$AdsVideoPicker17=function(u){var v=this.state.selectedVideoIDs;if(v.includes(u))this.$AdsVideoPicker24(u);else this.$AdsVideoPicker9(u);if(this.props.onVideoClickedByUser)this.props.onVideoClickedByUser()}.bind(this);this.$AdsVideoPicker21=function(){this.$AdsVideoPicker25();this.state.selectedVideoIDs.length||k(0);if(this.props.showVideoDialogPanel)this.$AdsVideoPicker26();this.props.onDialogConfirm(this.state.selectedVideoIDs)}.bind(this);this.$AdsVideoPicker15=function(){this.$AdsVideoPicker25();this.props.onDialogCancel()}.bind(this);this.$AdsVideoPicker1=function(){this.setState({dialogShown:true});this.props.onOpen()}.bind(this);this.$AdsVideoPicker4=function(u){this.$AdsVideoPicker25();this.props.onSelectVideoDialogClose&&this.props.onSelectVideoDialogClose();c("AdsVideoActions").closeVideoPicker(u)}.bind(this);this.$AdsVideoPicker13=function(u){this.props.onTabSwitch(u);this.setState({selectedVideoIDs:[]});this.$AdsVideoPicker10();this.setState({selectedTab:u})}.bind(this);this.$AdsVideoPicker18=function(u){this.setState({importVideoTitle:u})}.bind(this);this.$AdsVideoPicker19=function(u){this.setState({importVideoURL:u})}.bind(this);this.$AdsVideoPicker23=function(){if(this.props.onImportConfirm){this.state.importVideoTitle!=null&&this.state.importVideoURL!=null||k(0);this.props.onImportConfirm(this.state.importVideoTitle,this.state.importVideoURL)}}.bind(this);this.$AdsVideoPicker16=function(u){this.setState({filterSet:u})}.bind(this);this.$AdsVideoPicker20=function(u,v,w,x){var y=this.state.selectedVideoIDs;if(y&&y.includes(u)){this.$AdsVideoPicker24(u);this.$AdsVideoPicker10()}else this.setState({selectedVideoIDs:[u],importVideoTitle:v,importVideoURL:w,importVideoSource:x})}.bind(this);this.$AdsVideoPicker22=function(){this.state.importVideoURL&&this.state.importVideoSource===c("AdsVideoImportSourceTypes").INSTAGRAM&&c("AdsVideoActions").startInstagramVideoLibraryImport(this.state.importVideoURL,this.props.adAccountID);this.$AdsVideoPicker23()}.bind(this);this.state={dialogShown:this.props.shouldPopUpPicker||this.props.showSelectVideoDialog,filterSet:null,importVideoTitle:null,importVideoURL:null,importVideoSource:null,selectedTab:c("AdsVideoSelectionHeader.react").tabs.LIBRARY,selectedVideoIDs:t.selectedVideoIDs}}s.prototype.render=function(){var t=c("React").cloneElement(this.props.children,{onClick:this.$AdsVideoPicker1});return c("React").createElement("span",null,t,c("React").createElement(c("SUIModal.react"),{behaviors:this.props.behaviors||{LayerHideOnBlur:null},"data-testid":c("AdsTestIDs").VIDEO_LIBRARY,footer:this.$AdsVideoPicker2(),header:this.$AdsVideoPicker3(),isShown:this.state.dialogShown,label:j._("Video Selector"),theme:c("SUIBusinessTheme"),width:p,onHide:this.$AdsVideoPicker4},c("React").createElement("div",{className:"_3mrv"},this.$AdsVideoPicker5(),this.$AdsVideoPicker6()),c("React").createElement(c("AdsEditInlinePostWarning.react"),{className:"_1bd2",message:this.props.adEditWarningMessage}),this.$AdsVideoPicker7()))};s.prototype.componentWillReceiveProps=function(t){__p&&__p();if(t.initialSelectedVideoID&&t.initialSelectedVideoID!==c("AdsEditorMPAConstants").MPA_PLACEHOLDER_VIDEO_ID)this.setState({selectedVideoIDs:[t.initialSelectedVideoID]});var u=c("adsGetArrayFromLoadObjectWithDefault")(this.props.videoList),v=c("adsGetArrayFromLoadObjectWithDefault")(t.videoList);if(u.length===v.length+1){var w=this.$AdsVideoPicker8(u,v);if(w&&w.id)this.$AdsVideoPicker9(w.id);this.setState({selectedTab:c("AdsVideoSelectionHeader.react").tabs.LIBRARY});this.$AdsVideoPicker10()}if(!this.props.shouldPopupPicker&&t.shouldPopUpPicker)this.$AdsVideoPicker1()};s.prototype.$AdsVideoPicker9=function(t){var u=this.state.selectedVideoIDs;this.setState({selectedVideoIDs:[t].concat(u.slice(0,this.props.maxSelectedVideos-1))})};s.prototype.$AdsVideoPicker5=function(){__p&&__p();var t=void 0,u=void 0,v=void 0,w=this.$AdsVideoPicker11();if(this.props.errorMessage){t=c("AdsVideoErrorNoticeUtils").getErrorMessageContent(this.props.errorMessage);u="error";v=this.props.onDismissError}else if(w){var x=this.props.videoErrors.get(w);if(x){var y=x.find(function(z){return z.key===1815646});if(y){t=c("AdsErrorUtils").getMessages([y]);u="information"}}}if(!t)return null;return c("React").createElement("div",{className:"_3mru"},c("React").createElement(c("SUINotice.react"),{theme:c("SUIBusinessTheme"),type:u,onClose:v},t))};s.prototype.$AdsVideoPicker12=function(){var t=this.state.filterSet,u=this.props.videoList;if(this.props.filters==null||t==null)return u;return u.map(function(v){return c("AdsMediaPanelFilters").applyVideoFilters(v,t)})};s.prototype.$AdsVideoPicker8=function(t,u){if(t.length>=u.length)return null;return u.find(function(v){return!t.find(function(w){return w.id==v.id})})};s.prototype.$AdsVideoPicker3=function(){if(this.props.hasRemoteUpload)return c("React").createElement(c("AdsVideoSelectionHeader.react"),{selectedTab:this.state.selectedTab,showInstagramVideos:this.props.showInstagramVideos,visible:this.state.dialogShown,onTabSwitch:this.$AdsVideoPicker13});return null};s.prototype.$AdsVideoPicker2=function(){return c("React").createElement(c("SUIModalFooter.react"),{primaryButton:this.$AdsVideoPicker14(),secondaryButton:c("React").createElement(c("BUIAdoptionDialogButton.react"),{label:j._("Cancel"),layerAction:"cancel",onClick:this.$AdsVideoPicker15}),theme:c("SUIBusinessTheme")})};s.prototype.$AdsVideoPicker11=function(){return this.state.selectedVideoIDs[0]};s.prototype.$AdsVideoPicker6=function(){var t=this.props.uploadProgress==null?this.props.uploadProgress:Math.round(this.props.uploadProgress*100);switch(this.state.selectedTab){case c("AdsVideoSelectionHeader.react").tabs.LIBRARY:var u=this.props.filters&&c("React").createElement("div",{className:"_5y6m _2wrx"},c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("AdsMediaPanelFilterBar.react").__setRef("AdsVideoPicker.react"),bootloadPlaceholder:c("React").createElement(c("SUISpinner.react"),{theme:c("SUIBusinessTheme")}),filterSet:this.state.filterSet,mediaType:"video",onChange:this.$AdsVideoPicker16}));if(c("gkx")("AT5Rebyyd7tbwJ8nNYSpRNBG6HQIqRIczu5V5fiRCm5YtmuRoXvR3ISnTlYONCKXHriFJ8kX9qf53DgPIMKy1b8MQc7CPfKYcbnFmVnGYkcZMQ")&&this.props.showVideoDialogPanel)return c("React").createElement(c("BootloadedComponent.react"),{accountCapabilities:this.props.accountCapabilities,bootloadLoader:c("JSResource")("AdsVideoDialogPanel.react").__setRef("AdsVideoPicker.react"),bootloadPlaceholder:c("React").createElement(c("SUISpinner.react"),{theme:c("SUIBusinessTheme")}),hasNextPage:this.props.hasNextPage,maxSelectedVideos:this.props.maxSelectedVideos,selectableOnErrors:this.props.selectableOnErrors,selectedVideoIDs:this.state.selectedVideoIDs,uploadProgress:t,uploadStatus:this.props.uploadStatus,uploadTitle:this.props.uploadTitle,videoErrors:this.props.videoErrors,videoList:this.$AdsVideoPicker12(),onEndReached:this.props.onEndReached,onUploadCancel:this.props.onUploadCancel,onVideoClick:this.$AdsVideoPicker17,onVideoFileChange:this.props.onVideoFileChange});return c("React").createElement("div",null,u,c("React").createElement(c("AdsVideoPanel.react"),{accountCapabilities:this.props.accountCapabilities,selectableOnErrors:this.props.selectableOnErrors,selectedVideoIDs:this.state.selectedVideoIDs,uploadProgress:t,uploadStatus:this.props.uploadStatus,uploadTitle:this.props.uploadTitle,videoErrors:this.props.videoErrors,videoList:c("adsGetArrayFromLoadObjectWithDefault")(this.$AdsVideoPicker12()),onUploadCancel:this.props.onUploadCancel,onVideoClick:this.$AdsVideoPicker17,onVideoFileChange:this.props.onVideoFileChange}));case c("AdsVideoSelectionHeader.react").tabs.IMPORT:return c("React").createElement(c("AdsVideoImportPanel.react"),{hasHelpTray:this.props.hasHelpTray,uploadProgress:t,uploadStatus:this.props.uploadStatus,uploadTitle:this.props.uploadTitle,videoTitle:this.state.importVideoTitle,videoURL:this.state.importVideoURL,onUploadCancel:this.props.onUploadCancel,onVideoTitleChange:this.$AdsVideoPicker18,onVideoURLChange:this.$AdsVideoPicker19});case c("AdsVideoSelectionHeader.react").tabs.UPLOAD:return c("React").createElement(c("AdsVideoUploadPanel.react"),babelHelpers["extends"]({},this.props,{selectedVideoID:this.$AdsVideoPicker11(),uploadProgress:t,videoTitle:this.state.importVideoTitle,onVideoClick:this.$AdsVideoPicker20}));default:return null}};s.prototype.$AdsVideoPicker7=function(){__p&&__p();var t=this.state,u=t.selectedTab,v=t.selectedVideoIDs,w=this.props.videoList,x=c("AdsVideoShortContentConstant").SHORT_CONTENT_VIDEO_LENGTH_LIMIT;if(!c("AdsApplicationUtils").isPowerEditor())return null;if(u!==c("AdsVideoSelectionHeader.react").tabs.LIBRARY||!v.length)return null;var y=c("adsGetArrayFromLoadObjectWithDefault")(w).find(function(z){return v.includes(z.id)});if(y&&y.length<=x)return null;if(this.props.adAccountID==null)return null;return c("React").createElement("div",{style:{position:"absolute",display:"block",width:"100%",bottom:"48px"}},c("React").createElement(c("VideoAdsShortContentNux.react"),{adAccountID:this.props.adAccountID,channelName:o,contentType:c("AdsVideoShortContentTipContentEnum").VIDEO_ONLOAD,nuxName:r,tipSource:c("AdsVideoShortContentTipSourceEnum").POWER_EDITOR_VIDEO_LIB_BROWSE}))};s.prototype.$AdsVideoPicker14=function(){var t=this.state.selectedVideoIDs.every(function(u){var v=this.props.videoErrors.get(u);return!v||v.every(function(w){return w.level!==c("AdsError").Level.WARN})}.bind(this));switch(this.state.selectedTab){case c("AdsVideoSelectionHeader.react").tabs.LIBRARY:return c("React").createElement(c("BUIAdoptionDialogButton.react"),{"data-testid":c("AdsTestIDs").VIDEO_SELECT_BUTTON,disabled:!t||!this.state.selectedVideoIDs.length||this.$AdsVideoPicker11()===c("AdsEditorMPAConstants").MPA_PLACEHOLDER_VIDEO_ID,label:j._("Select"),layerAction:"confirm",use:"confirm",onClick:this.$AdsVideoPicker21});case c("AdsVideoSelectionHeader.react").tabs.UPLOAD:return c("React").createElement(c("BUIAdoptionDialogButton.react"),{"data-testid":c("AdsTestIDs").VIDEO_SELECT_BUTTON,disabled:!this.state.importVideoTitle||!this.state.importVideoURL||this.props.uploadStatus==c("AdsVideoUploadStatus").UPLOADING||this.props.uploadStatus==c("AdsVideoUploadStatus").ENCODING,label:j._("Import"),layerAction:"confirm",use:"confirm",onClick:this.$AdsVideoPicker22});default:return c("React").createElement(c("BUIAdoptionDialogOkayButton.react"),{"data-testid":c("AdsTestIDs").VIDEO_SELECT_BUTTON,disabled:!this.state.importVideoTitle||!this.state.importVideoURL||this.props.uploadStatus==c("AdsVideoUploadStatus").UPLOADING||this.props.uploadStatus==c("AdsVideoUploadStatus").ENCODING,label:j._("Ok"),layerAction:"button",use:"confirm",onClick:this.$AdsVideoPicker23})}};s.prototype.$AdsVideoPicker25=function(){this.setState({dialogShown:false,selectedTab:c("AdsVideoSelectionHeader.react").tabs.LIBRARY});if(this.props.showVideoDialogPanel)this.$AdsVideoPicker26();this.setState({selectedVideoIDs:[]});this.$AdsVideoPicker10();this.props.onClose()};s.prototype.$AdsVideoPicker24=function(t){this.setState({selectedVideoIDs:this.state.selectedVideoIDs.filter(function(u){return u!==t})})};s.prototype.$AdsVideoPicker10=function(){this.setState({importVideoTitle:null,importVideoURL:null})};s.prototype.$AdsVideoPicker26=function(){c("AdsVideoActions").filter(null)};s.propTypes={accountCapabilities:n.array,adAccountID:n.string,adEditWarningMessage:n.node,behaviors:n.object.isRequired,children:n.element.isRequired,errorMessage:n.object,filters:n.object,hasHelpTray:n.bool.isRequired,hasNextPage:n.bool,hasRemoteUpload:n.bool.isRequired,instagramAccount:n.object,instagramVideos:n.array,selectableOnErrors:n.bool,selectedVideoIDs:n.array.isRequired,showInstagramVideos:n.bool,showSelectVideoDialog:n.bool.isRequired,showVideoDialogPanel:n.bool,uploadProgress:n.number,uploadStatus:n.oneOf(Object.keys(c("AdsVideoUploadStatus"))),uploadTitle:n.string,videoErrors:n.instanceOf(c("Map")).isRequired,videoList:n.object.isRequired,onClose:n.func.isRequired,onDialogCancel:n.func.isRequired,onDialogConfirm:n.func.isRequired,onDismissError:n.func,onEndReached:n.func,onImportConfirm:n.func,onOpen:n.func.isRequired,onSelectVideoDialogClose:n.func,onTabSwitch:n.func.isRequired,onUploadCancel:n.func.isRequired,onVideoClickedByUser:n.func,onVideoFileChange:n.func.isRequired};s.defaultProps={adEditWarningMessage:null,behaviors:{},hasHelpTray:false,hasRemoteUpload:true,maxSelectedVideos:1,selectedVideoIDs:[],shouldPopUpPicker:false,showInstagramVideos:false,showSelectVideoDialog:false,videoErrors:q,videoList:c("LoadObject").withValue([]),onClose:c("emptyFunction"),onDialogCancel:c("emptyFunction"),onOpen:c("emptyFunction"),onTabSwitch:c("emptyFunction"),onUploadCancel:c("emptyFunction"),onVideoFileChange:c("emptyFunction")};f.exports=s}),null);
__d("AdsVideoUploadStoreState",["AdsError","AdsVideoUploadStatus","immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({__internalUploader:null,__isChangingBaseVideo:true,__isMPA:false,__placementListWhenUploadStarted:null,__videoErrorInfo:null,__videoUploadingAdLabel:null,continueUploadingWhenPickerClosed:false,encodingTime:null,errorMessage:null,initialSelectedVideoID:null,isBackgroundUploadDisabled:false,progress:0,shouldAppendLoadingBar:false,shouldPopUpPicker:false,status:c("AdsVideoUploadStatus").NONE,title:"",uploadTime:null,newlyUploadedVideoErrors:null,videoUploadingAdgroupIDs:null,videoUploadingCampaignIDs:null,videoUploadingCampaignGroupIDs:null,videoUploadingTabID:null,videoUploadPACInfo:null});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("AdsVideoAdsVideoCaptionChangeDefaultLocaleErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_VIDEO.ADS_VIDEO_CAPTION_CHANGE_DEFAULT_LOCALE_ERROR");f.exports=h}),null);
__d("AdsVideoAdsVideoCaptionEditSuccessDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_VIDEO.ADS_VIDEO_CAPTION_EDIT_SUCCESS");f.exports=h}),null);
__d("AdsVideoAdsVideoCaptionPublishedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_VIDEO.ADS_VIDEO_CAPTION_PUBLISHED");f.exports=h}),null);
__d("AdsVideoAdsVideoCaptionRemoveErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_VIDEO.ADS_VIDEO_CAPTION_REMOVE_ERROR");f.exports=h}),null);
__d("AdsVideoAdsVideoCaptionUploadErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_VIDEO.ADS_VIDEO_CAPTION_UPLOAD_ERROR");f.exports=h}),null);
__d("VideoSpeechRecoTaskStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FAILED:0,SCHEDULED:1,COMPLETED:2})}),null);
__d("XVideoCaptionCreateSRTJobAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/videos/captioneditor/createSRT/",{caption_id:{type:"Int",required:true},queue_id:{type:"Int"}})}),null);
__d("XVideoCaptionDownloadAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/videos/captioneditor/download/",{caption_id:{type:"Int",required:true}})}),null);
__d("XVideoCaptionEditorAdsNUXController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/captioneditor/nuxstatus/",{})}),null);
__d("XVideoCaptionEntryV2NuxLogDismissAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/captioneditor/adnux/log/dismiss/",{})}),null);
__d("XVideoCaptionEntryV2NuxLogViewAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/captioneditor/adnux/log/view/",{})}),null);
__d("XVideoCaptionNotifAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/videos/captioneditor/notif/",{caption_id:{type:"Int",required:true},source_app_id:{type:"FBID"},placement:{type:"Enum",enumType:0},ad_account_id:{type:"Int",required:true}})}),null);
__d("XVideoCaptionRevokeSRTJobAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/videos/captioneditor/revokeSRT/",{caption_id:{type:"Int",required:true},queue_id:{type:"Int"}})}),null);
__d("AdsAutoGeneratedCaptionDataManager",["AdsAutoCaptionConfig","AdsAutoGeneratedCaptionActions","AdsGraphAPI","AdsVideoCaptionActions","AsyncRequest","AsyncResponse","GraphAPIPolling","VideoCaptionEditEvents","VideoCaptionUtil","VideoSpeechRecoTaskStatus","VideoSubtitleStatusType","WebApiApplication","XVideoCaptionCreateSRTJobAsyncController","XVideoCaptionDownloadAsyncController","XVideoCaptionEditorAdsNUXController","XVideoCaptionEntryV2NuxLogDismissAsyncController","XVideoCaptionEntryV2NuxLogViewAsyncController","XVideoCaptionGenerateAsyncController","XVideoCaptionNotifAsyncController","XVideoCaptionPublishAsyncController","XVideoCaptionRevokeSRTJobAsyncController","XVideoCaptionShareAsyncController","XVideoUnPublishCaptionAsyncController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={_isNewVideo:false,downloadCaption:function i(j,k){__p&&__p();var l=c("XVideoCaptionDownloadAsyncController").getURIBuilder().setInt("caption_id",k).getURI();new(c("AsyncRequest"))().setMethod("POST").setHandler(function(m){var n="",o="";if(m.payload){n=m.payload.file;o=m.payload.locale}if(c("VideoCaptionUtil").downloadCaptionFile(n,k,o))c("AdsVideoCaptionActions").logEvent(c("VideoCaptionEditEvents").DOWNLOAD_SUCCESS,j,k);else c("AdsVideoCaptionActions").logEvent(c("VideoCaptionEditEvents").DOWNLOAD_ERROR,j,k)}).setErrorHandler(function(m){c("AsyncResponse").defaultErrorHandler(m);c("AdsVideoCaptionActions").logEvent(c("VideoCaptionEditEvents").DOWNLOAD_ERROR,j,k)}).setURI(l).send()},fetchCaptions:function i(j,k){this._isNewVideo=k;this._pollCaptions(j)["catch"](function(l){return}).done(function(l){var m=l.data,n=m&&m[0]&&m[0].id;if(n)c("AdsVideoCaptionActions").logEvent(c("VideoCaptionEditEvents").FETCHED_SUCCESS,j,n,k.toString())})},_pollCaptions:function i(j){__p&&__p();var k=Date.now(),l={data:[]},m=c("GraphAPIPolling").poll(function(){return c("AdsGraphAPI").get(f.id).object("video",j).edge("auto_generated_captions").get({fields:["id","locale","last_published_time","last_save_time","review_expire_time","status"]})},function(n){__p&&__p();if(!n.data||n.data.length===0){var o=c("AdsAutoCaptionConfig").time_out_in_starting_process;if(!this._isNewVideo||Date.now()-k>=o){if(!this._isNewVideo)this._generateCaption(j);else{c("AdsAutoGeneratedCaptionActions").setCaptions(j,[]);c("AdsVideoCaptionActions").hideAutoCaption(j);c("AdsAutoGeneratedCaptionActions").captionFetched(j)}return true}c("AdsAutoGeneratedCaptionActions").setCaptions(j,[]);return false}c("AdsAutoGeneratedCaptionActions").setCaptions(j,n.data);c("AdsVideoCaptionActions").setCaption(n.data,j);l=n;var p=true;n.data.forEach(function(q){var r=c("VideoSubtitleStatusType")[q.status];if(r===c("VideoSubtitleStatusType").PROCESSING){p=false;return}});return p}.bind(this),c("AdsAutoCaptionConfig").time_out_in_processing,c("AdsAutoCaptionConfig").poll_interval);return m(l).then(function(){return l})},fetchShouldShowNUX:function i(){var j=c("XVideoCaptionEditorAdsNUXController").getURIBuilder().getURI();new(c("AsyncRequest"))().setMethod("POST").setURI(j).setHandler(function(k){var l=k.payload||{};c("AdsAutoGeneratedCaptionActions").setNUXStatus(l)}).send()},setEntryV2NUXClosed:function i(){var j=c("XVideoCaptionEntryV2NuxLogDismissAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))().setMethod("POST").setURI(j).send()},setEntryV2NUXViewed:function i(){var j=c("XVideoCaptionEntryV2NuxLogViewAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))().setMethod("POST").setURI(j).send()},shareCaption:function i(j,k){var l=c("XVideoCaptionShareAsyncController").getURIBuilder().setInt("caption_id",k).getURI();new(c("AsyncRequest"))().setMethod("POST").setHandler(function(m){var n=m.payload||{};c("AdsAutoGeneratedCaptionActions").onShareEdit(k,n,j);c("AdsVideoCaptionActions").logEvent(c("VideoCaptionEditEvents").SHARE_SUCCESS,j,k)}).setErrorHandler(function(m){c("AsyncResponse").defaultErrorHandler(m);c("AdsVideoCaptionActions").logEvent(c("VideoCaptionEditEvents").SHARE_ERROR,j,k)}).setURI(l).send()},revokeShareCaption:function i(j,k){var l=c("XVideoCaptionShareAsyncController").getURIBuilder().setInt("caption_id",k).setInt("revoke",1).getURI();new(c("AsyncRequest"))().setMethod("POST").setHandler(function(m){var n=m.payload||{};c("AdsAutoGeneratedCaptionActions").onShareEdit(k,n,j);c("AdsVideoCaptionActions").logEvent(c("VideoCaptionEditEvents").REVOKE_SHARE_SUCCESS,j,k)}).setErrorHandler(function(m){c("AsyncResponse").defaultErrorHandler(m);c("AdsVideoCaptionActions").logEvent(c("VideoCaptionEditEvents").REVOKE_SHARE_ERROR,j,k)}).setURI(l).send()},createSRTJob:function i(j,k){k.map(function(l){var m=l.get("id"),n=c("XVideoCaptionCreateSRTJobAsyncController").getURIBuilder().setInt("caption_id",m);new(c("AsyncRequest"))().setMethod("POST").setHandler(function(o){var p=o.payload;if(p&&p.created==="success")c("AdsVideoCaptionActions").logEvent(c("VideoCaptionEditEvents").CREATE_SRT_SUCCESS,j,m,p&&p.message);else c("AdsVideoCaptionActions").logEvent(c("VideoCaptionEditEvents").CREATE_SRT_ERROR,j,m,p&&p.error)}).setURI(n.getURI()).send()})},sendNotif:function i(j,k,l){var m=c("XVideoCaptionNotifAsyncController").getURIBuilder().setInt("caption_id",j).setFBID("source_app_id",c("WebApiApplication").getClientID()).setEnum("placement",k).setInt("ad_account_id",l);new(c("AsyncRequest"))().setMethod("POST").setURI(m.getURI()).send()},revokeSRTJob:function i(j,k){k.map(function(l){var m=l.get("id"),n=c("XVideoCaptionRevokeSRTJobAsyncController").getURIBuilder().setInt("caption_id",m);new(c("AsyncRequest"))().setMethod("POST").setHandler(function(o){var p=o.payload;if(p&&p.created==="success")c("AdsVideoCaptionActions").logEvent(c("VideoCaptionEditEvents").REVOKE_SRT_SUCCESS,j,m,p&&p.message);else c("AdsVideoCaptionActions").logEvent(c("VideoCaptionEditEvents").REVOKE_SRT_ERROR,j,m,p&&p.error)}).setURI(n.getURI()).send()})},publishCaption:function i(j,k){var l=c("XVideoCaptionPublishAsyncController").getURIBuilder().setInt("caption_id",k).setFBID("source_app_id",c("WebApiApplication").getClientID()).getURI();new(c("AsyncRequest"))().setMethod("POST").setHandler(function(m){var n=m.payload;if(n&&n.published==="success")c("AdsVideoCaptionActions").logEvent(c("VideoCaptionEditEvents").PUBLISH_SUCCESS,j,k,n&&n.transcription);else c("AdsVideoCaptionActions").logEvent(c("VideoCaptionEditEvents").PUBLISH_ERROR,j,k,n&&n.error)}).setURI(l).send()},unPublishCaption:function i(j,k){var l=c("XVideoUnPublishCaptionAsyncController").getURIBuilder().setInt("caption_id",k).setFBID("source_app_id",c("WebApiApplication").getClientID()).getURI();new(c("AsyncRequest"))().setMethod("POST").setHandler(function(m){var n=m.payload;if(n&&n.unpublish_status==="success"){c("AdsAutoGeneratedCaptionActions").fetchCaptions(j);c("AdsVideoCaptionActions").logEvent(c("VideoCaptionEditEvents").UNPUBLISH_SUCCESS,j,k)}else c("AdsVideoCaptionActions").logEvent(c("VideoCaptionEditEvents").UNPUBLISH_ERROR,j,k,n&&n.error)}).setURI(l).send()},getIsNewVideo:function i(){return this._isNewVideo},regenerateCaption:function i(j,k){c("AdsAutoGeneratedCaptionActions").regenerateCaption(j);this._generateCaption(j,k)},_generateCaption:function i(j,k){__p&&__p();var l=c("XVideoCaptionGenerateAsyncController").getURIBuilder().setInt("video_id",j);if(k)l=l.setString("locale_override",k).setBool("regenerate",true);var m=l.getURI();new(c("AsyncRequest"))().setMethod("POST").setHandler(function(n){__p&&__p();var o=n.payload;if(o&&o.status===c("VideoSpeechRecoTaskStatus").SCHEDULED){c("AdsAutoGeneratedCaptionActions").setNewVideo(j);c("AdsAutoGeneratedCaptionActions").fetchCaptions(j);c("AdsVideoCaptionActions").logEvent(c("VideoCaptionEditEvents").GENERATE_SUCCESS,j,o.caption_id)}else{c("AdsAutoGeneratedCaptionActions").setCaptions(j,[]);c("AdsVideoCaptionActions").hideAutoCaption(j);c("AdsVideoCaptionActions").logEvent(c("VideoCaptionEditEvents").GENERATE_ERROR,j,o&&o.error)}}).setURI(m).send()}};f.exports=h}),null);
__d("AdsAutoGeneratedCaptionCaptionsDownloadDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AdsAutoGeneratedCaption.CAPTIONS.DOWNLOAD");f.exports=h}),null);
__d("AdsAutoGeneratedCaptionCaptionsFetchDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AdsAutoGeneratedCaption.CAPTIONS.FETCH");f.exports=h}),null);
__d("AdsAutoGeneratedCaptionCaptionsFetchFinishedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AdsAutoGeneratedCaption.CAPTIONS.FETCH_FINISHED");f.exports=h}),null);
__d("AdsAutoGeneratedCaptionCaptionsOverrideLocaleDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AdsAutoGeneratedCaption.CAPTIONS.OVERRIDE_LOCALE");f.exports=h}),null);
__d("AdsAutoGeneratedCaptionCaptionsRegenerateCaptionDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AdsAutoGeneratedCaption.CAPTIONS.REGENERATE_CAPTION");f.exports=h}),null);
__d("AdsAutoGeneratedCaptionCaptionsRevokeShareDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AdsAutoGeneratedCaption.CAPTIONS.REVOKE_SHARE");f.exports=h}),null);
__d("AdsAutoGeneratedCaptionCaptionsSetDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AdsAutoGeneratedCaption.CAPTIONS.SET");f.exports=h}),null);
__d("AdsAutoGeneratedCaptionCaptionsShareDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AdsAutoGeneratedCaption.CAPTIONS.SHARE");f.exports=h}),null);
__d("AdsAutoGeneratedCaptionCaptionsShareEditDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AdsAutoGeneratedCaption.CAPTIONS.SHARE_EDIT");f.exports=h}),null);
__d("AdsAutoGeneratedCaptionCaptionsUnpublishDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AdsAutoGeneratedCaption.CAPTIONS.UNPUBLISH");f.exports=h}),null);
__d("AdsAutoGeneratedCaptionInitNuxStatusDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AdsAutoGeneratedCaption.INIT_NUX_STATUS");f.exports=h}),null);
__d("AdsAutoGeneratedCaptionSetEntryNuxV2ClosedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AdsAutoGeneratedCaption.SET_ENTRY_NUX_V2_CLOSED");f.exports=h}),null);
__d("AdsAutoGeneratedCaptionSetEntryNuxV2ViewedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AdsAutoGeneratedCaption.SET_ENTRY_NUX_V2_VIEWED");f.exports=h}),null);
__d("AdsAutoGeneratedCaptionSetNewVideoDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AdsAutoGeneratedCaption.SET_NEW_VIDEO");f.exports=h}),null);
__d("AdsAutoGeneratedCaptionSetNuxStatusDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AdsAutoGeneratedCaption.SET_NUX_STATUS");f.exports=h}),null);
__d("AdsAutoGeneratedCaptionActions",["AdsAutoGeneratedCaptionCaptionsDownloadDataAction","AdsAutoGeneratedCaptionCaptionsFetchDataAction","AdsAutoGeneratedCaptionCaptionsFetchFinishedDataAction","AdsAutoGeneratedCaptionCaptionsOverrideLocaleDataAction","AdsAutoGeneratedCaptionCaptionsRegenerateCaptionDataAction","AdsAutoGeneratedCaptionCaptionsRevokeShareDataAction","AdsAutoGeneratedCaptionCaptionsSetDataAction","AdsAutoGeneratedCaptionCaptionsShareDataAction","AdsAutoGeneratedCaptionCaptionsShareEditDataAction","AdsAutoGeneratedCaptionCaptionsUnpublishDataAction","AdsAutoGeneratedCaptionInitNuxStatusDataAction","AdsAutoGeneratedCaptionSetEntryNuxV2ClosedDataAction","AdsAutoGeneratedCaptionSetEntryNuxV2ViewedDataAction","AdsAutoGeneratedCaptionSetNewVideoDataAction","AdsAutoGeneratedCaptionSetNuxStatusDataAction","AdsAutoGeneratedCaptionStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={changeLanguage:function i(j,k){c("AdsAutoGeneratedCaptionCaptionsOverrideLocaleDataAction").dispatch({videoID:j,locale:k})},downloadCaption:function i(j,k){c("AdsAutoGeneratedCaptionCaptionsDownloadDataAction").dispatch({captionID:j,videoID:k})},fetchCaptions:function i(j){c("AdsAutoGeneratedCaptionCaptionsFetchDataAction").dispatch({videoID:j})},regenerateCaption:function i(j){c("AdsAutoGeneratedCaptionCaptionsRegenerateCaptionDataAction").dispatch({videoID:j})},setCaptions:function i(j,k){c("AdsAutoGeneratedCaptionCaptionsSetDataAction").dispatch({captions:k,videoID:j})},captionFetched:function i(j){c("AdsAutoGeneratedCaptionCaptionsFetchFinishedDataAction").dispatch({videoID:j})},setNewVideo:function i(j){c("AdsAutoGeneratedCaptionStore");c("AdsAutoGeneratedCaptionSetNewVideoDataAction").dispatch({videoID:j})},initNUXStatus:function i(){c("AdsAutoGeneratedCaptionInitNuxStatusDataAction").dispatch({})},setNUXStatus:function i(j){c("AdsAutoGeneratedCaptionSetNuxStatusDataAction").dispatch({payload:j})},setEntryV2NUXViewed:function i(){c("AdsAutoGeneratedCaptionSetEntryNuxV2ViewedDataAction").dispatch({})},setEntryV2NUXClosed:function i(){c("AdsAutoGeneratedCaptionSetEntryNuxV2ClosedDataAction").dispatch({})},setShareCaption:function i(j,k){c("AdsAutoGeneratedCaptionCaptionsShareDataAction").dispatch({captionID:j,videoID:k})},setRevokeShareCaption:function i(j,k){c("AdsAutoGeneratedCaptionCaptionsRevokeShareDataAction").dispatch({captionID:j,videoID:k})},onShareEdit:function i(j,k,l){c("AdsAutoGeneratedCaptionCaptionsShareEditDataAction").dispatch({captionID:j,expireTime:k.expire_time,videoID:l})},unPublishCaption:function i(j,k){c("AdsAutoGeneratedCaptionCaptionsUnpublishDataAction").dispatch({locale:j,videoID:k})}};f.exports=h}),null);
__d("AdsAutoGeneratedCaptionStore",["AdsAutoGeneratedCaptionCaptionsDownloadDataAction","AdsAutoGeneratedCaptionCaptionsFetchDataAction","AdsAutoGeneratedCaptionCaptionsFetchFinishedDataAction","AdsAutoGeneratedCaptionCaptionsOverrideLocaleDataAction","AdsAutoGeneratedCaptionCaptionsRegenerateCaptionDataAction","AdsAutoGeneratedCaptionCaptionsRevokeShareDataAction","AdsAutoGeneratedCaptionCaptionsSetDataAction","AdsAutoGeneratedCaptionCaptionsShareDataAction","AdsAutoGeneratedCaptionCaptionsShareEditDataAction","AdsAutoGeneratedCaptionCaptionsUnpublishDataAction","AdsAutoGeneratedCaptionDataManager","AdsAutoGeneratedCaptionInitNuxStatusDataAction","AdsAutoGeneratedCaptionSetEntryNuxV2ClosedDataAction","AdsAutoGeneratedCaptionSetEntryNuxV2ViewedDataAction","AdsAutoGeneratedCaptionSetNewVideoDataAction","AdsAutoGeneratedCaptionSetNuxStatusDataAction","AdsDataAtom","FluxReduceStore","immutable","VideoSubtitleStatusType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l,m;h=babelHelpers.inherits(n,c("immutable").Record({captions:[],isFetched:false,selectedLocale:null}));i=h&&h.prototype;function n(){h.apply(this,arguments)}j=babelHelpers.inherits(o,c("immutable").Record({captionDataByVideoID:c("immutable").Map(),newVideos:[],showEditorNUX:false,showEntryV2NUX:false}));k=j&&j.prototype;function o(){j.apply(this,arguments)}l=babelHelpers.inherits(p,c("FluxReduceStore"));m=l&&l.prototype;function p(q){m.constructor.call(this,q)}p.prototype.getInitialState=function(){return new o()};p.prototype.reduce=function(q,r){__p&&__p();var s=r.action;switch(s.type){case c("AdsAutoGeneratedCaptionCaptionsDownloadDataAction").actionType:c("AdsAutoGeneratedCaptionDataManager").downloadCaption(s.videoID,s.captionID);return q;case c("AdsAutoGeneratedCaptionCaptionsFetchDataAction").actionType:return q.update("captionDataByVideoID",function(w){var x=q.get("newVideos").indexOf(s.videoID)>=0;c("AdsAutoGeneratedCaptionDataManager").fetchCaptions(s.videoID,x);if(!w.get(s.videoID))return w.set(s.videoID,new n());return w.set(s.videoID,w.get(s.videoID).set("isFetched",false))});case c("AdsAutoGeneratedCaptionCaptionsOverrideLocaleDataAction").actionType:return q.setIn(["captionDataByVideoID",s.videoID,"selectedLocale"],s.locale);case c("AdsAutoGeneratedCaptionCaptionsRegenerateCaptionDataAction").actionType:q=q.setIn(["captionDataByVideoID",s.videoID,"isFetched"],false);return q;case c("AdsAutoGeneratedCaptionCaptionsSetDataAction").actionType:return this.$AdsAutoGeneratedCaptionStore1(q,s);case c("AdsAutoGeneratedCaptionCaptionsShareDataAction").actionType:c("AdsAutoGeneratedCaptionDataManager").shareCaption(s.videoID,s.captionID);return q;case c("AdsAutoGeneratedCaptionCaptionsRevokeShareDataAction").actionType:c("AdsAutoGeneratedCaptionDataManager").revokeShareCaption(s.videoID,s.captionID);return q;case c("AdsAutoGeneratedCaptionCaptionsShareEditDataAction").actionType:return this.$AdsAutoGeneratedCaptionStore2(q,s);case c("AdsAutoGeneratedCaptionInitNuxStatusDataAction").actionType:c("AdsAutoGeneratedCaptionDataManager").fetchShouldShowNUX();return q;case c("AdsAutoGeneratedCaptionSetNuxStatusDataAction").actionType:q=q.merge({showEditorNUX:s.payload&&s.payload.showEditorNUX,showEntryV2NUX:s.payload&&s.payload.showEntryV2NUX});return q;case c("AdsAutoGeneratedCaptionSetNewVideoDataAction").actionType:var t=q.newVideos.slice();t.push(s.videoID);if(q.getIn(["captionDataByVideoID",s.videoID]))c("AdsAutoGeneratedCaptionDataManager").fetchCaptions(s.videoID,true);return q.set("newVideos",t);case c("AdsAutoGeneratedCaptionCaptionsUnpublishDataAction").actionType:var u=q.getIn(["captionDataByVideoID",s.videoID,"captions"]),v=s.locale;if(u&&u.length>0&&u[0].locale===v)c("AdsAutoGeneratedCaptionDataManager").unPublishCaption(s.videoID,u[0].id);return q;case c("AdsAutoGeneratedCaptionSetEntryNuxV2ViewedDataAction").actionType:c("AdsAutoGeneratedCaptionDataManager").setEntryV2NUXViewed();return q;case c("AdsAutoGeneratedCaptionSetEntryNuxV2ClosedDataAction").actionType:c("AdsAutoGeneratedCaptionDataManager").setEntryV2NUXClosed();return q.set("showEntryV2NUX",false);case c("AdsAutoGeneratedCaptionCaptionsFetchFinishedDataAction").actionType:q=q.setIn(["captionDataByVideoID",s.videoID,"isFetched"],true);return q;default:return q}};p.prototype.getIsFetched=function(q){return q?this.getState().getIn(["captionDataByVideoID",q,"isFetched"]):false};p.prototype.$AdsAutoGeneratedCaptionStore1=function(q,r){if(!q.getIn(["captionDataByVideoID",r.videoID]))return q;var s=c("AdsAutoGeneratedCaptionDataManager").getIsNewVideo();if(s&&(!r.captions||!r.captions[0])||r.captions&&r.captions[0]&&c("VideoSubtitleStatusType")[r.captions[0].status]===c("VideoSubtitleStatusType").PROCESSING&&q.getIn(["captionDataByVideoID",r.videoID,"isFetched"]))return q;q=q.setIn(["captionDataByVideoID",r.videoID,"isFetched"],true);return q.setIn(["captionDataByVideoID",r.videoID,"captions"],r.captions)};p.prototype.$AdsAutoGeneratedCaptionStore2=function(q,r){var s=q.getIn(["captionDataByVideoID",r.videoID,"captions"]).map(function(t){if(t.id!==r.captionID)return t;return Object.assign({},t,{review_expire_time:parseInt(r.expireTime,10)})});return q.setIn(["captionDataByVideoID",r.videoID,"captions"],s)};f.exports=new p(c("AdsDataAtom"))}),null);
__d("AdsVideoAdsVideoCaptionEditorOpenedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_VIDEO.ADS_VIDEO_CAPTION_EDITOR_OPENED");f.exports=h}),null);
__d("AdsVideoCaptionCaptionConfigInitDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CAPTION_CONFIG_INIT");f.exports=h}),null);
__d("AdsVideoCaptionCaptionHideAutoDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CAPTION_HIDE_AUTO");f.exports=h}),null);
__d("AdsVideoCaptionCaptionLoggingDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CAPTION_LOGGING");f.exports=h}),null);
__d("AdsVideoCaptionCaptionOptionSelectDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CAPTION_OPTION_SELECT");f.exports=h}),null);
__d("AdsVideoCaptionCaptionRemoveFromAdDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CAPTION_REMOVE_FROM_AD");f.exports=h}),null);
__d("AdsVideoCaptionCaptionSaveToAdDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CAPTION_SAVE_TO_AD");f.exports=h}),null);
__d("AdsVideoCaptionCaptionSetDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CAPTION_SET");f.exports=h}),null);
__d("AdsVideoCaptionCreateSrtJobWithFbReviewDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CREATE_SRT_JOB_WITH_FB_REVIEW");f.exports=h}),null);
__d("AdsVideoCaptionReviewOptionSelectDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"REVIEW_OPTION_SELECT");f.exports=h}),null);
__d("AdsVideoCaptionRevokeSrtJobWithFbReviewDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"REVOKE_SRT_JOB_WITH_FB_REVIEW");f.exports=h}),null);
__d("AdsVideoCaptionUpdatePreviewDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"UPDATE_PREVIEW");f.exports=h}),null);
__d("AdsVideoCaptionUtils",["fbt","Promise","AdsGraphAPI","AdsVideoFetcher","FBJSON","GraphAPI","React","SimpleXUIDialog","URI","UrlMap","VideoCreatorProductType","gkx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("AdsGraphAPI").getVersion(),j=180,k={upload:function l(m,n,o){__p&&__p();return new(c("Promise"))(function(p,q){__p&&__p();var r=o.value.split("\\").pop().split("/").pop(),s=new FormData();s.append("captions_file",o.files[0],r);var t=new XMLHttpRequest();t.onerror=function(){q({videoID:m})};t.onload=function(){var v=c("FBJSON").parse(t.responseText);if(v.error)q(v.error);else p(m)};var u=new(c("URI"))(c("UrlMap").resolve("graph")).setPath("/v"+i+"/"+m+"/captions").setQueryData({access_token:n});t.open("POST",u.toString(),true);t.send(s)}).then(function(m){return c("AdsVideoFetcher").genSingleVideo(m,true)})},uploadCaptions:function l(m,n,o,p,q){__p&&__p();return new(c("Promise"))(function(r,s){__p&&__p();var t=new FormData();o.forEach(function(w,x){var y="captions_file"+x,z=w.getFile();t.append(y,z)});if(q)t.append("default_locale",q);p.forEach(function(w,x){t.append("locales_to_delete["+x+"]",w)});if(q)t.append("default_locale",q);var u=new XMLHttpRequest();u.onerror=function(){s({videoID:m})};u.onload=function(){var w=c("FBJSON").parse(u.responseText);if(w.error)s(w.error);else r(m)};var v=new(c("URI"))(c("UrlMap").resolve("graph")).setPath("/v"+i+"/"+m+"/captions").setQueryData({access_token:n});u.open("POST",v.toString(),true);u.send(t)}).then(function(m){return c("AdsVideoFetcher").genSingleVideo(m,true)})},changeDefaultLocale:function l(m,n){return c("GraphAPI")(i).object("video",m).edge("captions").post({default_locale:n}).then(function(o){return c("AdsVideoFetcher").genSingleVideo(m,true)})},remove:function l(m,n){return c("GraphAPI")(i).object("video",m).edge("captions").remove({locale:n}).then(function(o){return c("AdsVideoFetcher").genSingleVideo(m,true)})},fetchCaption:function l(m){return c("GraphAPI")(i).object("video",m).edge("captions").get().then(function(n){return c("AdsVideoFetcher").genSingleVideo(m,true)})},shouldShowRedesign:function l(){return c("gkx")("AT7LyZ_SA-cbXOrHkbsm0JnOVmAG5OpVskaib9zYus0l3Wv6dOdUxYbZ68HZoxTVoxVOiiAqbp1Py707Frht6mFV")},onClickDeleteCaption:function l(m,n){var o=h._("Delete Caption"),p=h._("Are you sure you want to delete this video caption?");c("SimpleXUIDialog").showConfirm(p,o,function(q){if(q)m(n)})},isFBReviewDisabled:function l(m){return!!m&&(m.creator_product===c("VideoCreatorProductType").SLIDESHOW||m.length>=j)},getVideoCaptionRecommendation:function l(){return c("React").createElement("div",null,c("React").createElement("div",{style:{fontSize:"16px"}},h._("Increase engagement with video captions")),c("React").createElement("div",{style:{fontSize:"12px"}},h._("Make it easy for people to watch your video without sound. Videos with captions average 12\u0025 more watch time.")))}};f.exports=k}),null);
__d("AdsVideoCaptionActions",["AdsAutoGeneratedCaptionActions","AdsVideoAdsVideoCaptionChangeDefaultLocaleErrorDataAction","AdsVideoAdsVideoCaptionEditorOpenedDataAction","AdsVideoAdsVideoCaptionEditSuccessDataAction","AdsVideoAdsVideoCaptionPublishedDataAction","AdsVideoAdsVideoCaptionRemoveErrorDataAction","AdsVideoAdsVideoCaptionUploadErrorDataAction","AdsVideoCaptionCaptionConfigInitDataAction","AdsVideoCaptionCaptionHideAutoDataAction","AdsVideoCaptionCaptionLoggingDataAction","AdsVideoCaptionCaptionOptionSelectDataAction","AdsVideoCaptionCaptionRemoveFromAdDataAction","AdsVideoCaptionCaptionSaveToAdDataAction","AdsVideoCaptionCaptionSetDataAction","AdsVideoCaptionCreateSrtJobWithFbReviewDataAction","AdsVideoCaptionReviewOptionSelectDataAction","AdsVideoCaptionRevokeSrtJobWithFbReviewDataAction","AdsVideoCaptionUpdatePreviewDataAction","AdsVideoCaptionUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={uploadCaption:function i(j,k,l){c("AdsVideoCaptionUtils").upload(j,l,k).done(function(m){return this.onEditSuccess(m)}.bind(this),function(m){return this._onUploadError(m)}.bind(this))},uploadCaptions:function i(j,k,l,m,n){c("AdsVideoCaptionUtils").uploadCaptions(j,n,k,l,m).done(function(o){return this.onEditSuccess(o)}.bind(this),function(o){return this._onUploadError(o)}.bind(this))},changeDefaultLocale:function i(j,k){c("AdsVideoCaptionUtils").changeDefaultLocale(j,k).done(function(l){return this.onEditSuccess(l)}.bind(this),function(l){return this._onDefaultChangeError(l)}.bind(this))},refreshCaption:function i(j){c("AdsVideoCaptionUtils").fetchCaption(j).done(function(k){return this.onEditSuccess(k)}.bind(this),function(k){return this._onDefaultChangeError(k)}.bind(this))},removeCaption:function i(j,k){c("AdsVideoCaptionUtils").remove(j,k).done(function(l){c("AdsAutoGeneratedCaptionActions").unPublishCaption(k,j);this.onEditSuccess(l)}.bind(this),function(l){return this._onRemoveError(l)}.bind(this))},videoCaptionEditorPublished:function i(j){this.refreshCaption(j);c("AdsVideoAdsVideoCaptionPublishedDataAction").dispatch({videoID:j})},videoCaptionEditorOpened:function i(j){c("AdsVideoAdsVideoCaptionEditorOpenedDataAction").dispatch({videoID:j})},initCaptionStore:function i(j,k,l){c("AdsVideoCaptionCaptionConfigInitDataAction").dispatch({videoID:j,accountID:k,placement:l})},captionOptionSelect:function i(j,k,l,m){c("AdsVideoCaptionCaptionOptionSelectDataAction").dispatch({selected:j,videoID:k,placement:l,isInitialized:m})},hideAutoCaption:function i(j){c("AdsVideoCaptionCaptionHideAutoDataAction").dispatch({videoID:j})},removeFromAd:function i(j){c("AdsVideoCaptionCaptionRemoveFromAdDataAction").dispatch({videoID:j})},reviewOptionSelect:function i(j,k){c("AdsVideoCaptionReviewOptionSelectDataAction").dispatch({selected:parseInt(j,10),videoID:k})},saveToAd:function i(j,k){c("AdsVideoCaptionCaptionSaveToAdDataAction").dispatch({videoID:j,placement:k})},setCaption:function i(j,k){c("AdsVideoCaptionCaptionSetDataAction").dispatch({captions:j,videoID:k})},onEditSuccess:function i(j){c("AdsVideoAdsVideoCaptionEditSuccessDataAction").dispatch({data:{video:j},timestamp:Date.now()})},updatePreview:function i(){c("AdsVideoCaptionUpdatePreviewDataAction").dispatch({timestamp:Date.now()})},createSRTJobWithFBReview:function i(j,k){c("AdsVideoCaptionCreateSrtJobWithFbReviewDataAction").dispatch({videoID:j,placement:k})},revokeSRTJobWithFBReview:function i(j,k){c("AdsVideoCaptionRevokeSrtJobWithFbReviewDataAction").dispatch({videoID:j,placement:k})},logEvent:function i(event,j,k,l){c("AdsVideoCaptionCaptionLoggingDataAction").dispatch({event:event,videoID:j,captionID:k,message:l})},_onUploadError:function i(j){c("AdsVideoAdsVideoCaptionUploadErrorDataAction").dispatch({error:j})},_onDefaultChangeError:function i(j){c("AdsVideoAdsVideoCaptionChangeDefaultLocaleErrorDataAction").dispatch({error:j})},_onRemoveError:function i(j){c("AdsVideoAdsVideoCaptionRemoveErrorDataAction").dispatch({error:j})}};f.exports=h}),null);
__d("AdsVideoDataManager",["AdsBaseDataManager","AdsGraphAPI","AdsVideoActions","AdsVideoFetcher","Map","VideoGraphFields"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=[c("VideoGraphFields").CAPTIONS,c("VideoGraphFields").CREATOR_PRODUCT,c("VideoGraphFields").DESCRIPTION,c("VideoGraphFields").FORMAT,c("VideoGraphFields").HAS_SOUND,c("VideoGraphFields").ID,c("VideoGraphFields").LENGTH,c("VideoGraphFields").SPHERICAL,c("VideoGraphFields").THUMBNAILS,c("VideoGraphFields").TITLE,c("VideoGraphFields").UPDATED_TIME,c("VideoGraphFields").HAS_HD_QUALITY,c("VideoGraphFields").VIDEO_ASSET_ID];h=babelHelpers.inherits(k,c("AdsBaseDataManager"));i=h&&h.prototype;k.prototype.loadAll=function(l){l.forEach(function(m){return this.load(m)}.bind(this))};k.prototype.load=function(l){c("AdsGraphAPI").get(f.id).object("video",l).batched().get({fields:j}).done(this.__handleSuccess.bind(this,["load"],l,null),this.__handleError.bind(this,["load"],l,null))};k.prototype.__getMultiple=function(l){return this.__withBatching(l,c("AdsGraphAPI").get(f.id).objects("video",l)).get({fields:j})};k.prototype.__onBatchLoaded=function(l){var m=new(c("Map"))();l.forEach(function(n,o){m.set(o,c("AdsVideoFetcher").processFetchedVideo(n))});c("AdsVideoActions").videoBatchLoaded(m)};k.prototype.__onBatchLoadError=function(l){c("AdsVideoActions").videoBatchLoadError(l)};function k(){h.apply(this,arguments)}f.exports=new k()}),null);
__d("AdsVideoRemoveVideoCaptionDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.REMOVE_VIDEO_CAPTION");f.exports=h}),null);
__d("AdsVideoSetDefaultCaptionDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.SET_DEFAULT_CAPTION");f.exports=h}),null);
__d("AdsVideoUploadCaptionDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.UPLOAD_CAPTION");f.exports=h}),null);
__d("AdsVideoUploadCaptionsDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.UPLOAD_CAPTIONS");f.exports=h}),null);
__d("AdsVideoStore",["fbt","AdsBaseDataStore","AdsLoadState_LEGACY","AdsVideoAdsVideoCaptionChangeDefaultLocaleErrorDataAction","AdsVideoAdsVideoCaptionEditSuccessDataAction","AdsVideoAdsVideoCaptionPublishedDataAction","AdsVideoAdsVideoCaptionRemoveErrorDataAction","AdsVideoAdsVideoCaptionUploadErrorDataAction","AdsVideoBatchLoadedDataAction","AdsVideoBatchLoadErrorDataAction","AdsVideoCaptionActions","AdsVideoDataManager","AdsVideoEncodingSuccessDataAction","AdsVideoItemClickedDataAction","AdsVideoRemoveVideoCaptionDataAction","AdsVideoSetDefaultCaptionDataAction","AdsVideoUploadCaptionDataAction","AdsVideoUploadCaptionsDataAction","Map","WebApiApplication"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("AdsBaseDataStore"));j=i&&i.prototype;function k(){j.constructor.call(this);this.$AdsVideoStore3=null;this.$AdsVideoStore1=false;this.$AdsVideoStore2=null}k.prototype.getDataManager=function(){return c("AdsVideoDataManager")};k.prototype.isEditingVideoCaption=function(){return this.$AdsVideoStore1};k.prototype.getLastCaptionUploadErrorMessage=function(){if(!this.$AdsVideoStore2)return"";if(this.$AdsVideoStore2.error_user_msg)return this.$AdsVideoStore2.error_user_msg;else switch(this.$AdsVideoStore2.error_code){case 200:return h._("You may not have permission to edit this video, please upload a new one and try again.");default:return h._("Caption Upload Failed.")}};k.prototype.__onDispatch=function(l){__p&&__p();var m=l.action;switch(m.actionType){case c("AdsVideoAdsVideoCaptionPublishedDataAction").actionType:this.$AdsVideoStore1=true;c("AdsVideoCaptionActions").refreshCaption(m.videoID);this.__emitChange();break;case c("AdsVideoRemoveVideoCaptionDataAction").actionType:this.$AdsVideoStore2=null;this.$AdsVideoStore1=true;c("AdsVideoCaptionActions").removeCaption(m.videoID,m.locale);this.__emitChange();break;case c("AdsVideoSetDefaultCaptionDataAction").actionType:this.$AdsVideoStore1=true;c("AdsVideoCaptionActions").changeDefaultLocale(m.videoID,m.locale);this.__emitChange();break;case c("AdsVideoUploadCaptionDataAction").actionType:this.$AdsVideoStore1=true;this.$AdsVideoStore2=null;c("AdsVideoCaptionActions").uploadCaption(m.videoID,m.fileInput,c("WebApiApplication").getAccessToken());this.__emitChange();break;case c("AdsVideoUploadCaptionsDataAction").actionType:this.$AdsVideoStore1=true;this.$AdsVideoStore2=null;c("AdsVideoCaptionActions").uploadCaptions(m.videoID,m.captionFiles,m.localesToRemove,m.defaultLocale,c("WebApiApplication").getAccessToken());this.__emitChange();break;case c("AdsVideoAdsVideoCaptionEditSuccessDataAction").actionType:this.$AdsVideoStore1=false;this.$AdsVideoStore2=null;this.$AdsVideoStore4(m.data.video);this.__emitChange();break;case c("AdsVideoAdsVideoCaptionRemoveErrorDataAction").actionType:case c("AdsVideoAdsVideoCaptionChangeDefaultLocaleErrorDataAction").actionType:this.$AdsVideoStore1=false;this.__emitChange();break;case c("AdsVideoAdsVideoCaptionUploadErrorDataAction").actionType:this.$AdsVideoStore2=m.error;this.$AdsVideoStore1=false;this.__emitChange();break;case c("AdsVideoEncodingSuccessDataAction").actionType:this.__handleData(new(c("Map"))([[m.video.id,m.video]]),c("AdsLoadState_LEGACY").LOADED);break;case c("AdsVideoItemClickedDataAction").actionType:this.$AdsVideoStore2=null;this.__emitChange();break;case c("AdsVideoBatchLoadedDataAction").actionType:this.__handleData(m.videos,c("AdsLoadState_LEGACY").LOADED);break;case c("AdsVideoBatchLoadErrorDataAction").actionType:this.__handleData(m.errors,c("AdsLoadState_LEGACY").ERROR);break}};k.prototype.$AdsVideoStore4=function(l){this.__handleData(new(c("Map"))([[l.id,l]]),c("AdsLoadState_LEGACY").LOADED)};f.exports=new k()}),null);
__d("adsLoadableVideoListSelector",["AdsVideoStore","LoadObject","adsCreateStoreSelector"],(function a(b,c,d,e,f,g){"use strict";var h=c("adsCreateStoreSelector")([c("AdsVideoStore")],function(i){var j=i.videoIDs;return j.map(function(k){return Array.from(c("AdsVideoStore").getAll(k).values())})},f.id+".adsLoadableVideoListSelector");f.exports=h}),null);
__d("AdsUEditorAdgroupMutators",["AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsUnifiedCreativeAPIFields","getByPath"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(o,p,q){__p&&__p();var r=q?q.id:null;if(c("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(o))return i(o,p,q);var s=c("AdsUnifiedCreativeAPIFields").imageHash.getPath(o,p),t=c("AdsUnifiedCreativeAPIFields").videoThumbnailURL.getPath(o,p),u=c("AdsUnifiedCreativeAPIFields").videoID.getPath(o,p);o=s?o.deleteIn(s):o;if(!r){o=u?o.deleteIn(u):o;o=t?o.deleteIn(t):o;return o.deleteIn(c("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_URL)}o=u?o.setIn(u,r):o;var v=c("getByPath")(q,["preferredThumbnail","uri"]);o=t?o.setIn(t,v):o;o=o.setIn(c("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_URL,v).deleteIn(c("AdsAPIAdgroupPaths").CREATIVE.VIDEO_ID).deleteIn(c("AdsAPIAdgroupPaths").CREATIVE.IMAGE_HASH).deleteIn(c("AdsAPIAdgroupPaths").CREATIVE.IMAGE_URL).deleteIn(c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_HASH);if(c("AdsUnifiedCreativeAPIFields").captionIDs.isSupported(o,p))o=o.setIn(c("AdsUnifiedCreativeAPIFields").captionIDs.getPathOrThrow(o,p),null);return o}function i(o,p,q){var r=q?q.id:null;if(r){o=c("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(o,p,c("AdsUnifiedCreativeAPIFields").videoID,0,c("AdsAPIAdAssetFeedVideosFields").VIDEO_ID,r);var s=c("getByPath")(q,["preferredThumbnail","uri"]);return c("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(o,p,c("AdsUnifiedCreativeAPIFields").videoThumbnailURL,0,c("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL,s)}else return c("AdsAssetFeedMutationUtils").removeAssetAtIndex(o,p,c("AdsUnifiedCreativeAPIFields").videoID,0)}function j(o,p,q){if(c("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(o))return k(q,o);return o.setIn(c("AdsUnifiedCreativeAPIFields").captionIDs.getPath(o,p),q)}function k(o,p){var q=c("AdsAssetFeedFieldUtils").getDefaultAssetIndex(p,c("AdsAPIAdAssetFeedFields").VIDEOS);return c("AdsAssetFeedMutationUtils").setVideoCaptionAtIndex(p,q,o)}function l(o,p,q){if(c("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(o))return m(o,p,q);o=o.setIn(c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_URL,q).deleteIn(c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_HASH);return n(o,q)}function m(o,p,q){var r=c("AdsAssetFeedFieldUtils").getDefaultAssetIndex(o,c("AdsAPIAdAssetFeedFields").VIDEOS);if(q)return c("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(o,p,c("AdsUnifiedCreativeAPIFields").videoThumbnailURL,r,c("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL,q);else return c("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(o,p,c("AdsUnifiedCreativeAPIFields").videoThumbnailURL,r,c("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL)}function n(o,p){return o.setIn(c("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_URL,p)}f.exports={setVideoCaptionIDs:j,setVideoID:h,setVideoImageURL:l,setThumbnailURL:n,setAssetFeedVideoID:i}}),null);
__d("AdsPlacementAssetMutationUtils",["invariant","AdsAdgroupPostTypeMutators","AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPIAdLabelFields","AdsAPICampaignPaths","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsCallToActionTypes","AdsMutators","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsTargetingRuleUtils","AdsUEditorAdgroupMutators","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes","ApiDynamicCreativeOptimizationAdFormat","ApiDynamicCreativeOptimizationTypes","immutable","NonURLLinkCTATypes","nullthrows"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("AdsMutators").deleteIn;function j(u,v,w,x){var y,z;return u.setIn(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TARGET_RULES,c("immutable").List([c("immutable").Map((z={},z[v]=c("immutable").Map((y={},y[c("AdsAPIAdLabelFields").NAME]=w,y)),z[c("AdsAPIAdAssetTargetRuleFields").TARGETING]=x,z))]))}function k(u,v,w,x){__p&&__p();var y=c("AdsAdgroupPostTypeMutators").convertToAssetFeedSpec(c("AdsAPIAdgroupRecordUtils").getObjectType(u),u).setIn(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,c("immutable").List.of(x==="image"?c("ApiDynamicCreativeOptimizationAdFormat").SINGLE_IMAGE:c("ApiDynamicCreativeOptimizationAdFormat").SINGLE_VIDEO)).setIn(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE,c("ApiDynamicCreativeOptimizationTypes").PLACEMENT),z=v.getIn(c("AdsAPICampaignPaths").TARGETING.path),A=c("AdsPlacementAssetTargetingRuleUtils").campaignTargetingToTargetingRulesTargeting(z.toJS?z.toJS():z),B=c("AdsPlacementAssetUtils").makeUniqueLabelNameForPlacementAsset();if(x==="image")y=c("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(y,w,c("AdsUnifiedCreativeAPIFields").imageHash,0,c("AdsAPIAdAssetFeedImagesFields").ADLABELS,B);else y=c("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(y,w,c("AdsUnifiedCreativeAPIFields").videoID,0,c("AdsAPIAdAssetFeedVideosFields").ADLABELS,B);y=j(y,x==="image"?c("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL:c("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL,B,A);var C=c("AdsAssetFeedFieldUtils").firstCTAAsset_TALK_WITH_ACE_BEFORE_USE(c("AdsUnifiedCreativeAPIFields").callToActionType.getValue(y,w));if(C==null||Object.keys(c("NonURLLinkCTATypes")).includes(C)){var D=w.getDefaultCallToActionType(y);if(Object.keys(c("NonURLLinkCTATypes")).includes(D))D=c("AdsCallToActionTypes").TYPES.LEARN_MORE.name;y=c("AdsAssetFeedMutationUtils").setStringAssetsArrayInField(y,w,c("AdsUnifiedCreativeAPIFields").callToActionType,[D])}return y}function l(u,v,w){return k(u,v,w,"image")}function m(u,v,w){return k(u,v,w,"video")}function n(u,v){if(u.getIn(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES)){var w=i(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES,u);return c("AdsAdgroupPostTypeMutators").convertFromAssetFeedSpec(c("ApiAdObjectTypes").SHARE,w,v)}else if(u.getIn(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS)){var x=i(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS,u);return c("AdsAdgroupPostTypeMutators").convertFromAssetFeedSpec(c("ApiAdObjectTypes").VIDEO,x,v)}return u}function o(u,v,w,x){__p&&__p();var y=x==="image"?c("AdsAssetFeedFieldUtils").getAssetEntryForLabel(u.getIn(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES),c("AdsAPIAdAssetFeedImagesFields").ADLABELS,w,c("AdsAPIAdAssetFeedImagesFields").HASH).index:c("AdsAssetFeedFieldUtils").getAssetEntryForLabel(u.getIn(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS),c("AdsAPIAdAssetFeedVideosFields").ADLABELS,w,c("AdsAPIAdAssetFeedVideosFields").VIDEO_ID).index;y!=null||h(0);var z=void 0;if(x==="image")z=c("AdsAssetFeedMutationUtils").removeAssetAtIndex(u,v,c("AdsUnifiedCreativeAPIFields").imageHash,y);else z=c("AdsAssetFeedMutationUtils").removeAssetAtIndex(u,v,c("AdsUnifiedCreativeAPIFields").videoID,y);var A=x==="image"?z.getIn(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES):z.getIn(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS);if(A.length===1)return c("AdsAdgroupPostTypeMutators").convertFromAssetFeedSpec(x==="image"?c("ApiAdObjectTypes").SHARE:c("ApiAdObjectTypes").VIDEO,z,c("nullthrows")(v.pivots.objective));var B=c("AdsTargetingRuleUtils").getTargetingRuleEntryForLabel(z.getIn(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TARGET_RULES),x==="image"?c("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL:c("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL,w).value;B!=null||h(0);var C=z.getIn(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TARGET_RULES),D=c("AdsPlacementAssetUtils").getFirstTargetRuleLabel(z,x);if(D!=null){var E=c("AdsPlacementAssetTargetingRuleUtils").movePlacementsInTargetingRules(C||c("immutable").List(),x==="image"?c("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL:c("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL,D,c("AdsPlacementAssetTargetingRuleUtils").convertTargetingRuleToPlacementList(B)).updatedTargetingRules;z=z.setIn(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TARGET_RULES,E)}return z}function p(u,v,w,x){__p&&__p();var y,z=u.getIn(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TARGET_RULES),A=c("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsPlacementListsMap(z,x==="image"?c("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL:c("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL),B=Array.from(A.keys()).find(function(H){return c("AdsPlacementAssetUtils").containsAssetCustomizationPlacement(A.get(H),w)});if(!B)return u;var C=x==="image"?c("AdsAssetFeedFieldUtils").getAssetEntryForLabel(u.getIn(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES),c("AdsAPIAdAssetFeedImagesFields").ADLABELS,B,c("AdsAPIAdAssetFeedImagesFields").HASH).index:c("AdsAssetFeedFieldUtils").getAssetEntryForLabel(u.getIn(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS),c("AdsAPIAdAssetFeedVideosFields").ADLABELS,B,c("AdsAPIAdAssetFeedVideosFields").VIDEO_ID).index;C!=null||h(0);if(A.get(B).size===1){var D=void 0;if(x==="image")D=c("AdsAssetFeedMutationUtils").removeAssetAtIndex(u,v,c("AdsUnifiedCreativeAPIFields").imageHash,C);else D=c("AdsAssetFeedMutationUtils").removeAssetAtIndex(u,v,c("AdsUnifiedCreativeAPIFields").videoID,C);var E=c("AdsTargetingRuleUtils").getTargetingRuleEntryForLabel(z,x==="image"?c("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL:c("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL,B).index;E!=null||h(0);var F=z["delete"](E);D=D.setIn(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TARGET_RULES,F);var G=x==="image"?D.getIn(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES):D.getIn(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS);if(G.size===1)return c("AdsAdgroupPostTypeMutators").convertFromAssetFeedSpec(x==="image"?c("ApiAdObjectTypes").SHARE:c("ApiAdObjectTypes").VIDEO,D,c("nullthrows")(v.pivots.objective));return D}else{var y=function(){var H=A.get(B).filter(function(I){return I.platform!==w.platform&&I.position!==w.position}),F=z.toArray().map(function(I){var J=c("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(I,x==="image"?c("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL:c("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL);if(J===B)return I.set(c("AdsAPIAdAssetTargetRuleFields").TARGETING,c("AdsPlacementAssetTargetingRuleUtils").convertPlacementListToTargeting(H.toArray()));return I});return{v:u.setIn(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TARGET_RULES,c("immutable").List(F))}}();if(typeof y==="object")return y.v}}function q(u,v,w){return o(u,v,w,"image")}function r(u,v,w){return o(u,v,w,"video")}function s(u,v,w,x,y,z){__p&&__p();var A=c("AdsAssetFeedFieldUtils").getAssetEntryForLabel(u.getIn(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS),c("AdsAPIAdAssetFeedVideosFields").ADLABELS,w,c("AdsAPIAdAssetFeedVideosFields").VIDEO_ID).index;A!=null||h(0);var B=u;if(z!=null)B=c("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(B,x,c("AdsUnifiedCreativeAPIFields").videoID,A,c("AdsAPIAdAssetFeedVideosFields").VIDEO_ID,z);if(y!=null){B=c("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(B,x,c("AdsUnifiedCreativeAPIFields").videoID,A,c("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL,y);if(v)B=c("AdsUEditorAdgroupMutators").setThumbnailURL(B,y)}return B}var t={convertToImageAssetFeedWithCampaignTargeting:l,convertToVideoAssetFeedWithCampaignTargeting:m,removeAllCustomizations:n,removeCustomizationImage:q,removeCustomizationVideo:r,removePlacementFromCustomization:p,setInitialTargetingRule:j,updateCustomizationVideo:s};f.exports=t}),null);
__d("AdsUEditorAdgroupRemoveCustomizationVideoDataActionPlugin",[],(function a(b,c,d,e,f,g){"use strict";var h={key:"uEditorAdgroupRemoveCustomizationVideo",actionType:"ADS_REMOVE_CUSTOMIZATION_VIDEO"};f.exports=h}),null);
__d("AdsUEditorAdgroupRemoveCustomizationVideoActionHandler",["AdsMutators","AdsPlacementAssetMutationUtils","AdsUEditorAdgroupActionHandlerCommon","AdsUEditorAdgroupRemoveCustomizationVideoDataActionPlugin","nullthrows"],(function a(b,c,d,e,f,g){"use strict";var h={type:c("AdsUEditorAdgroupRemoveCustomizationVideoDataActionPlugin").actionType,genExtraData:c("AdsUEditorAdgroupActionHandlerCommon").genSpecPathPluginForExtraData,mutate:function i(j,k,l){return c("AdsMutators").mutateEach(k,j.ids,function(m){return c("AdsPlacementAssetMutationUtils").removeCustomizationVideo(m,c("nullthrows")(l[m.id]),j.label)})}};f.exports=h}),null);
__d("AdsCFAdgroupRemoveCustomizationVideoActionDataReducerPlugin",["AdsCFAdgroupDataReducerUtils","AdsUEditorAdgroupRemoveCustomizationVideoActionHandler"],(function a(b,c,d,e,f,g){"use strict";var h={reduce:c("AdsCFAdgroupDataReducerUtils").wrapActionHandler(c("AdsUEditorAdgroupRemoveCustomizationVideoActionHandler"))};f.exports=h}),null);
__d("AdsCFAdgroupRemoveCustomizationVideoActionDataReducer",["AdsCFAdgroupDataProvider","AdsCFAdgroupRemoveCustomizationVideoActionDataReducerPlugin","AdsDataReducer"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataReducer").create(c("AdsCFAdgroupDataProvider"),{},c("AdsCFAdgroupRemoveCustomizationVideoActionDataReducerPlugin").reduce);f.exports=h}),null);
__d("AdsUEditorAdgroupRemoveCustomizationVideoDataAction",["AdsCFAdgroupRemoveCustomizationVideoActionDataReducer","AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([c("AdsCFAdgroupRemoveCustomizationVideoActionDataReducer")],"ADS_REMOVE_CUSTOMIZATION_VIDEO");f.exports=h}),null);
__d("AdsUEditorAdgroupSetChildVideoIDDataActionPlugin",[],(function a(b,c,d,e,f,g){"use strict";var h={key:"uEditorAdgroupSetChildVideoID",actionType:"ADS_ADGROUP_EDITOR_SET_CHILD_VIDEO_ID"};f.exports=h}),null);
__d("AdsUEditorAdgroupSetChildVideoIDActionHandler",["AdsMutators","AdsUEditorAdgroupActionHandlerCommon","AdsUEditorAdgroupChildAttachmentsMutators","AdsUEditorAdgroupSetChildVideoIDDataActionPlugin","nullthrows"],(function a(b,c,d,e,f,g){"use strict";var h={type:c("AdsUEditorAdgroupSetChildVideoIDDataActionPlugin").actionType,genExtraData:c("AdsUEditorAdgroupActionHandlerCommon").genSpecPathPluginForExtraData,mutate:function i(j,k,l){return c("AdsMutators").mutateEach(k,j.ids,function(m,n){return c("AdsUEditorAdgroupChildAttachmentsMutators").setChildVideoID(m,c("nullthrows")(l[n]),j.index,j.videoID,j.videoObj)})}};f.exports=h}),null);
__d("AdsCFAdgroupSetChildVideoIDActionDataReducerPlugin",["AdsCFAdgroupDataReducerUtils","AdsUEditorAdgroupSetChildVideoIDActionHandler"],(function a(b,c,d,e,f,g){"use strict";var h={reduce:c("AdsCFAdgroupDataReducerUtils").wrapActionHandler(c("AdsUEditorAdgroupSetChildVideoIDActionHandler"))};f.exports=h}),null);
__d("AdsCFAdgroupSetChildVideoIDActionDataReducer",["AdsCFAdgroupDataProvider","AdsCFAdgroupSetChildVideoIDActionDataReducerPlugin","AdsDataReducer"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataReducer").create(c("AdsCFAdgroupDataProvider"),{},c("AdsCFAdgroupSetChildVideoIDActionDataReducerPlugin").reduce);f.exports=h}),null);
__d("AdsUEditorAdgroupSetChildVideoIDDataAction",["AdsCFAdgroupSetChildVideoIDActionDataReducer","AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([c("AdsCFAdgroupSetChildVideoIDActionDataReducer")],"ADS_ADGROUP_EDITOR_SET_CHILD_VIDEO_ID");f.exports=h}),null);
__d("AdsUEditorAdgroupSetVideoIDDataActionPlugin",[],(function a(b,c,d,e,f,g){"use strict";var h={key:"uEditorAdgroupSetVideoID",actionType:"ADS_ADGROUP_EDITOR_SET_VIDEO_ID"};f.exports=h}),null);
__d("AdsUEditorAdgroupSetVideoIDActionHandler",["AdsDataAtom","AdsMutators","AdsSelectorUtils","AdsUEditorAdgroupActionHandlerCommon","AdsUEditorAdgroupMutators","AdsUEditorAdgroupSetVideoIDDataActionPlugin","AdsVideoStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={type:c("AdsUEditorAdgroupSetVideoIDDataActionPlugin").actionType,genExtraData:function i(j,k,l){c("AdsDataAtom").waitFor(c("AdsSelectorUtils").getStoreDispatchTokens([c("AdsVideoStore").getSelector]));var m=c("AdsVideoStore").getSelector(),n=c("AdsUEditorAdgroupActionHandlerCommon").genSpecPathPluginForExtraData(j,k,l);return{specPathPlugins:n,video:j.videoID?m(j.videoID):null}},mutate:function i(j,k,l){var m=l.specPathPlugins,n=l.video;return c("AdsMutators").mutateEach(k,j.ids,function(o,p){var q=m[p];return c("AdsUEditorAdgroupMutators").setVideoID(o,q,n)})}};f.exports=h}),null);
__d("AdsCFAdgroupSetVideoIDActionDataReducerPlugin",["AdsCFAdgroupDataReducerUtils","AdsUEditorAdgroupSetVideoIDActionHandler"],(function a(b,c,d,e,f,g){"use strict";var h={reduce:c("AdsCFAdgroupDataReducerUtils").wrapActionHandler(c("AdsUEditorAdgroupSetVideoIDActionHandler"))};f.exports=h}),null);
__d("AdsCFAdgroupSetVideoIDActionDataReducer",["AdsCFAdgroupDataProvider","AdsCFAdgroupSetVideoIDActionDataReducerPlugin","AdsDataReducer"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataReducer").create(c("AdsCFAdgroupDataProvider"),{},c("AdsCFAdgroupSetVideoIDActionDataReducerPlugin").reduce);f.exports=h}),null);
__d("AdsUEditorAdgroupSetVideoIDDataAction",["AdsCFAdgroupSetVideoIDActionDataReducer","AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([c("AdsCFAdgroupSetVideoIDActionDataReducer")],"ADS_ADGROUP_EDITOR_SET_VIDEO_ID");f.exports=h}),null);
__d("AdsVideoAddAssetCustomizationDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.ADD_ASSET_CUSTOMIZATION");f.exports=h}),null);
__d("AdsVideoBackgroundUploadUtils",[],(function a(b,c,d,e,f,g){"use strict";function h(i,j){if(!j)return true;return i.some(function(k){return j&&j.includes(k)})}f.exports={areCurrentAdLevelsUploadingVideoNow:h}}),null);
__d("AdsVideoClickBaseVideoChangeButtonDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.CLICK_BASE_VIDEO_CHANGE_BUTTON");f.exports=h}),null);
__d("AdsVideoSpecs",["AdsAPIAudienceNetworkPosition","AdsAPIFacebookPosition","AdsAPIInstagramPosition","AdsAPIPublisherPlatform","AdsInstagramMediaSpecs","AdsPlacementAPISpecReaderUtils","AdsPlacementAssetUtils","AdsVideoConfig","immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={INSTAGRAM_STORY:{placement:c("AdsAPIInstagramPosition").STORY,placementChecker:function i(j){return c("AdsPlacementAPISpecReaderUtils").isActiveInstagramPosition(j,c("AdsAPIInstagramPosition").STORY)},assetCustomizationPlacementChecker:function i(j){return c("AdsPlacementAssetUtils").containsAssetCustomizationPlacement(j,{platform:c("AdsAPIPublisherPlatform").INSTAGRAM,position:c("AdsAPIInstagramPosition").STORY})},maxWarningAspectRatio:c("AdsInstagramMediaSpecs").MAX_STORY_ASPECT_RATIO,maxWarningLength:c("AdsInstagramMediaSpecs").MAX_STORY_VIDEO_DURATION_IN_SEC,minWarningWidth:c("AdsInstagramMediaSpecs").MIN_MEDIA_WIDTH_LOW_RES,minWarningHeight:c("AdsInstagramMediaSpecs").MIN_STORY_MEDIA_HEIGHT_LOW_RES},INSTAGRAM_STREAM:{placement:c("AdsAPIInstagramPosition").STREAM,placementChecker:function i(j){return c("AdsPlacementAPISpecReaderUtils").isActiveInstagramPosition(j,c("AdsAPIInstagramPosition").STREAM)},assetCustomizationPlacementChecker:function i(j){return c("AdsPlacementAssetUtils").containsAssetCustomizationPlacement(j,{platform:c("AdsAPIPublisherPlatform").INSTAGRAM,position:c("AdsAPIInstagramPosition").STREAM})},minWarningAspectRatio:c("AdsInstagramMediaSpecs").MIN_STREAM_ASPECT_RATIO,maxWarningAspectRatio:c("AdsInstagramMediaSpecs").MAX_STREAM_ASPECT_RATIO,maxWarningLength:c("AdsInstagramMediaSpecs").MAX_STREAM_VIDEO_DURATION_IN_SEC,minWarningWidth:c("AdsInstagramMediaSpecs").MIN_MEDIA_WIDTH_LOW_RES,minWarningHeight:c("AdsInstagramMediaSpecs").MIN_STREAM_MEDIA_HEIGHT_LOW_RES,supportsCarousel:false},INSTAGRAM_STREAM_CAROUSEL:{placement:c("AdsAPIInstagramPosition").STREAM,placementChecker:function i(j){return c("AdsPlacementAPISpecReaderUtils").isActiveInstagramPosition(j,c("AdsAPIInstagramPosition").STREAM)},assetCustomizationPlacementChecker:function i(j){return c("AdsPlacementAssetUtils").containsAssetCustomizationPlacement(j,{platform:c("AdsAPIPublisherPlatform").INSTAGRAM,position:c("AdsAPIInstagramPosition").STREAM})},minWarningAspectRatio:1,maxWarningAspectRatio:1,maxWarningLength:c("AdsInstagramMediaSpecs").MAX_STREAM_VIDEO_DURATION_IN_SEC,minWarningWidth:c("AdsInstagramMediaSpecs").MIN_MEDIA_WIDTH_LOW_RES,minWarningHeight:c("AdsInstagramMediaSpecs").MIN_MEDIA_WIDTH_LOW_RES,supportsCarousel:true},AUDIENCE_NETWORK_MOBILE_EXTERNAL:{placement:c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK,placementChecker:function i(j){return c("AdsPlacementAPISpecReaderUtils").isActivePublisherPlatform(j,c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK)&&!c("AdsPlacementAPISpecReaderUtils").isOnlyActivePublisherPlatform(j,c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK)},assetCustomizationPlacementChecker:function i(j){var k=j.toArray().some(function(m){return m.platform===c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK&&m.position===c("AdsAPIAudienceNetworkPosition").INSTREAM_VIDEO}),l=j.toArray().every(function(m){return m.platform===c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK&&m.position===c("AdsAPIAudienceNetworkPosition").INSTREAM_VIDEO});return k&&!l},minWarningAspectRatio:.95,maxWarningAspectRatio:2,minWarningLength:c("AdsVideoConfig").audienceNetworkInStreamVideoMinDurationInSec,maxWarningLength:c("AdsVideoConfig").audienceNetworkInStreamVideoMaxDurationInSec,hasSound:true,hasHDQuality:true},AUDIENCE_NETWORK_MOBILE_EXTERNAL_ONLY:{placement:c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK,placementChecker:function i(j){return c("AdsPlacementAPISpecReaderUtils").isOnlyActivePublisherPlatform(j,c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK)},assetCustomizationPlacementChecker:function i(j){return j.toArray().every(function(k){return k.platform===c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK&&k.position===c("AdsAPIAudienceNetworkPosition").INSTREAM_VIDEO})},minWarningAspectRatio:.95,maxWarningAspectRatio:2,minWarningLength:c("AdsVideoConfig").audienceNetworkInStreamVideoMinDurationInSec,maxWarningLength:c("AdsVideoConfig").audienceNetworkOnlyInStreamVideoMaxDurationInSec,hasSound:true,hasHDQuality:true},INSTREAM_VIDEO:{placement:c("AdsAPIFacebookPosition").INSTREAM_VIDEO,placementChecker:function i(j){return c("AdsPlacementAPISpecReaderUtils").isActiveFacebookPosition(j,c("AdsAPIFacebookPosition").INSTREAM_VIDEO)},assetCustomizationPlacementChecker:function i(j){return c("AdsPlacementAssetUtils").containsAssetCustomizationPlacement(j,{platform:c("AdsAPIPublisherPlatform").FACEBOOK,position:c("AdsAPIFacebookPosition").INSTREAM_VIDEO})},minWarningLength:c("AdsVideoConfig").instreamVideoMinDurationInSec,maxWarningLength:c("AdsVideoConfig").instreamVideoMaxDurationInSec,hasSound:true}};f.exports=h}),null);
__d("AdsVideoSpecsUtils",["AdsAPIObjectives","AdsAPIPublisherPlatform","AdsVideoSpecs","immutable","Set","getObjectValues"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("getObjectValues")(c("AdsVideoSpecs")),i=c("immutable").Map([[c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK,new(c("Set"))([c("AdsAPIObjectives").VIDEO_VIEWS])]]),j=c("immutable").Map([[c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK,new(c("Set"))([c("AdsAPIObjectives").VIDEO_VIEWS,c("AdsAPIObjectives").REACH,c("AdsAPIObjectives").BRAND_AWARENESS])]]),k={getVideoSpecsForPlacementObjective:function l(m,n,o){return h.filter(function(p){if(!p.placementChecker(m))return false;if(p.supportsCarousel!==undefined&&p.supportsCarousel===!o)return false;return k.doesVideoSpecSupportObjective(p,n)})},getVideoSpecsForAssetCustomizationPlacementObjective:function l(m,n,o){return h.filter(function(p){if(!p.assetCustomizationPlacementChecker(m))return false;if(p.supportsCarousel!==undefined&&p.supportsCarousel===!o)return false;return k.doesVideoAssetCustomizationSpecSupportObjective(p,n)})},doesVideoSpecSupportObjective:function l(m,n){var o=i.get(m.placement);if(!o)return true;return o.has(n)},doesVideoAssetCustomizationSpecSupportObjective:function l(m,n){var o=j.get(m.placement);if(!o)return true;return o.has(n)}};f.exports=k}),null);
__d("AdsVideoValidation",["errorCode","errorDesc","fbt","AdsAPIAdgroupPaths","AdsAPIFacebookPosition","AdsAPIInstagramPosition","AdsAPIPublisherPlatform","AdsBuyingTypes","AdsError","AdsErrorType_DEPRECATED","AdsErrorUtils","AdsInstagramErrorUtils","AdsInstagramMediaSpecs","AdsVideoConfig","AdsVideoSpecs","AdsVideoSpecsUtils","Map","VideoCreatorProductType","gkx"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID;function l(n,o,p){if(o&&n<o)return false;if(p&&n>p)return false;return true}var m={getValidationMapByPlacementV2ForVideoList:function n(o,p,q,r,s){var t=new(c("Map"))(),u=c("AdsVideoSpecsUtils").getVideoSpecsForPlacementObjective(p,q,s);o.forEach(function(v){t.set(v.id,m.validateVideoV2(v,u,p,r))});return t},getValidationMapByPlacementsV2ForVideoList:function n(o,p,q,r,s){__p&&__p();var t=new(c("Map"))();p.map(function(u){return m.getValidationMapByPlacementV2ForVideoList(o,u,q,r,s)}).forEach(function(u){u.forEach(function(v,w){var x=t.get(w)||[];v.forEach(function(y){if(!x.some(function(z){return z.key===y.key}))x.push(y)});t.set(w,x)})});return t},validateVideoForPlacementV2AndObjective:function n(o,p,q,r,s){var t=c("AdsVideoSpecsUtils").getVideoSpecsForPlacementObjective(p,q,s);return m.validateVideoV2(o,t,p,r)},validateVideoV2:function n(o,p,q,r){var s=[];p.forEach(function(t){s=s.concat(m.validateVideoForSpec(o,t))});if(q)s=c("AdsErrorUtils").giveRecommendationsForSoftErrorsV2(s,[q]);return s},isValidAspectRatio:function n(o,p){return l(o,p.minWarningAspectRatio*(1-c("AdsInstagramMediaSpecs").ASPECT_RATIO_TOLERANCE),p.maxWarningAspectRatio*(1+c("AdsInstagramMediaSpecs").ASPECT_RATIO_TOLERANCE))},validateVideoForSpec:function n(o,p){__p&&__p();var q=[];if(o.length){if(!l(p.placement===c("AdsAPIInstagramPosition").STREAM||p.placement===c("AdsAPIInstagramPosition").STORY?Math.floor(o.length):o.length,p.minWarningLength,p.maxWarningLength))q.push(m._getLengthError(p));if(p.placement===c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK&&!l(o.length,c("AdsVideoConfig").audienceNetworkInStreamVideoCTVMinDurationInSec,c("AdsVideoConfig").audienceNetworkInStreamVideoCTVMaxDurationInSec))q.push(m._getLengthErrorForAudienceNetworkCTV(p.placement))}if(p.placement===c("AdsAPIInstagramPosition").STREAM||p.placement===c("AdsAPIInstagramPosition").STORY){if(!l(o.width,p.minWarningWidth))q.push(m._getDimensionError(p))}else if(!l(o.width,p.minWarningWidth)||!l(o.height,p.minWarningHeight))q.push(m._getDimensionError(p));if(o.height&&o.width){var r=o.width/o.height;if(!m.isValidAspectRatio(r,p))if(p.placement===c("AdsAPIInstagramPosition").STORY&&c("gkx")("AT5gTHWzPb9gKQAyeSlkH_YBoHd8u5vPOGrhfgo3Sf__Z2Bz7E14G3zlZRAdm-qX8Yr257cuNuewCZCRCM5yrbDh")){if(!m.isValidAspectRatio(r,c("AdsVideoSpecs").INSTAGRAM_STREAM))q.push(m._getAspectRatioError(p))}else q.push(m._getAspectRatioError(p))}if(p.placement===c("AdsAPIFacebookPosition").INSTREAM_VIDEO&&o.creator_product===c("VideoCreatorProductType").SLIDESHOW)q.push(m._getInstreamVideoSlideShowError());if(p.hasSound&&!o.has_sound)if(p.placement===c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK)q.push(m._getAudienceNetworkVideoSoundError());if(p.hasHDQuality&&!o.has_hd_quality&&p.placement===c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK)q.push(m._getAudienceNetowrkVideoQualityError());return q.concat(m._getSpecialErrors(o,p))},_getLengthErrorForAudienceNetworkCTV:function n(o){var p=c("AdsError").Level.RECOMMEND,q=2016032,r=i._(function(j,t){return j._("Make this video 10-30 seconds long.")},{}),s=k;return new(c("AdsError"))(q,r,{level:p,path:s})},_getLengthError:function n(o){__p&&__p();var p=o.placement,q=c("AdsError").Level.WARN,r=1487685,s=j._("Your video is invalid"),t=k;switch(p){case c("AdsAPIInstagramPosition").STORY:s=i._(function(j,u){return j._("The video duration for Instagram story ads can not be longer than 15 seconds.")},{});r=1772122;break;case c("AdsAPIInstagramPosition").STREAM:s=c("AdsInstagramErrorUtils").getWrongVideoLengthErrorMessage();r=2016008;break;case c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK:q=c("AdsError").Level.RECOMMEND;s=j._("Make this video {minimum Audience Network InStream video duration} - {maximum Audience Network InStream video duration} seconds long.",[j.param("minimum Audience Network InStream video duration",o.minWarningLength),j.param("maximum Audience Network InStream video duration",o.maxWarningLength-1)]);r=1815755;break;case c("AdsAPIFacebookPosition").INSTREAM_VIDEO:q=c("AdsError").Level.RECOMMEND;s=i._(function(j,u){return j._("In-stream videos must be between {minLength}-{maxLength} seconds long.",[j.param("minLength",u.minLength),j.param("maxLength",u.maxLength)])},{minLength:c("AdsVideoConfig").instreamVideoMinDurationInSec,maxLength:c("AdsVideoConfig").instreamVideoMaxDurationInSecToShow});r=2016019;break}return new(c("AdsError"))(r,s,{level:q,path:t})},_getDimensionError:function n(o){var p=c("AdsError").Level.WARN,q=c("AdsErrorType_DEPRECATED").ADGROUP_CREATIVE_VIDEO_INVALID,r=j._("Your video is invalid"),s=k;switch(o.placement){case c("AdsAPIInstagramPosition").STREAM:case c("AdsAPIInstagramPosition").STORY:r=c("AdsInstagramErrorUtils").getWrongVideoDimensionErrorMessage(o.minWarningWidth,o.minWarningHeight);q=1772076;break}return new(c("AdsError"))(q,r.toString(),{level:p,path:s})},_getAspectRatioError:function n(o){__p&&__p();var p=c("AdsError").Level.WARN,q=c("AdsErrorType_DEPRECATED").ADGROUP_CREATIVE_VIDEO_INVALID,r=j._("Your video is invalid"),s=k;switch(o.placement){case c("AdsAPIInstagramPosition").STORY:r=i._(function(j,t){return j._("Story media aspect ratio has to be smaller than or equal to 9:16")},{});q=1772130;break;case c("AdsAPIInstagramPosition").STREAM:r=c("AdsInstagramErrorUtils").getWrongVideoRatioErrorMessage(o.maxWarningAspectRatio,o.minWarningAspectRatio);q=1772074;break;case c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK:p=c("AdsError").Level.RECOMMEND;r=j._("Change the aspect ratio to 16:9, 5:3, 4:3 or 1:1.");q=1815754;break}return new(c("AdsError"))(q,r.toString(),{level:p,path:s})},_getSpecialErrors:function n(o,p){var q=[],r=c("AdsError").Level.WARN;if(p.placement===c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK)q=m._getAudienceNetowrkSpecialErrors(o,p,r);if(p.placement===c("AdsAPIFacebookPosition").INSTREAM_VIDEO&&o.spherical)q.push(new(c("AdsError"))(1815483,i._(function(j,s){return j._("In-stream ads do not support 360 videos.")},{}),{level:r,path:k}));return q},_getInstreamVideoSlideShowError:function n(){var o=c("AdsError").Level.RECOMMEND;return new(c("AdsError"))(1815490,i._(function(j,p){return j._("In-stream ads do not support slideshow videos.")},{}),{level:o,path:k})},_getInstreamVideoSoundError:function n(){var o=c("AdsError").Level.RECOMMEND;return new(c("AdsError"))(1815484,i._(function(j,p){return j._("In-stream videos must have sound.")},{}),{level:o,path:k})},_getAudienceNetworkVideoSoundError:function n(){var o=c("AdsError").Level.RECOMMEND;return new(c("AdsError"))(2016029,i._(function(j,p){return j._("Add sound to your video, or upload a video with sound")},{}),{level:o,path:k})},_getAudienceNetowrkVideoQualityError:function n(){var o=c("AdsError").Level.RECOMMEND;return new(c("AdsError"))(1885566,i._(function(j,p){return j._("Make the video at least 720p, or upload a video that's 720p")},{}),{level:o,path:k})},_getAudienceNetowrkSpecialErrors:function n(o,p,q){var r=[],s=k;if(o.spherical)r.push(new(c("AdsError"))(1815287,j._("360 Videos are not supported by the Audience Network InStream Format."),{level:q,path:s}));return r}};f.exports=m}),null);
__d("AdsPlacementAssetValidationUtils",["AdImageSpecsUtils","AdsAccountCapabilities","AdsAccountUtils","AdsAPIAdCampaignFields","AdsAPIAudienceNetworkPosition","AdsAPIFacebookPosition","AdsAPIInstagramPosition","AdsAPIPublisherPlatform","AdsAssetCustomizationEligibility","AdsError","AdsImageValidation","AdsPageTypes","AdsPlacementAPISpecReaderUtils","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetUtils","AdsPlacementPlugins","AdsPlacementsAudienceNetworkInstreamVideoGroupPlugin","AdsPlacementsAudienceNetworkRewardedVideoGroupPlugin","AdsPlacementsFacebookInstreamVideosGroupPlugin","AdsPlacementsFacebookPlatformPlugin","AdsPlacementsInstagramStoryGroupPlugin","AdsPlacementsMessengerPlatformPlugin","AdsVideoBuyingUtils","AdsVideoSpecsUtils","AdsVideoValidation","immutable","Map"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups,i=new(c("Map"))(),j={validateImagesForPlacementSpec:function k(l,m,n,o){var p=c("AdImageSpecsUtils").getImageSpecsForAssetCustomizationPlacement(m,n,o);l.forEach(function(q){var r=j.filterInstagramSpecsBasedOnCrop(q.imageCrops,m,p);r.forEach(function(s){c("AdsImageValidation").validateNow(q.image,s,q.imageCrops)})});return l},getPlacementsCompatibleWithImage:function k(l,m,n,o){var p=j.getPlacementsIncompatibleWithImages([l],m,n,o),q=[];m.forEach(function(r){if(!c("AdsPlacementAssetUtils").containsAssetCustomizationPlacement(p,r))q.push(r)});return c("immutable").List(q)},getPlacementsIncompatibleWithImages:function k(l,m,n,o){__p&&__p();l=j.validateImagesForPlacementSpec(l,m,n,o);var p=c("AdsPlacementAPISpecReaderUtils").getPageTypesFromAssetCustomizationPlacement(m,n),q=[];l.map(function(t){var u=t.image.validationMap;p.forEach(function(v){if(u[v]&&!u[v].errorMessage&&!q.includes(v))q.push(v)})});var r=p.filter(function(t){return!q.includes(t)}),s=c("immutable").List();r.forEach(function(t){var u=j.getAssetCustomizationPlacementFromPageTypes(t);if(u&&!c("AdsPlacementAssetUtils").containsAssetCustomizationPlacement(s,u))s=s.push(u)});return s},getPlacementsIncompatibleWithVideos:function k(l,m,n,o){__p&&__p();var p=c("AdsVideoSpecsUtils").getVideoSpecsForAssetCustomizationPlacementObjective(m,o),q=[];l.forEach(function(s){__p&&__p();var t={};p.forEach(function(u){t[u.placement]=c("AdsVideoValidation").validateVideoForSpec(s,u)});m.forEach(function(u){var v=!t[u.position]||t[u.position].length===0,w=!t[u.platform]||t[u.platform].length===0;if(!v&&u.platform===c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK)v=true;if(!w&&u.position!==c("AdsAPIAudienceNetworkPosition").INSTREAM_VIDEO)w=true;if(v&&w)q.push(u)})});var r=m.filter(function(s){return!j.containsAssetCustomizationPlacement(s,q)});return r},getPlacementsCompatibleWithVideo:function k(l,m,n){__p&&__p();var o=j.getVideoErrorsByPlacement(l,m,n),p=[];m.forEach(function(q){var r=!o[q.position]||o[q.position].length===0,s=!o[q.platform]||o[q.platform].length===0;if(!r&&q.platform===c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK)r=true;if(!s&&q.position!==c("AdsAPIAudienceNetworkPosition").INSTREAM_VIDEO)s=true;if(r&&s)p.push(q)});return c("immutable").List(p)},getVideoListErrors:function k(l,m,n){var o=new(c("Map"))();l.forEach(function(p){o.set(p.id,j.getVideoErrors(p,m,n))});o.forEach(function(p){return p.forEach(function(q){if(q)q.level=c("AdsError").Level.WARN})});return o},getVideoListErrorsFromAdlabel:function k(l,m,n,o,p,q){__p&&__p();var r=void 0,s=i;if(n){if(l===h.INSTAGRAM)r=c("immutable").List.of({platform:c("AdsAPIPublisherPlatform").INSTAGRAM,position:c("AdsAPIInstagramPosition").STREAM})}else{var t=c("AdsPlacementAssetUtils").coerceAssetCustomizationGroup(l);if(t!=null)r=p.get(t)}if(r!=null)s=j.getVideoListErrors(q,r,o);var u=m.get(c("AdsAPIAdCampaignFields").OPTIMIZATION_GOAL);c("AdsVideoBuyingUtils").addVideoBuyingVideoListErrors(q,s,[u]);return s},getVideoErrors:function k(l,m,n){var o=j.getVideoErrorsByPlacement(l,m,n),p=[];for(var q in o)p=p.concat(o[q]);return p},getVideoErrorsByPlacement:function k(l,m,n){var o=c("AdsVideoSpecsUtils").getVideoSpecsForAssetCustomizationPlacementObjective(m,n),p={};o.forEach(function(q){p[q.placement]=c("AdsVideoValidation").validateVideoForSpec(l,q)});return p},getVideoSpecByPlacement:function k(l,m){var n=c("AdsVideoSpecsUtils").getVideoSpecsForAssetCustomizationPlacementObjective(l,m);return n.length===1?n[0]:null},getAssetCustomizationPlacementFromPageTypes:function k(l){switch(l){case c("AdsPageTypes").DESKTOP_FEED:case c("AdsPageTypes").MOBILE_FEED:return{platform:c("AdsAPIPublisherPlatform").FACEBOOK,position:c("AdsAPIFacebookPosition").FEED};case c("AdsPageTypes").RIGHT_COLUMN:return{platform:c("AdsAPIPublisherPlatform").FACEBOOK,position:c("AdsAPIFacebookPosition").RHC};case c("AdsPageTypes").INSTAGRAM_STREAM:return{platform:c("AdsAPIPublisherPlatform").INSTAGRAM,position:c("AdsAPIInstagramPosition").STREAM};case c("AdsPageTypes").INSTAGRAM_STORY:return{platform:c("AdsAPIPublisherPlatform").INSTAGRAM,position:c("AdsAPIInstagramPosition").STORY};case c("AdsPageTypes").MOBILE_EXTERNAL:return{platform:c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK,position:c("AdsAPIAudienceNetworkPosition").CLASSIC};default:return null}},containsAssetCustomizationPlacement:function k(l,m){return m.some(function(n){return n.platform===l.platform&&n.position===l.position})},filterInstagramSpecsBasedOnCrop:function k(l,m,n){var o=void 0;if(m.toArray().some(function(p){return p.platform===c("AdsAPIPublisherPlatform").INSTAGRAM}))o=c("AdImageSpecsUtils").getSelectedInstagramImageSpec(l);if(o)n=n.filter(function(p){return p.placement!==c("AdsPageTypes").INSTAGRAM_STREAM&&p.placement!==c("AdsPageTypes").INSTAGRAM_STORY||o&&p.cropKey===o.cropKey});return n},shouldShowL2RemovingCustomizationDialog:function k(l,m,n,o,p,q){__p&&__p();if(!l||m)return false;if(q)return true;if(p){var r=j.getPositionFromGroup(p);switch(o){case c("AdsAPIPublisherPlatform").FACEBOOK:if(p===c("AdsPlacementsFacebookInstreamVideosGroupPlugin").key&&!c("AdsAccountUtils").hasCapabilityFromList(n.capabilities,c("AdsAccountCapabilities").CAN_USE_PAC_PHASE2_FB_INSTREAM))return true;return!c("AdsAssetCustomizationEligibility").FACEBOOK_POSITIONS.includes(String(r));case c("AdsAPIPublisherPlatform").INSTAGRAM:if(p===c("AdsPlacementsInstagramStoryGroupPlugin").key&&!c("AdsAccountUtils").hasCapabilityFromList(n.capabilities,c("AdsAccountCapabilities").CAN_USE_PAC_PHASE2_IG_STORY))return true;return!c("AdsAssetCustomizationEligibility").INSTAGRAM_POSITIONS.includes(String(r));case c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK:if(p===c("AdsPlacementsAudienceNetworkInstreamVideoGroupPlugin")&&!c("AdsAccountUtils").hasCapabilityFromList(n.capabilities,c("AdsAccountCapabilities").CAN_USE_PAC_PHASE2_AN_INSTREAM)||p===c("AdsPlacementsAudienceNetworkRewardedVideoGroupPlugin")&&!c("AdsAccountUtils").hasCapabilityFromList(n.capabilities,c("AdsAccountCapabilities").CAN_USE_PAC_PHASE2_AN_REWARDED))return true;return!c("AdsAssetCustomizationEligibility").AUDIENCE_NETWORK_POSITIONS.includes(String(r));case c("AdsAPIPublisherPlatform").MESSENGER:return true;default:return false}}else if(o===c("AdsPlacementsFacebookPlatformPlugin").key||o==c("AdsPlacementsMessengerPlatformPlugin").key)return true;return false},getPositionFromGroup:function k(l){var m=c("AdsPlacementPlugins").getAllGroups().filter(function(n){var o=n.key;return o===l}).flatMap(function(n){var m=n.positions;return m}).map(function(n){var o=n.apiPosition;return o}).filter(function(n){return!!n}).toArray();return m.length===0?null:m[0]}};f.exports=j}),null);
__d("AdsVideoErrorUtils",["AdsError","AdsPlacementAssetValidationUtils","AdsUniformValue","AdsVideoBuyingUtils","AdsVideoValidation","immutable","Map","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getVideoListErrors:function i(j,k,l,m,n,o){__p&&__p();var p=new(c("Map"))();n.map(function(q){return c("AdsVideoValidation").getValidationMapByPlacementV2ForVideoList(o,q,m instanceof c("AdsUniformValue")?m.getValue():undefined,j?j.getValues():undefined,l)}).forEach(function(q){q.forEach(function(r,s){var t=p.get(s)||[];r.forEach(function(u){if(!t.some(function(v){return v.key===u.key}))t.push(u)});p.set(s,t)})});h._updateOptimizedVideoError(k,o,p);return p},getSingleVideoErrors:function i(j,k,l,m,n,o){var p=[];o.forEach(function(r){return p=p.concat(c("AdsVideoValidation").validateVideoForPlacementV2AndObjective(k,r,n instanceof c("AdsUniformValue")?n.getValue():undefined,l?l.getValues():undefined,j))});var q=c("AdsVideoBuyingUtils").getVideoBuyingVideoErrors(k,m.getValues());return p.concat(q)},getNewlyUploadedVideoWarnErrors:function i(j,k,l,m,n,o,p){var q=o&&c("gkx")("AT41_69RdSWNjUggyiOLJH92Bj1LpB99i5L3u_GQlwB3k0QiwNB-AW9m4KN3C9f4EVcWcMeveghTQ11IZXr7pBPed8I9cPyZVD0P6aaZOaFKAA")?c("AdsPlacementAssetValidationUtils").getVideoErrors(k,o,n instanceof c("AdsUniformValue")?n.getValue():undefined):h.getSingleVideoErrors(j,k,l,m,n,p),r=q.filter(function(s){return s.level===c("AdsError").Level.WARN});return r},_updateOptimizedVideoError:function i(j,k,l){c("AdsVideoBuyingUtils").addVideoBuyingVideoListErrors(k,l,j.getValues())}};f.exports=h}),null);
__d("AdsVideoToastCardsClickCTADataReducerPlugin",["AdsVideoUploadToastCardUtils"],(function a(b,c,d,e,f,g){"use strict";var h={reduce:function i(j,k){return c("AdsVideoUploadToastCardUtils").dismissVideoToastCardByCTA(j,k)}};f.exports=h}),null);
__d("AdsVideoToastCardsClickCTADataReducer",["AdsDataReducer","AdsToastCardDataProvider","AdsVideoToastCardsClickCTADataReducerPlugin"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataReducer").create(c("AdsToastCardDataProvider"),{},c("AdsVideoToastCardsClickCTADataReducerPlugin").reduce);f.exports=h}),null);
__d("AdsVideoToastCardsClickCTADataAction",["AdsDataAction","AdsVideoToastCardsClickCTADataReducer"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([c("AdsVideoToastCardsClickCTADataReducer")],"VIDEO.TOAST_CARDS_CLICK_CTA");f.exports=h}),null);
__d("AdsVideoUploadStore",["invariant","AdsDataAtom","AdsSlideshowAddVideoClickDataAction","AdsSlideshowVideoPickerClosedDataAction","AdsUEditorAdgroupRemoveCustomizationVideoDataAction","AdsUEditorAdgroupSetChildVideoIDDataAction","AdsUEditorAdgroupSetVideoIDDataAction","AdsVideoAddAssetCustomizationDataAction","AdsVideoBackgroundUploadUtils","AdsVideoClickBaseVideoChangeButtonDataAction","AdsVideoCloseVideoPickerDataAction","AdsVideoEncodingSuccessDataAction","AdsVideoErrorUtils","AdsVideoItemClickedDataAction","AdsVideoOpenSelectorDataAction","AdsVideoToastCardsClickCTADataAction","AdsVideoUploadCancelDataAction","AdsVideoUploadErrorDataAction","AdsVideoUploadFinishDataAction","AdsVideoUploadProgressDataAction","AdsVideoUploadStartDataAction","AdsVideoUploadStatus","AdsVideoUploadStoreState","AdsVideoUploadSuccessDataAction","AdsVideoUploadUtil","Bootloader","FluxMapStore","immutable","VideoUploadFile","gkx","ifRequired","requireWeak"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FluxMapStore"));j=i&&i.prototype;k.prototype.getInitialState=function(){return c("immutable").Map()};k.prototype.reduce=function(l,m){__p&&__p();var n=m.action,o=n.uploaderKey||c("AdsVideoUploadUtil").DEFAULT_UPLOADER_KEY,p=l.get(o);if(!p){p=new(c("AdsVideoUploadStoreState"))();l=l.set(o,p)}switch(n.type){case c("AdsUEditorAdgroupSetVideoIDDataAction").actionType:case c("AdsUEditorAdgroupSetChildVideoIDDataAction").actionType:if(n.ids&&c("AdsVideoBackgroundUploadUtils").areCurrentAdLevelsUploadingVideoNow(n.ids,p.videoUploadingAdgroupIDs)&&(!n.index||n.index===p.videoUploadingTabID))return l.set(o,p.withMutations(function(p){p.set("errorMessage",null).set("newlyUploadedVideoErrors",null)}));return l;case c("AdsVideoToastCardsClickCTADataAction").actionType:if(n.data.isErrorVideoToastCard)return l.set(o,p.set("shouldPopUpPicker",true));return l;case c("AdsVideoOpenSelectorDataAction").actionType:return l.set(o,this.$AdsVideoUploadStore1(p));case c("AdsSlideshowAddVideoClickDataAction").actionType:p=this.$AdsVideoUploadStore1(p);return l.set(o,p.merge({isBackgroundUploadDisabled:true}));case c("AdsVideoAddAssetCustomizationDataAction").actionType:if(c("gkx")("AT41_69RdSWNjUggyiOLJH92Bj1LpB99i5L3u_GQlwB3k0QiwNB-AW9m4KN3C9f4EVcWcMeveghTQ11IZXr7pBPed8I9cPyZVD0P6aaZOaFKAA")){var q={adlabel:n.adlabel,isAddingVideo:true,baseLabel:n.baseLabel,existingLabel:n.existingLabel,isBaseAsset:n.existingLabel===n.baseLabel,isPlatformCustomization:n.isPlatformCustomization,placementList:n.placementList};p=p.set("__isChangingBaseVideo",false).set("videoUploadPACInfo",q)}else{p=this.$AdsVideoUploadStore1(p);p=p.merge({isBackgroundUploadDisabled:true})}return l.set(o,p);case c("AdsVideoClickBaseVideoChangeButtonDataAction").actionType:if(!c("gkx")("AT41_69RdSWNjUggyiOLJH92Bj1LpB99i5L3u_GQlwB3k0QiwNB-AW9m4KN3C9f4EVcWcMeveghTQ11IZXr7pBPed8I9cPyZVD0P6aaZOaFKAA"))return l;return l.set(o,p.set("__isChangingBaseVideo",true).set("videoUploadPACInfo",{adlabel:n.adlabel,isAddingVideo:false,baseLabel:n.adlabel,existingLabel:null,isBaseAsset:true,isPlatformCustomization:n.isPlatformCustomization,placementList:null}));case c("AdsVideoUploadStartDataAction").actionType:n.accountID||h(0);n.file!=null||n.title!=null&&n.url!=null||n.title!=null&&n.instagramStoryID!=null||h(0);c("ifRequired")("AdsVideoUploaderWrapper",function(z){p=this.$AdsVideoUploadStore2(p,n,o)}.bind(this),function(){p=this.$AdsVideoUploadStore3(p,n)}.bind(this));return l.set(o,p);case c("AdsVideoEncodingSuccessDataAction").actionType:var r=p.__videoErrorInfo&&c("AdsVideoErrorUtils").getNewlyUploadedVideoWarnErrors(p.__isMPA,n.video,p.__videoErrorInfo.bulkBuyingType,p.__videoErrorInfo.bulkOptimizationGoal,p.__videoErrorInfo.objective,p.__placementListWhenUploadStarted,p.__videoErrorInfo.placementSpecs);return l.set(o,p.withMutations(function(p){p.set("errorMessage",null).set("newlyUploadedVideoErrors",r).set("videoUploadPACInfo",null).merge({continueUploadingWhenPickerClosed:false,encodingTime:p.__internalUploader&&p.__internalUploader.getEncodingTime(),initialSelectedVideoID:n.video.id,status:c("AdsVideoUploadStatus").NONE})}));case c("AdsVideoItemClickedDataAction").actionType:return l.set(o,p.merge({initialSelectedVideoID:null}));case c("AdsVideoUploadErrorDataAction").actionType:return l.set(o,p.withMutations(function(p){p.set("continueUploadingWhenPickerClosed",false).set("errorMessage",n.errorMessage).set("newlyUploadedVideoErrors",null).set("status",c("AdsVideoUploadStatus").ERROR).set("uploadTime",p.__internalUploader&&p.__internalUploader.getUploadTime()).set("videoUploadPACInfo",null)}));case c("AdsVideoUploadProgressDataAction").actionType:return l.set(o,p.merge({progress:n.progress}));case c("AdsVideoUploadSuccessDataAction").actionType:if(p.__internalUploader)p=p.merge({progress:1,status:c("AdsVideoUploadStatus").ENCODING,uploadTime:p.__internalUploader.getUploadTime()});return l.set(o,p);case c("AdsVideoUploadCancelDataAction").actionType:for(var s=l,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}var w=v,x=w[0],y=w[1];y.__internalUploader&&y.__internalUploader.abort()}return l.clear();case c("AdsVideoUploadFinishDataAction").actionType:return l.clear();case c("AdsSlideshowVideoPickerClosedDataAction").actionType:return l.set(o,p.merge({isBackgroundUploadDisabled:false}));case c("AdsVideoCloseVideoPickerDataAction").actionType:if(!c("gkx")("AT41_69RdSWNjUggyiOLJH92Bj1LpB99i5L3u_GQlwB3k0QiwNB-AW9m4KN3C9f4EVcWcMeveghTQ11IZXr7pBPed8I9cPyZVD0P6aaZOaFKAA"))return l.set(o,p.merge({isBackgroundUploadDisabled:false}));return l.set(o,p.set("videoUploadPACInfo",null));case c("AdsUEditorAdgroupRemoveCustomizationVideoDataAction").actionType:if(this.$AdsVideoUploadStore4(p,n))p.__internalUploader&&p.__internalUploader.resetLabel();return l;default:return l}};k.prototype.$AdsVideoUploadStore4=function(l,m){var n=l.__videoUploadingAdLabel===m.label,o=c("AdsVideoBackgroundUploadUtils").areCurrentAdLevelsUploadingVideoNow(m.ids,l.videoUploadingAdgroupIDs);return l.__internalUploader!=null&&o&&(n||!m.moreThanTwoAssets)};k.prototype.$AdsVideoUploadStore1=function(l){if(l.status===c("AdsVideoUploadStatus").UPLOADING||l.status===c("AdsVideoUploadStatus").ENCODING)return l.set("continueUploadingWhenPickerClosed",true);return l.set("shouldPopUpPicker",false)};k.prototype.$AdsVideoUploadStore2=function(l,m,n){__p&&__p();var o=void 0;c("requireWeak")("AdsVideoUploaderWrapper",function(s){return o=s});o||h(0);var p=new o(l.videoUploadPACInfo,m.videoBackgroundUpload||null,n);l=l.merge({__internalUploader:p});l.status==c("AdsVideoUploadStatus").NONE||l.status==c("AdsVideoUploadStatus").BOOTLOADING||l.status==c("AdsVideoUploadStatus").ERROR||h(0);if(m.file)p.upload(c("VideoUploadFile").fromFile(m.file),m.accountID);else if(m.instagramStoryID)p.uploadInstagramVideo(m.instagramStoryID,m.title,m.accountID);else{m.url!=null||h(0);p.remoteUpload(m.url,m.title,m.accountID)}var q=m.videoBackgroundUpload||null,r=q!=null&&q.isMPA;return l.withMutations(function(l){l.set("videoUploadingAdgroupIDs",q!=null?q.videoUploadingAdgroupIDs:null).set("videoUploadingCampaignIDs",q!=null?q.videoUploadingCampaignIDs:null).set("videoUploadingCampaignGroupIDs",q!=null?q.videoUploadingCampaignGroupIDs:null).set("__videoErrorInfo",q?{bulkBuyingType:q.bulkBuyingType,bulkOptimizationGoal:q.bulkOptimizationGoal,objective:q.objective,placementSpecs:q.placementSpecs}:null).set("__videoUploadingAdLabel",l.videoUploadPACInfo&&l.videoUploadPACInfo.existingLabel).set("__placementListWhenUploadStarted",l.videoUploadPACInfo&&l.videoUploadPACInfo.placementList).merge({__isMPA:r,shouldAppendLoadingBar:!l.__isChangingBaseVideo,status:c("AdsVideoUploadStatus").UPLOADING,title:p.getVideoTitle(),videoUploadingTabID:q!=null?q.videoUploadingTabID:null})})};k.prototype.$AdsVideoUploadStore3=function(l,m){c("Bootloader").loadModules(["AdsVideoUploaderWrapper"],function(){c("AdsVideoUploadStartDataAction").dispatch(m)},"AdsVideoUploadStore");return l.merge({status:c("AdsVideoUploadStatus").BOOTLOADING})};function k(){i.apply(this,arguments)}f.exports=new k(c("AdsDataAtom"))}),null);
__d("adsSingleVideoUploadSelector",["AdsVideoUploadStore","AdsVideoUploadStoreState","adsCreateStoreSelector"],(function a(b,c,d,e,f,g){"use strict";var h=c("adsCreateStoreSelector")([c("AdsVideoUploadStore")],function(){return c("AdsVideoUploadStore").getState().last()||null},f.id+".adsSingleVideoUploadSelector");f.exports=h}),null);
__d("AdsSlideshowVideoPickerContainer.react",["AdsFluxContainer","AdsPageSelectorStore","AdsSlideshowActions","AdsVideoActions","AdsVideoListStore","AdsVideoPicker.react","AdsVideoUploadStoreState","LoadObject","React","SlideshowMediaUploadContainer.react","adsLoadableVideoListSelector","adsSingleVideoUploadSelector"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$AdsSlideshowVideoPickerContainer2=function(p){c("AdsVideoActions").startUpload(p,this.props.accountID)}.bind(this),this.$AdsSlideshowVideoPickerContainer4=function(p,q){c("AdsVideoActions").startImport(p,q,this.props.accountID)}.bind(this),this.$AdsSlideshowVideoPickerContainer5=function(){c("AdsSlideshowActions").videoPickerClosed();if(!this.state.uploadInfo.continueUploadingWhenPickerClosed)c("AdsVideoActions").cancelUpload()}.bind(this),l}j.getStores=function(){return[].concat(c("adsLoadableVideoListSelector").getStores(),c("adsSingleVideoUploadSelector").getStores(),[c("AdsPageSelectorStore"),c("AdsVideoListStore")])};j.calculateState=function(k,l){var m=c("AdsVideoListStore").getLoadObjectForAdAccountAndPage(l.accountID,c("AdsPageSelectorStore").getSelectedPageID()),n=c("adsLoadableVideoListSelector")({videoIDs:m});return{uploadInfo:c("adsSingleVideoUploadSelector")()||new(c("AdsVideoUploadStoreState"))(),videoList:n}};j.prototype.$AdsSlideshowVideoPickerContainer1=function(){c("AdsSlideshowActions").addVideoClick()};j.prototype.$AdsSlideshowVideoPickerContainer3=function(k){c("AdsSlideshowActions").fetchFrameImages(k[0])};j.prototype.$AdsSlideshowVideoPickerContainer6=function(){return c("React").createElement("div",null,c("React").createElement(c("AdsVideoPicker.react"),{errorMessage:this.state.uploadInfo.errorMessage,initialSelectedVideoID:this.state.uploadInfo.initialSelectedVideoID,uploadProgress:this.state.uploadInfo.progress,uploadStatus:this.state.uploadInfo.status,uploadTitle:this.state.uploadInfo.title,videoList:this.state.videoList,onClose:this.$AdsSlideshowVideoPickerContainer5,onDialogConfirm:this.$AdsSlideshowVideoPickerContainer3,onDismissError:c("AdsVideoActions").cancelUpload,onImportConfirm:this.$AdsSlideshowVideoPickerContainer4,onOpen:c("AdsVideoActions").openSelector,onUploadCancel:c("AdsVideoActions").cancelUpload,onVideoFileChange:this.$AdsSlideshowVideoPickerContainer2},c("SlideshowMediaUploadContainer.react").getVideoUploadButton()))};j.prototype.render=function(){return c("React").createElement("div",babelHelpers["extends"]({},this.props,{role:"button",tabIndex:"0",onClick:this.$AdsSlideshowVideoPickerContainer1}),this.$AdsSlideshowVideoPickerContainer6())};f.exports=c("AdsFluxContainer").create(j,{withProps:true,name:f.id})}),null);
__d("AdsSlideshowVideoUploadView.react",["cx","AdsProgressBox.react","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("AdsProgressBox.react").PROCESSING_ACTION;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){return c("React").createElement(c("AdsProgressBox.react"),{className:"_4y6q",processingAction:k.Encoding,progressValue:100,striped:true})};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("SlideshowFrameImage.react",["Image.react","React","SlideshowImageUtil"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.$SlideshowFrameImage5=function(){__p&&__p();if(this.props.croppingSpec){this.$SlideshowFrameImage3={width:this.props.imageWidth,height:this.props.imageHeight};this.$SlideshowFrameImage4={x:-this.props.croppingSpec.topLeft[0],y:-this.props.croppingSpec.topLeft[1]};this.$SlideshowFrameImage1={width:this.props.croppingSpec.bottomRight[0]+this.$SlideshowFrameImage4.x,height:this.props.croppingSpec.bottomRight[1]+this.$SlideshowFrameImage4.y}}else{this.$SlideshowFrameImage3={width:this.props.imageWidth,height:this.props.imageHeight};this.$SlideshowFrameImage4={x:0,y:0};this.$SlideshowFrameImage1={width:this.props.imageWidth,height:this.props.imageHeight}}if(this.props.fitToMaxHeightAndWidth){var k=this.props.maxWidth/this.$SlideshowFrameImage1.width;this.$SlideshowFrameImage3.width*=k;this.$SlideshowFrameImage4.x*=k;this.$SlideshowFrameImage1.width*=k;var l=this.props.maxHeight/this.$SlideshowFrameImage1.height;this.$SlideshowFrameImage3.height*=l;this.$SlideshowFrameImage4.y*=l;this.$SlideshowFrameImage1.height*=l}else{var m=Math.min(this.props.maxWidth/this.$SlideshowFrameImage1.width,this.props.maxHeight/this.$SlideshowFrameImage1.height);this.$SlideshowFrameImage3.width*=m;this.$SlideshowFrameImage3.height*=m;this.$SlideshowFrameImage4.x*=m;this.$SlideshowFrameImage4.y*=m;this.$SlideshowFrameImage1.width*=m;this.$SlideshowFrameImage1.height*=m}this.$SlideshowFrameImage2={x:(this.props.maxWidth-this.$SlideshowFrameImage1.width)/2,y:(this.props.maxHeight-this.$SlideshowFrameImage1.height)/2}};j.prototype.$SlideshowFrameImage6=function(){var k=this.props.textoverlay,l=c("SlideshowImageUtil").getScaleMultiplier(this.props.maxWidth,this.props.maxHeight);if(!k||!k.textoverlay_content)return null;var m=c("SlideshowImageUtil").calculateTextboxCoordinates(this.props.maxHeight,this.props.maxWidth,k,l),n=k.text_alignment.split("-")[1];return c("React").createElement("div",{style:{backgroundColor:c("SlideshowImageUtil").convertHexToRGBA(k.background_color),color:k.font_color,position:"absolute",fontFamily:k.font,fontSize:c("SlideshowImageUtil").getFontSize(l),fontWeight:c("SlideshowImageUtil").getFontWeight(k.bold),letterSpacing:"0.2px",lineHeight:c("SlideshowImageUtil").getLineHeight(),marginLeft:m.marginLeft,marginTop:m.marginTop,maxHeight:c("SlideshowImageUtil").getTextoverlayMaxEdge(this.props.maxHeight,l),maxWidth:c("SlideshowImageUtil").getTextoverlayMaxEdge(this.props.maxWidth,l),overflow:"hidden",overflowWrap:"break-word",padding:c("SlideshowImageUtil").getTextoverlayPadding(l),textAlign:n,whiteSpace:"pre-wrap"}},k.textoverlay_content)};j.prototype.render=function(){this.$SlideshowFrameImage5();return c("React").createElement("div",{className:this.props.className,style:{position:this.props.positionStyle,width:this.$SlideshowFrameImage1.width,height:this.$SlideshowFrameImage1.height,left:this.$SlideshowFrameImage2.x,top:this.$SlideshowFrameImage2.y,overflow:"hidden"}},c("React").createElement(c("Image.react"),{src:this.props.imageSrc,width:this.$SlideshowFrameImage3.width,height:this.$SlideshowFrameImage3.height,style:{position:"absolute",left:this.$SlideshowFrameImage4.x,top:this.$SlideshowFrameImage4.y}}),this.$SlideshowFrameImage6())};function j(){h.apply(this,arguments)}j.defaultProps={className:null,croppingSpec:null,fitToMaxHeightAndWidth:false,positionStyle:"absolute",textoverlay:null};f.exports=j}),null);
__d("SlideshowFramesPanel.react",["cx","React","SlideshowImageUtil","SlideshowFrameImage.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=3,l=110,m=110;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$SlideshowFramesPanel1=function(t){return c("React").createElement("div",{onClick:function(){return this.$SlideshowFramesPanel2(t)}.bind(this),role:"presentation"},c("React").createElement(c("SlideshowFrameImage.react"),{className:"_qme",croppingSpec:c("SlideshowImageUtil").getFullSizeImageBoxCroppingSpec({width:t.width,height:t.height},{width:m,height:l}),imageSrc:t.uri,imageWidth:t.width,imageHeight:t.height,maxWidth:m,maxHeight:l,positionStyle:"relative"}))}.bind(this),this.$SlideshowFramesPanel2=function(t){this.props.onFrameImageSelected(t)}.bind(this),this.$SlideshowFramesPanel3=function(t){return t.map(function(u,v){return c("React").createElement("div",{className:"_qmf",key:u.id},this.$SlideshowFramesPanel1(u))}.bind(this))}.bind(this),this.$SlideshowFramesPanel4=function(){var t=this.props.frameImages,u=0,v=[];for(u=0;u<t.length;u+=k){var w=t.slice(u,u+k);v.push(c("React").createElement("div",{key:u},this.$SlideshowFramesPanel3(w)))}return v}.bind(this),this.$SlideshowFramesPanel5=function(){return c("React").createElement("div",{className:"_qmk"},this.$SlideshowFramesPanel4())}.bind(this),p}n.prototype.render=function(){return c("React").createElement("div",{className:"_qmm"},this.$SlideshowFramesPanel5())};f.exports=n}),null);
__d("LoadingImageBox.react",["cssVar","CenteredContainer.react","React","SUIBusinessTheme","SUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props,m=l.className,n=l.height,o=l.width;return c("React").createElement(c("CenteredContainer.react"),{className:m,style:{backgroundColor:"#000000",height:n,width:o},vertical:true},c("React").createElement(c("SUISpinner.react"),{background:"dark",size:"large",theme:c("SUIBusinessTheme")}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("SlideshowActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({CHANGE_COLOR_PICKER_TYPE:null,CHANGE_EDIT_OPTION_TYPE:null,CHANGE_PHOTO_CROPS:null,CHANGE_TEXTOVERLAY_ALIGNMENT:null,CHANGE_TEXTOVERLAY_FONT:null,CHANGE_TEXTOVERLAY_FONT_BOLD:null,SELECT_TEXTOVERLAY_COLOR:null,SET_TEXTOVERLAY_CONTENT:null,SHOW_PHOTO_EDIT_DIALOG:null,CLOSE_PHOTO_EDIT_DIALOG:null,TOGGLE_COLOR_PICKER_DIALOG:null,TOGGLE_PHOTO_EDIT_DIALOG:null});f.exports=h}),null);
__d("SlideshowDispatcher",["ExplicitRegistrationDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationDispatcher"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d("SlideshowTextoverlayColorPickerConstants",[],(function a(b,c,d,e,f,g){f.exports={Basic:"BASIC",Advanced:"ADVANCED"}}),null);
__d("SlideshowActions",["SlideshowActionTypes","SlideshowDispatcher","SlideshowTextoverlayColorPickerConstants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={showPhotoEditDialog:function i(j,k,l){c("SlideshowDispatcher").dispatch({isColorPickerDialogShown:false,isPhotoEditDialogShown:true,isTextoverlayFontBold:l.bold,photoCrops:k,photoToEdit:j,textoverlayAlignment:l.text_alignment,textoverlayColor:{background_color:l.background_color,font_color:l.font_color},textoverlayContent:l.textoverlay_content,textoverlayFont:l.font,type:c("SlideshowActionTypes").SHOW_PHOTO_EDIT_DIALOG})},closePhotoEditDialog:function i(){c("SlideshowDispatcher").dispatch({isPhotoEditDialogShown:false,photoToEdit:null,type:c("SlideshowActionTypes").CLOSE_PHOTO_EDIT_DIALOG})},toggleColorPickerDialog:function i(){c("SlideshowDispatcher").dispatch({type:c("SlideshowActionTypes").TOGGLE_COLOR_PICKER_DIALOG})},selectTextoverlayColor:function i(j){c("SlideshowDispatcher").dispatch({textoverlayColor:j,type:c("SlideshowActionTypes").SELECT_TEXTOVERLAY_COLOR})},setTextoverlayContent:function i(j){c("SlideshowDispatcher").dispatch({textoverlayContent:j,type:c("SlideshowActionTypes").SET_TEXTOVERLAY_CONTENT})},changeEditOptionType:function i(j){c("SlideshowDispatcher").dispatch({type:c("SlideshowActionTypes").CHANGE_EDIT_OPTION_TYPE,editOptionType:j})},changePhotoCrops:function i(j){c("SlideshowDispatcher").dispatch({type:c("SlideshowActionTypes").CHANGE_PHOTO_CROPS,photoCrops:j})},changeTextoverlayAlignment:function i(j){c("SlideshowDispatcher").dispatch({textoverlayAlignment:j,type:c("SlideshowActionTypes").CHANGE_TEXTOVERLAY_ALIGNMENT})},changeTextoverlayFont:function i(j){c("SlideshowDispatcher").dispatch({textoverlayFont:j,type:c("SlideshowActionTypes").CHANGE_TEXTOVERLAY_FONT})},changeTextoverlayFontBold:function i(j){c("SlideshowDispatcher").dispatch({isTextoverlayFontBold:j,type:c("SlideshowActionTypes").CHANGE_TEXTOVERLAY_FONT_BOLD})},showBasicColorPicker:function i(){c("SlideshowDispatcher").dispatch({type:c("SlideshowActionTypes").CHANGE_COLOR_PICKER_TYPE,colorPickerType:c("SlideshowTextoverlayColorPickerConstants").Basic})},showAdvancedColorPicker:function i(){c("SlideshowDispatcher").dispatch({type:c("SlideshowActionTypes").CHANGE_COLOR_PICKER_TYPE,colorPickerType:c("SlideshowTextoverlayColorPickerConstants").Advanced})}};f.exports=h}),null);
__d("SlideshowPhotoEditButton.react",["ix","fbt","Image.react","React","Tooltip","XUIButton.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.$SlideshowPhotoEditButton1=function(){this.props.onPhotoEdit(this.props.selectedPhoto,this.props.selectedPhotoCrops,this.props.selectedPhotoTextoverlay)}.bind(this);this.$SlideshowPhotoEditButton1=this.$SlideshowPhotoEditButton1.bind(this)}l.prototype.render=function(){var m=i._("Edit Photo");return c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({image:c("React").createElement(c("Image.react"),{src:h("113738")}),className:this.props.className,onClick:this.$SlideshowPhotoEditButton1},c("Tooltip").propsFor(m),{label:i._("Edit"),size:"small",labelIsHidden:true}))};f.exports=l}),null);
__d("SlideshowDraggableImage.react",["cx","invariant","DraggableTokenMixin.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","LoadingImageBox.react","ReactComponentWithPureRenderMixin","React","SlideshowActions","SlideshowFrameImage.react","SlideshowImageUtil","SlideshowPhotoEditButton.react","XUICloseButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=100,k=100,l=c("React").PropTypes,m=c("React").createClass({displayName:"SlideshowDraggableImage",mixins:[c("DraggableTokenMixin.react"),c("ReactComponentWithPureRenderMixin")],propTypes:{className:l.string.isRequired,dragTargetIndex:l.oneOfType([l.oneOf([null]),l.number]),image:l.shape({height:l.number,isLoading:l.bool.isRequired,key:l.string.isRequired,url:l.string,width:l.number}).isRequired,imageTextoverlay:l.oneOfType([l.oneOf([null]),l.shape({background_color:l.string,bold:l.bool.isRequired,font:l.string.isRequired,font_color:l.string.isRequired,text_alignment:l.string.isRequired,textoverlay_content:l.oneOfType([l.oneOf([null]),l.string])})]),imageCrops:l.oneOfType([l.oneOf([null]),l.object]),index:l.number.isRequired,overflow:l.bool.isRequired,showSlideshowImageCroppingEditOption:l.bool.isRequired,showSlideshowPhotoEditButton:l.bool.isRequired,onImageRemove:l.func.isRequired},_onImageRemove:function n(){this.props.onImageRemove(this.props.image)},_getImage:function n(){var o=this.props.image,p="_590x"+(this.props.overflow?" _5b-k":"");if(o.isLoading)return c("React").createElement(c("LoadingImageBox.react"),{className:p,height:j,width:k});else{o.width!=null&&o.height!=null||i(0);return c("React").createElement(c("SlideshowFrameImage.react"),{className:p,croppingSpec:c("SlideshowImageUtil").getCroppingSpec(this.props.imageCrops,{width:k,height:j},o,this.props.showSlideshowImageCroppingEditOption),fitToMaxHeightAndWidth:this.props.showSlideshowImageCroppingEditOption,imageSrc:o.url,imageWidth:o.width,imageHeight:o.height,maxWidth:k,maxHeight:j,positionStyle:"relative",textoverlay:this.props.imageTextoverlay})}},_getPhotoEditButton:function n(){return this.props.showSlideshowPhotoEditButton?c("React").createElement(c("SlideshowPhotoEditButton.react"),{className:"_fah",selectedPhoto:this.props.image,selectedPhotoCrops:this.props.imageCrops,selectedPhotoTextoverlay:this.props.imageTextoverlay,onPhotoEdit:c("SlideshowActions").showPhotoEditDialog}):null},render:function n(){return this.renderDraggableToken(c("React").createElement(c("FBOverlayContainer.react"),null,c("React").createElement(c("FBOverlayBase.react"),null,this._getImage()),c("React").createElement(c("FBOverlayElement.react"),null,c("React").createElement("div",{className:"_5910"+(this.props.dragTargetIndex===this.props.index?" _5911":"")},c("React").createElement(c("XUICloseButton.react"),{className:"_5912",shade:"light",size:"small",onClick:this._onImageRemove}),this._getPhotoEditButton()))))}});f.exports=m}),null);
__d("SlideshowImageUploadsContainer.react",["cx","fbt","invariant","React","Image.react","SlideshowDraggableImage.react","SUIBusinessTheme","SUISimplePopover.react","padNumber"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=1e3,n=60,o=":",p=0,q=1,r=2,s=c("React").PropTypes;k=babelHelpers.inherits(t,c("React").Component);l=k&&k.prototype;function t(){__p&&__p();var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=l.constructor).call.apply(u,[this].concat(x)),this.$SlideshowImageUploadsContainer1=function(){return{draggingIndex:null,dragTargetIndex:null}},this.$SlideshowImageUploadsContainer2=function(z,A){this.setState({draggingIndex:A})}.bind(this),this.$SlideshowImageUploadsContainer3=function(z,A){this.setState(this.$SlideshowImageUploadsContainer1())}.bind(this),this.$SlideshowImageUploadsContainer4=function(z,A,B){if(this.state.draggingIndex!==null&&this.state.dragTargetIndex!==A)this.setState({dragTargetIndex:A})}.bind(this),this.$SlideshowImageUploadsContainer5=function(z,A){if(this.state.draggingIndex!==null&&this.state.draggingIndex!==undefined&&this.state.draggingIndex!==A)this.$SlideshowImageUploadsContainer6(this.state.draggingIndex,A)}.bind(this),this.$SlideshowImageUploadsContainer6=function(z,A){if(A<this.props.selectedImages.length&&A>=0)this.props.onImageReorder(z,A)}.bind(this),this.$SlideshowImageUploadsContainer7=function(z){this.props.onImageRemove(z)}.bind(this),this.$SlideshowImageUploadsContainer8=function(z,A){var B=this.props,C=B.durationWithTransitionInMS,D=B.maxSelectedImages,E=C/m;if(A===D-1)return c("React").createElement("span",null,this.$SlideshowImageUploadsContainer9(A*E),c("React").createElement("span",{className:"_73-"},this.$SlideshowImageUploadsContainer9(D*E)));else if(A===D)return c("React").createElement(c("SUISimplePopover.react"),{content:i._("You can only show{maximum number of images}images in your slideshow. All other images won't get displayed.",[i.param("maximum number of images",D)]),contentWidthUseSparingly:258,position:"left",theme:c("SUIBusinessTheme")});else if(A<D)return c("React").createElement("span",null,this.$SlideshowImageUploadsContainer9(A*E));else return c("React").createElement("span",null,"\xa0")}.bind(this),this.$SlideshowImageUploadsContainer9=function(z){var A=Math.floor(z/n),B=z-A*n;return A+o+c("padNumber")(B,2)},this.$SlideshowImageUploadsContainer10=function(){var z=this.props,A=z.maxSelectedImages,B=z.selectedImages,C=Math.max(B.length,A),D=Array.from(Array(C),function(E,F){if(F<B.length&&F<A)return p;else if(F<B.length&&F>=A)return r;else return q});return c("React").createElement("div",{className:"_73_"},D.map(function(E,F){return c("React").createElement("span",{className:"_2j_u"+(E===p&&F!==0&&F<A?" _741":"")+(E===r&&F>=A?" _4lrv":"")+(E===r&&F===A?" _4lrw":"")+(E===q&&F===0?" _742":"")+(E===q&&F===B.length&&F!==0?" _743":"")+(E===q&&F!==B.length&&F!==0?" _749":""),key:F},this.$SlideshowImageUploadsContainer8(E,F))}.bind(this)))}.bind(this),this.$SlideshowImageUploadsContainer11=function(){if(this.props.selectedImages.length>=this.props.maxSelectedImages)return null;this.props.children!=null&&!Array.isArray(this.props.children)||j(0);return this.props.children}.bind(this),this.$SlideshowImageUploadsContainer12=function(){var z=this.props.maxSelectedImages-1-this.props.selectedImages.length;if(z<=0)return null;var A=[];for(var B=0;B<z;B++)A.push(c("React").createElement("span",{className:"_74a",key:B}));return A}.bind(this),this.$SlideshowImageUploadsContainer13=function(z){var A=this.state,B=A.draggingIndex,C=A.dragTargetIndex;if(B!=null&&C!=null){if(C<z&&z<=B)return z-1;if(B<=z&&z<C)return z+1}return z}.bind(this),this.state=this.$SlideshowImageUploadsContainer1(),v}t.prototype.render=function(){var u="_38i3"+(this.props.selectedImages.length>=this.props.maxSelectedImages?" _1ca2":"");return c("React").createElement("div",{className:"_832"},c("React").createElement("div",{className:"_1ca3"},this.$SlideshowImageUploadsContainer10(),c("React").createElement("div",{className:u},this.props.selectedImages.map(function(v,w){var x=this.$SlideshowImageUploadsContainer13(w),y=this.props.imagesTextoverlays?this.props.imagesTextoverlays[x]:null,z=this.props.imagesCrops?this.props.imagesCrops[x]:null,A=v.key;return c("React").createElement(c("SlideshowDraggableImage.react"),{className:this.state.draggingIndex!=null&&this.state.dragTargetIndex===w?"_44cb":"",draggableImageClass:c("Image.react").baseClassName,dragTargetIndex:this.state.dragTargetIndex,entry:{},image:this.props.selectedImages[x],imageTextoverlay:y,imageCrops:z,index:w,isDragDropEnabled:true,key:A,overflow:w>=this.props.maxSelectedImages,showSlideshowImageCroppingEditOption:this.props.showSlideshowImageCroppingEditOption,showSlideshowPhotoEditButton:this.props.showSlideshowPhotoEditButton,onImageRemove:this.$SlideshowImageUploadsContainer7,onTokenDragEnd:this.$SlideshowImageUploadsContainer3,onTokenDragOver:this.$SlideshowImageUploadsContainer4,onTokenDragStart:this.$SlideshowImageUploadsContainer2,onTokenDrop:this.$SlideshowImageUploadsContainer5})}.bind(this))),this.$SlideshowImageUploadsContainer11(),this.$SlideshowImageUploadsContainer12()))};t.propTypes={durationWithTransitionInMS:s.number.isRequired,imagesCrops:s.array,imagesTextoverlays:s.array,maxSelectedImages:s.number.isRequired,selectedImages:s.arrayOf(s.shape({height:s.number,isLoading:s.bool.isRequired,key:s.string.isRequired,url:s.string,width:s.number})).isRequired,showSlideshowImageCroppingEditOption:s.bool.isRequired,showSlideshowPhotoEditButton:s.bool.isRequired,onImageRemove:s.func.isRequired,onImageReorder:s.func.isRequired};f.exports=t}),null);
__d("SlideshowMusicCategorySelector.react",["cx","React","SlideshowAudioUtil","SlideshowFbtUtils","SlideshowMusicCategory","Tooltip.react","XUICardSection.react","XUIPageNavigation.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("XUIPageNavigation.react").Group,l=c("XUIPageNavigation.react").Item;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.$SlideshowMusicCategorySelector1=function(n){var o=c("SlideshowAudioUtil").getMusicCategoryGlyph(n);if(!o)return null;return c("React").createElement(l,{key:n,ref:n},c("React").createElement(c("Tooltip.react"),{alignH:"center",className:"_3fk8",position:"above",tooltip:c("SlideshowFbtUtils").getMusicCategoryTooltip(n)},o))};m.prototype.$SlideshowMusicCategorySelector2=function(){return c("React").createElement(c("XUICardSection.react"),{className:"_5vx1"},c("React").createElement(c("XUIPageNavigation.react"),{activeTabKey:this.props.selectedMusicCategory,defaultActiveTabKey:c("SlideshowMusicCategory").ALL_TRACKS,onTabClick:this.props.onMusicCategorySelect},c("React").createElement(k,null,Object.values(c("SlideshowMusicCategory")).map(function(n){return this.$SlideshowMusicCategorySelector1(n)}.bind(this)))))};m.prototype.render=function(){return c("React").createElement("div",{className:"_d__"},this.$SlideshowMusicCategorySelector2())};function m(){i.apply(this,arguments)}m.defaultProps={selectedMusicCategory:c("SlideshowMusicCategory").ALL_TRACKS};f.exports=m}),null);
__d("SlideshowMusicTrackUploader.react",["cx","fbt","ix","LayerFadeOnHide","React","ReactFragment","SlideshowDataManager","FileInput.react","Image.react","Link.react","Tooltip.react","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=700;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.$SlideshowMusicTrackUploader2=function(p){this.setState({showCopyrightDialog:p})}.bind(this);this.$SlideshowMusicTrackUploader5=function(){this.$SlideshowMusicTrackUploader2(false);this.props.onAudioFileUpload();var p=this.refs.audioFileInput.getFileInput();c("SlideshowDataManager").uploadAudioFile(p,this.props.targetID,this.props.onAudioFileUploadSuccess,this.props.onAudioFileUploadError)}.bind(this);this.state={showCopyrightDialog:false}}n.prototype.renderLayers=function(){var o=this.state.showCopyrightDialog?this.$SlideshowMusicTrackUploader1():null;return c("ReactFragment").create({copyrightDialog:o})};n.prototype.$SlideshowMusicTrackUploader1=function(){return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},layerHideOnBlur:false,shown:this.state.showCopyrightDialog,width:m,onToggle:this.$SlideshowMusicTrackUploader2},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Rights to Upload Music")),c("React").createElement(c("XUIDialogBody.react"),{className:"_3mav",useCustomPadding:true},this.$SlideshowMusicTrackUploader3()),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:i._("Cancel")}),this.$SlideshowMusicTrackUploader4()))};n.prototype.$SlideshowMusicTrackUploader4=function(){return c("React").createElement(c("FileInput.react"),{accept:"audio/*",multiple:false,ref:"audioFileInput",onChange:this.$SlideshowMusicTrackUploader5},c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",className:"_3maw",href:{url:"#"},label:i._("Proceed"),use:"confirm"}))};n.prototype.$SlideshowMusicTrackUploader3=function(){return c("React").createElement("div",{className:"_3max"},c("React").createElement("div",{className:"_3may"},c("React").createElement(c("Image.react"),{src:j("99134")})),c("React").createElement("div",{className:"_3ma-"},i._("By uploading music, you confirm that you have the rights to use it with your slideshow and have it played on Facebook. If you're not sure, learn more about {slideshow_upload_audio_help_link}.",[i.param("slideshow_upload_audio_help_link",c("React").createElement(c("Link.react"),{href:"/help/249141925204375",target:"_blank"},i._("music you can use")))])))};n.prototype.$SlideshowMusicTrackUploader6=function(){var o=this.props.selectedStorylineMood?i._("You need to remove the track you've selected before uploading another"):null,p=this.props.selectedStorylineMood||this.props.audioFileUploadInfo.isUploading;return c("React").createElement(c("Tooltip.react"),{alignH:"center",className:"_2fiy",position:"above",tooltip:o},c("React").createElement(c("XUIButton.react"),{className:"_3maw"+(p?" _42fr":""),label:i._("Upload"),ref:"dialogButton",size:"xlarge",onClick:p?c("emptyFunction"):function(){this.setState({showCopyrightDialog:true})}.bind(this)}))};n.prototype.render=function(){return c("React").createElement("div",null,this.$SlideshowMusicTrackUploader6(),this.renderLayers())};f.exports=n}),null);
__d("SlideshowMusicSelectedTrackComponent.react",["cx","fbt","React","ShimButton.react","SlideshowMusicTrackUploader.react","Tooltip.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$SlideshowMusicSelectedTrackComponent4=function(event){event.stopPropagation();this.props.onChangeStorylineMood(null);this.props.onPreviewStateChange(false)}.bind(this),this.$SlideshowMusicSelectedTrackComponent5=function(){if(!this.props.selectedStorylineMood)return;this.props.onPreviewStateChange(!this.props.isPreviewPlaying)}.bind(this),n}l.prototype.$SlideshowMusicSelectedTrackComponent1=function(){return c("React").createElement("div",{className:"_nan"+(!this.props.isPreviewPlaying?" _5yby":"")+(this.props.isPreviewPlaying?" _5ybz":"")})};l.prototype.$SlideshowMusicSelectedTrackComponent2=function(){var m=i._("No music selected");if(this.props.selectedStorylineMood)m=this.props.selectedStorylineMood.fileName;return c("React").createElement("div",{className:"_nao"},m)};l.prototype.$SlideshowMusicSelectedTrackComponent3=function(){if(!this.props.selectedStorylineMood)return null;return c("React").createElement(c("ShimButton.react"),{className:"_59qs",onClick:this.$SlideshowMusicSelectedTrackComponent4})};l.prototype.$SlideshowMusicSelectedTrackComponent6=function(){return c("React").createElement(c("SlideshowMusicTrackUploader.react"),{audioFileUploadInfo:this.props.audioFileUploadInfo,selectedStorylineMood:this.props.selectedStorylineMood,targetID:this.props.targetID,onAudioFileUpload:this.props.onAudioFileUpload,onAudioFileUploadError:this.props.onAudioFileUploadError,onAudioFileUploadSuccess:this.props.onAudioFileUploadSuccess})};l.prototype.$SlideshowMusicSelectedTrackComponent7=function(){return c("React").createElement("div",{className:(!this.props.selectedStorylineMood?"_1sx5":"")+(!!this.props.selectedStorylineMood?" _nar":""),onClick:this.$SlideshowMusicSelectedTrackComponent5,role:"presentation"},this.$SlideshowMusicSelectedTrackComponent1(),this.$SlideshowMusicSelectedTrackComponent2(),this.$SlideshowMusicSelectedTrackComponent3())};l.prototype.$SlideshowMusicSelectedTrackComponent8=function(){return i._("Select a track below or upload your own tracks")};l.prototype.render=function(){if(!this.props.selectedStorylineMood)return c("React").createElement("div",{className:"_naq"},c("React").createElement(c("Tooltip.react"),{alignH:"center",className:"_9ns",position:"above",tooltip:this.$SlideshowMusicSelectedTrackComponent8()},this.$SlideshowMusicSelectedTrackComponent7()),this.$SlideshowMusicSelectedTrackComponent6());return c("React").createElement("div",{className:"_naq"},this.$SlideshowMusicSelectedTrackComponent7(),this.$SlideshowMusicSelectedTrackComponent6())};f.exports=l}),null);
__d("SlideshowMusicTrackSelector.react",["cx","fbt","React","Set","SlideshowAudioUtil","SlideshowMusicCategory","Tooltip.react","XUINotice.react","XUISpinner.react","curry"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=6;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$SlideshowMusicTrackSelector2=function(s){this.props.onPreviewStateChange(false);this.props.onChangeStorylineMood(s)}.bind(this),this.$SlideshowMusicTrackSelector3=function(s,event){event.stopPropagation();this.props.onDeleteStorylineMood(s)}.bind(this),o}m.prototype.$SlideshowMusicTrackSelector1=function(n){if(this.props.selectedMusicCategory===c("SlideshowMusicCategory").ALL_TRACKS||this.props.selectedMusicCategory===c("SlideshowMusicCategory").RECENTLY_USED||n.categories.indexOf(this.props.selectedMusicCategory)!==-1)return true;return false};m.prototype.$SlideshowMusicTrackSelector4=function(){return c("React").createElement("div",{className:"_4o-n",key:"UPLOADING_TRACK_KEY"},c("React").createElement(c("XUISpinner.react"),{className:"_2ruw",size:"small"}),c("React").createElement("div",{className:"_4o-p"},i._("Uploading...")))};m.prototype.$SlideshowMusicTrackSelector5=function(){var n=i._("There was a problem uploading your music. Please make sure it's a supported file format and try again. You can use WAV, MP3, M4A, FLAC or OGG.");return c("React").createElement("div",{className:"_4o-n",key:"ERROR_UPLOADING_TRACK_KEY"},c("React").createElement(c("XUINotice.react"),{className:"_2h_x",use:"warn"},n))};m.prototype.$SlideshowMusicTrackSelector6=function(n){var o=i._("Delete");return c("React").createElement(c("Tooltip.react"),{alignH:"center",className:"_4o-m",position:"above",tooltip:o,onClick:c("curry")(this.$SlideshowMusicTrackSelector3,n)},c("React").createElement("div",null))};m.prototype.$SlideshowMusicTrackSelector7=function(){return Array.from(new(c("Set"))(this.props.recentlyUsedStorylineMoods)).slice(0,l)};m.prototype.$SlideshowMusicTrackSelector8=function(){__p&&__p();var n=[],o=this.props.selectedMusicCategory===c("SlideshowMusicCategory").USER_UPLOADED,p=this.props.selectedMusicCategory===c("SlideshowMusicCategory").RECENTLY_USED;if(o&&this.props.audioFileUploadInfo.isUploading)n.push(this.$SlideshowMusicTrackSelector4());else if(o&&this.props.audioFileUploadInfo.hasError)n.push(this.$SlideshowMusicTrackSelector5());var q=p?this.$SlideshowMusicTrackSelector7():this.props.storylineMoodFiles;q.sort(function(r,s){if(r.fileName<s.fileName)return-1;else if(r.fileName>s.fileName)return 1;else return 0});q.forEach(function(r){var s=o?this.$SlideshowMusicTrackSelector6(r):null;if(this.$SlideshowMusicTrackSelector1(r)){var t=c("SlideshowAudioUtil").storylineMoodCompare(r,this.props.selectedStorylineMood);n.push(c("React").createElement("div",{className:"_4o-n",key:r.moodID,onClick:c("curry")(this.$SlideshowMusicTrackSelector2,r),role:"presentation"},s,c("React").createElement("div",{className:(!t?"_4o-o":"")+(t?" _4c2n":"")}),c("React").createElement("div",{className:"_4o-p"},r.fileName)))}}.bind(this));return n};m.prototype.render=function(){return c("React").createElement("div",{className:"_4o-x"},this.$SlideshowMusicTrackSelector8())};m.defaultProps={selectedMusicCategory:c("SlideshowMusicCategory").ALL_TRACKS};f.exports=m}),null);
__d("SlideshowMusicPanel.react",["cx","React","SlideshowMusicCategorySelector.react","SlideshowMusicSelectedTrackComponent.react","SlideshowMusicTrackSelector.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.$SlideshowMusicPanel1=function(){return c("React").createElement(c("SlideshowMusicSelectedTrackComponent.react"),{audioFileUploadInfo:this.props.audioFileUploadInfo,isPreviewPlaying:this.props.isPreviewPlaying,selectedStorylineMood:this.props.selectedStorylineMood,targetID:this.props.targetID,onAudioFileUpload:this.props.onAudioFileUpload,onAudioFileUploadError:this.props.onAudioFileUploadError,onAudioFileUploadSuccess:this.props.onAudioFileUploadSuccess,onChangeStorylineMood:this.props.onChangeStorylineMood,onPreviewStateChange:this.props.onPreviewStateChange})};k.prototype.$SlideshowMusicPanel2=function(){return c("React").createElement(c("SlideshowMusicCategorySelector.react"),{selectedMusicCategory:this.props.selectedMusicCategory,onMusicCategorySelect:this.props.onMusicCategorySelect})};k.prototype.$SlideshowMusicPanel3=function(){return c("React").createElement(c("SlideshowMusicTrackSelector.react"),{audioFileUploadInfo:this.props.audioFileUploadInfo,recentlyUsedStorylineMoods:this.props.recentlyUsedStorylineMoods,selectedMusicCategory:this.props.selectedMusicCategory,selectedStorylineMood:this.props.selectedStorylineMood,storylineMoodFiles:this.props.storylineMoodFiles,onChangeStorylineMood:this.props.onChangeStorylineMood,onDeleteStorylineMood:this.props.onDeleteStorylineMood,onPreviewStateChange:this.props.onPreviewStateChange})};k.prototype.render=function(){return c("React").createElement("div",{className:"_3-xf"},this.$SlideshowMusicPanel1(),this.$SlideshowMusicPanel2(),this.$SlideshowMusicPanel3())};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("SlideshowAlignmentBox.react",["cx","React","ShimButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$SlideshowAlignmentBox1=function(){var r=this.props,s=r.horizontalAlignment,t=r.verticalAlignment,u=t+"-"+s;this.props.onValueChange&&this.props.onValueChange(u)}.bind(this),n}l.prototype.render=function(){var m=this.props,n=m.horizontalAlignment,o=m.selectedValue,p=m.verticalAlignment,q=p+"-"+n;return c("React").createElement(c("ShimButton.react"),{className:"_hfg"+(o==q?" _hfh":"")+(p=="bottom"?" _hfi":"")+(p=="top"?" _hfj":"")+(n=="right"?" _hfk":"")+(n=="left"?" _hfl":""),onClick:this.$SlideshowAlignmentBox1})};l.propTypes={onValueChange:k.func.isRequired};f.exports=l}),null);
__d("SlideshowColorBox.react",["cx","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l="#ffffff";i=babelHelpers.inherits(m,c("React").PureComponent);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$SlideshowColorBox1=function(){this.props.onClick&&this.props.onClick(this.props.color)}.bind(this),o}m.prototype.render=function(){__p&&__p();var n=this.props,o=n.className,p=n.style,q=babelHelpers.objectWithoutProperties(n,["className","style"]);o=c("joinClasses")("_5266",this.props.className);if(p&&p.backgroundColor===l)o=c("joinClasses")("_2obn",o);else if(p&&!p.backgroundColor){o=c("joinClasses")("_526b",o);if(p.color===l)o=c("joinClasses")("_12k3",o)}return c("React").createElement("div",babelHelpers["extends"]({},q,{className:o,style:p,onClick:this.$SlideshowColorBox1,role:"button",tabIndex:"0"}),"T")};m.propTypes={className:k.string,style:k.object,onClick:k.func};f.exports=m}),null);
__d("SlideshowPhotoCropperWindow.react",["cx","fbt","React","SUIBusinessTheme","SUISimplePopover.react","joinClasses","SlideshowConstants"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("SlideshowConstants").formats;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n)}m.prototype.$SlideshowPhotoCropperWindow1=function(){__p&&__p();if(this.props.isCropping)return null;var n=void 0;switch(this.props.format){case l.Original:n=i._("Original");break;case l.Wide:n=i._("Rectangle(16:9)");break;case l.Square:n=i._("Square(1:1)");break;case l.Vertical:n=i._("Vertical(2:3)");break;default:n=i._("Unknown")}return c("React").createElement("div",{className:"_2d6a"},c("React").createElement(c("SUISimplePopover.react"),{alignment:"center",content:i._("This photo's crop area is based on the aspect ratio of your slideshow. You can change the aspect ratio on the main slideshow editor."),contentWidthUseSparingly:388,position:"above",theme:c("SUIBusinessTheme")}),c("React").createElement("div",{className:"_2d6b"},n))};m.prototype.render=function(){return c("React").createElement("div",{onMouseDown:this.props.onMouseDown,className:c("joinClasses")(this.props.className,"_2d6c"),style:babelHelpers["extends"]({},this.props.style||{},{width:this.props.width,height:this.props.height})},c("React").createElement("div",{className:"_2d6d"}),this.$SlideshowPhotoCropperWindow1())};f.exports=m}),null);
__d("SlideshowPhotoCropSelector.react",["cx","invariant","BackgroundImage.react","Event","SlideshowPhotoCropperWindow.react","React","ReactDOM"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=656,m=425,n=400,o=400,p=function p(s,t,u){return Math.min(Math.max(s,t),u)},q=function q(s){return s*s};j=babelHelpers.inherits(r,c("React").Component);k=j&&j.prototype;function r(s){__p&&__p();k.constructor.call(this,s);this.$SlideshowPhotoCropSelector12=function(t,u){var v=Math.sqrt(q(this.state.screenX-this.$SlideshowPhotoCropSelector5.x)+q(this.state.screenY-this.$SlideshowPhotoCropSelector5.y)),w={x:t/2+this.state.screenX,y:u/2+this.state.screenY},x=Math.sqrt(q(this.$SlideshowPhotoCropSelector5.x-w.x)+q(this.$SlideshowPhotoCropSelector5.y-w.y)),y=p(x/v,this.state.min.scale,this.state.max.scale),z=Math.round(this.state.coordinates.width*y),A=Math.round(this.state.coordinates.height*y),B=this.state.screenX<this.$SlideshowPhotoCropSelector5.x?this.state.coordinates.width-z:0,C=this.state.screenY<this.$SlideshowPhotoCropSelector5.y?this.state.coordinates.height-A:0,D=p(this.state.coordinates.left+B,this.state.min.x,this.state.max.x-z),E=p(this.state.coordinates.top+C,this.state.min.y,this.state.max.y-A);this.$SlideshowPhotoCropSelector20(D,E,z,A)}.bind(this);this.state={coordinates:{},isCropping:false,isResizing:false,min:{},max:{},photoDimensions:{},scale:1,screenX:0,screenY:0};this.$SlideshowPhotoCropSelector1=false;this.$SlideshowPhotoCropSelector2=null;this.$SlideshowPhotoCropSelector3=null;this.$SlideshowPhotoCropSelector5={};this.$SlideshowPhotoCropSelector4=null;this.$SlideshowPhotoCropSelector6=null;this.$SlideshowPhotoCropSelector7=this.$SlideshowPhotoCropSelector7.bind(this);this.$SlideshowPhotoCropSelector8=this.$SlideshowPhotoCropSelector8.bind(this);this.$SlideshowPhotoCropSelector9=this.$SlideshowPhotoCropSelector9.bind(this);this.$SlideshowPhotoCropSelector10=this.$SlideshowPhotoCropSelector10.bind(this);this.$SlideshowPhotoCropSelector11=this.$SlideshowPhotoCropSelector11.bind(this);this.$SlideshowPhotoCropSelector12=this.$SlideshowPhotoCropSelector12.bind(this)}r.prototype.componentWillMount=function(){this.$SlideshowPhotoCropSelector13(this.props)};r.prototype.componentWillReceiveProps=function(s){this.$SlideshowPhotoCropSelector13(s)};r.prototype.componentWillUnmount=function(){if(this.$SlideshowPhotoCropSelector2)this.$SlideshowPhotoCropSelector2.remove();if(this.$SlideshowPhotoCropSelector6)this.$SlideshowPhotoCropSelector6.remove()};r.prototype.$SlideshowPhotoCropSelector13=function(s){__p&&__p();var t=s.photoToEdit.width,u=s.photoToEdit.height;t&&u||i(0);var v=Math.min(l/t,m/u),w={height:u,scaledWidth:Math.round(t*v),scaledHeight:Math.round(u*v),width:t},x={scale:1,x:(l-w.scaledWidth)/2,y:(m-w.scaledHeight)/2},y={scale:1,x:x.x+w.scaledWidth,y:x.y+w.scaledHeight},z=s.photoCrops,A=Object.keys(z)[0],B=z[A],C={};C.top=x.y+B[0][1]*v;C.left=x.x+B[0][0]*v;C.bottom=x.y+(u-B[1][1])*v;C.right=x.x+(t-B[1][0])*v;C.width=l-C.right-C.left;C.height=m-C.bottom-C.top;x.scale=Math.min(n*v/C.width,o*v/C.height);y.scale=Math.min(w.scaledWidth/C.width,w.scaledHeight/C.height);this.setState({max:y,min:x,photoDimensions:w,scale:v,coordinates:C})};r.prototype.$SlideshowPhotoCropSelector14=function(){var s=c("React").createElement("td",{className:"_47uq"}),t=c("React").createElement("tr",null,s,s,s);return c("React").createElement("table",{className:"_47ur"},c("React").createElement("tbody",null,t,t,t))};r.prototype.$SlideshowPhotoCropSelector15=function(s){var t=this.state.min.y,u=this.state.min.x,v=Math.floor(s.top-t),w=Math.floor(s.left-u),x=Math.floor(s.right-u),y=Math.floor(s.bottom-t);return v+"px "+x+"px "+y+"px "+w+"px"};r.prototype.$SlideshowPhotoCropSelector16=function(){return c("React").createElement("div",{className:"_47us",ref:"handles"},c("React").createElement("div",{className:"_47ut _47vn",key:"top_left",onMouseDown:this.$SlideshowPhotoCropSelector11}),c("React").createElement("div",{className:"_47ut _47vo",key:"top_right",onMouseDown:this.$SlideshowPhotoCropSelector11}),c("React").createElement("div",{className:"_47ut _47vp",key:"bottom_right",onMouseDown:this.$SlideshowPhotoCropSelector11}),c("React").createElement("div",{className:"_47ut _47vq",key:"bottom_left",onMouseDown:this.$SlideshowPhotoCropSelector11}))};r.prototype.$SlideshowPhotoCropSelector11=function(event){this.$SlideshowPhotoCropSelector17(event,true)};r.prototype.$SlideshowPhotoCropSelector17=function(event,s){__p&&__p();event.preventDefault();this.$SlideshowPhotoCropSelector18();if(!this.$SlideshowPhotoCropSelector1){this.$SlideshowPhotoCropSelector3=this.$SlideshowPhotoCropSelector19(s);var t=c("ReactDOM").findDOMNode(this.refs.handles);t||i(0);var u=t.getBoundingClientRect(),v=u.left,w=u.top,x=u.width,y=u.height;this.$SlideshowPhotoCropSelector5={x:v+x/2,y:w+y/2};this.$SlideshowPhotoCropSelector2=c("Event").listen(window,"mousemove",this.$SlideshowPhotoCropSelector8);this.$SlideshowPhotoCropSelector6=c("Event").listen(window,"mouseup",this.$SlideshowPhotoCropSelector7);this.setState({isCropping:true,isResizing:s,screenX:event.pageX,screenY:event.pageY});this.$SlideshowPhotoCropSelector1=true;this.$SlideshowPhotoCropSelector20(this.state.coordinates.left,this.state.coordinates.top,this.state.coordinates.width,this.state.coordinates.height)}};r.prototype.$SlideshowPhotoCropSelector19=function(s){return s?this.$SlideshowPhotoCropSelector12:this.$SlideshowPhotoCropSelector10};r.prototype.$SlideshowPhotoCropSelector21=function(){var s,t=this.$SlideshowPhotoCropSelector22(this.$SlideshowPhotoCropSelector23()),u=Object.keys(this.props.photoCrops)[0];this.props.onPhotoCropsUpdate((s={},s[u]=t,s))};r.prototype.$SlideshowPhotoCropSelector22=function(s){var t=this.state.photoDimensions,u={bottom:Math.round(t.height-s.bottom/this.state.scale),left:Math.round(s.left/this.state.scale),right:Math.round(t.width-s.right/this.state.scale),top:Math.round(s.top/this.state.scale)};return[[u.left,u.top],[u.right,u.bottom]]};r.prototype.$SlideshowPhotoCropSelector23=function(){return{left:this.state.coordinates.left-this.state.min.x,right:this.state.coordinates.right-this.state.min.x,top:this.state.coordinates.top-this.state.min.y,bottom:this.state.coordinates.bottom-this.state.min.y}};r.prototype.$SlideshowPhotoCropSelector20=function(s,t,u,v){var w=m-t-v,x=l-s-u,y=this.$SlideshowPhotoCropSelector15({top:t,left:s,bottom:w,right:x});this.$SlideshowPhotoCropSelector4||i(0);this.$SlideshowPhotoCropSelector4.style.borderWidth=y;this.$SlideshowPhotoCropSelector4.style.width=u+"px";this.$SlideshowPhotoCropSelector4.style.height=v+"px";if(!this.$SlideshowPhotoCropSelector1)this.setState({coordinates:{top:t,left:s,bottom:w,right:x,width:u,height:v}},function(){this.$SlideshowPhotoCropSelector21()}.bind(this))};r.prototype.$SlideshowPhotoCropSelector10=function(s,t){var u=this.state.coordinates.width,v=this.state.coordinates.height,w=p(this.state.coordinates.left+s,this.state.min.x,this.state.max.x-u),x=p(this.state.coordinates.top+t,this.state.min.y,this.state.max.y-v);this.$SlideshowPhotoCropSelector20(w,x,u,v)};r.prototype.$SlideshowPhotoCropSelector18=function(){!this.$SlideshowPhotoCropSelector4||i(0);this.$SlideshowPhotoCropSelector4=c("ReactDOM").findDOMNode(this.refs.selector);this.$SlideshowPhotoCropSelector4||i(0)};r.prototype.$SlideshowPhotoCropSelector9=function(event){this.$SlideshowPhotoCropSelector17(event,false)};r.prototype.$SlideshowPhotoCropSelector8=function(event){if(this.$SlideshowPhotoCropSelector1){event.prevent();this.$SlideshowPhotoCropSelector3||i(0);this.$SlideshowPhotoCropSelector3(event.pageX-this.state.screenX,event.pageY-this.state.screenY)}};r.prototype.$SlideshowPhotoCropSelector7=function(event){__p&&__p();if(this.$SlideshowPhotoCropSelector1){this.$SlideshowPhotoCropSelector1=false;this.setState({isCropping:false,isResizing:false});this.$SlideshowPhotoCropSelector3||i(0);this.$SlideshowPhotoCropSelector3(event.pageX-this.state.screenX,event.pageY-this.state.screenY);this.$SlideshowPhotoCropSelector2&&this.$SlideshowPhotoCropSelector2.remove();this.$SlideshowPhotoCropSelector2=null;this.$SlideshowPhotoCropSelector6&&this.$SlideshowPhotoCropSelector6.remove();this.$SlideshowPhotoCropSelector6=null;this.$SlideshowPhotoCropSelector3=null}this.$SlideshowPhotoCropSelector24()};r.prototype.$SlideshowPhotoCropSelector24=function(){delete this.$SlideshowPhotoCropSelector4};r.prototype.$SlideshowPhotoCropSelector25=function(){var s=this.state.coordinates.width+"px",t=this.state.coordinates.height+"px",u=this.$SlideshowPhotoCropSelector15(this.state.coordinates);return c("React").createElement("div",null,c("React").createElement("div",{className:"_47vr",style:{width:this.state.photoDimensions.scaledWidth+2,height:this.state.photoDimensions.scaledHeight+2,top:this.state.min.y-1,left:this.state.min.x-1}}),c("React").createElement("div",null,c("React").createElement("div",{className:"_47vs",ref:"selector",style:{borderWidth:u,height:t,left:this.state.min.x,top:this.state.min.y,width:s}},this.$SlideshowPhotoCropSelector14(),this.$SlideshowPhotoCropSelector16(),c("React").createElement(c("SlideshowPhotoCropperWindow.react"),{className:"_ms8",format:this.props.format,height:this.state.coordinates.height,isCropping:this.state.isCropping&&this.$SlideshowPhotoCropSelector1,onMouseDown:this.$SlideshowPhotoCropSelector9,width:this.state.coordinates.width}))))};r.prototype.render=function(){return c("React").createElement("div",{className:"_118z"},c("React").createElement("div",{className:"_47vt"},c("React").createElement(c("BackgroundImage.react"),{backgroundSize:"contain",height:m,loadingIndicatorStyle:"large",src:this.props.photoToEdit.url,width:l}),this.$SlideshowPhotoCropSelector25()))};f.exports=r}),null);
__d("SlideshowPhotoEditOptionConstants",[],(function a(b,c,d,e,f,g){f.exports={Text:"TEXT",Crop:"CROP"}}),null);
__d("SlideshowPhotoEditOptionSelector.react",["ix","cx","fbt","Image.react","React","ShimButton.react","SlideshowPhotoEditOptionConstants","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("SlideshowPhotoEditOptionConstants").Text,n=c("SlideshowPhotoEditOptionConstants").Crop;k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;function o(){var p;(p=l.constructor).call.apply(p,[this].concat(Array.prototype.slice.call(arguments)));this.$SlideshowPhotoEditOptionSelector1=this.$SlideshowPhotoEditOptionSelector1.bind(this);this.$SlideshowPhotoEditOptionSelector2=this.$SlideshowPhotoEditOptionSelector2.bind(this)}o.prototype.$SlideshowPhotoEditOptionSelector3=function(p){if(p!==this.props.editOptionType)return null;return c("React").createElement(c("Image.react"),{className:p===m?"_3rqm":"_3rqn",src:h("115698")})};o.prototype.$SlideshowPhotoEditOptionSelector4=function(){return c("React").createElement("div",null,c("React").createElement(c("ShimButton.react"),{className:this.props.editOptionType===m?"_4bna":"_3rqo",onClick:this.$SlideshowPhotoEditOptionSelector2},c("React").createElement(c("Image.react"),{className:"_3rqp",src:h("117249")}),c("React").createElement("span",{className:"_3rqq"},j._("Text"))),this.$SlideshowPhotoEditOptionSelector3(m))};o.prototype.$SlideshowPhotoEditOptionSelector5=function(){return c("React").createElement("div",null,c("React").createElement(c("ShimButton.react"),{className:this.props.editOptionType===n?"_4bnb":"_3rqr",onClick:this.$SlideshowPhotoEditOptionSelector1},c("React").createElement(c("Image.react"),{className:"_3rqp",src:h("116301")}),c("React").createElement("span",{className:"_3rqq"},j._("Crop"))),this.$SlideshowPhotoEditOptionSelector3(n))};o.prototype.$SlideshowPhotoEditOptionSelector2=function(){if(this.props.editOptionType!==m)this.props.onChangeEditOption(m)};o.prototype.$SlideshowPhotoEditOptionSelector1=function(){if(this.props.editOptionType!==n)this.props.onChangeEditOption(n)};o.prototype.render=function(){return c("React").createElement("div",{className:"_3rqs"},this.$SlideshowPhotoEditOptionSelector4(),this.$SlideshowPhotoEditOptionSelector5())};f.exports=o}),null);
__d("SlideshowTextoverlayAlignmentConstants",[],(function a(b,c,d,e,f,g){f.exports={Horizontal:["left","center","right"],Vertical:["top","center","bottom"]}}),null);
__d("SlideshowPhotoEditDialog.react",["invariant","cx","fbt","colr","color-picker","LayerHideOnBlur","LayerFadeOnHide","React","ShimButton.react","SlideshowAlignmentBox.react","SlideshowColorBox.react","SlideshowConstants","SlideshowFrameImage.react","SlideshowPhotoCropSelector.react","SlideshowImageUtil","SlideshowPhotoEditOptionConstants","SlideshowPhotoEditOptionSelector.react","SlideshowTextoverlayAlignmentConstants","SlideshowTextoverlayColorPickerConstants","XUIButton.react","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogSaveButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIRadioButtonGroup.react","XUISingleSelector.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("XUISingleSelector.react").Option,n=204,o=730,p=810,q=460,r=60;k=babelHelpers.inherits(s,c("React").Component);l=k&&k.prototype;function s(t){__p&&__p();l.constructor.call(this,t);this.$SlideshowPhotoEditDialog7=function(u){if(this.props.colorPickerDialogShown&&!u)this.props.onSaveColor()}.bind(this);this.$SlideshowPhotoEditDialog6=function(u){this.setState({colorInput:u.background_color});this.props.onSelectTextoverlayColor(u)}.bind(this);this.$SlideshowPhotoEditDialog5=function(u){var v=u.target;v instanceof HTMLInputElement||h(0);this.setState({colorInput:v.value});var w=void 0;try{w=c("colr").fromHex(v.value).toHex();if(w)this.props.onSelectTextoverlayColor({background_color:w,font_color:this.props.textoverlayColor.font_color})}catch(x){}}.bind(this);this.$SlideshowPhotoEditDialog4=function(u){this.setState({colorInput:u});this.props.onSelectTextoverlayColor({background_color:u,font_color:this.props.textoverlayColor.font_color})}.bind(this);this.$SlideshowPhotoEditDialog1=function(u){this.props.onChangeTextoverlayFont(u.value)}.bind(this);this.$SlideshowPhotoEditDialog2=function(u){this.props.onChangeTextoverlayFontBold(u)}.bind(this);this.$SlideshowPhotoEditDialog3=function(u){this.props.onSetTextoverlayContent(u.target.value)}.bind(this);this.state={colorInput:t.textoverlayColor.background_color};this.$SlideshowPhotoEditDialog1=this.$SlideshowPhotoEditDialog1.bind(this);this.$SlideshowPhotoEditDialog2=this.$SlideshowPhotoEditDialog2.bind(this);this.$SlideshowPhotoEditDialog3=this.$SlideshowPhotoEditDialog3.bind(this);this.$SlideshowPhotoEditDialog4=this.$SlideshowPhotoEditDialog4.bind(this);this.$SlideshowPhotoEditDialog5=this.$SlideshowPhotoEditDialog5.bind(this);this.$SlideshowPhotoEditDialog6=this.$SlideshowPhotoEditDialog6.bind(this);this.$SlideshowPhotoEditDialog7=this.$SlideshowPhotoEditDialog7.bind(this)}s.prototype.$SlideshowPhotoEditDialog8=function(){var t=c("SlideshowConstants").textoverlays_fonts;return Object.keys(t).map(function(u){return c("React").createElement(m,{key:u,value:u},t[u])})};s.prototype.$SlideshowPhotoEditDialog9=function(){return c("React").createElement("div",{className:"_bsi"},c("React").createElement("div",{className:"_bsj"},j._("Font")),c("React").createElement(c("XUISingleSelector.react"),{className:"_bsm",maxwidth:138,name:"font",size:"large",value:this.props.textoverlayFont,onChange:this.$SlideshowPhotoEditDialog1},this.$SlideshowPhotoEditDialog8()),c("React").createElement(c("XUIRadioButtonGroup.react"),{className:"_46un",selectedValue:this.props.isTextoverlayFontBold,selectedDepressed:true,onValueChange:this.$SlideshowPhotoEditDialog2},c("React").createElement(c("XUIButton.react"),{label:j._("Regular"),value:false}),c("React").createElement(c("XUIButton.react"),{label:j._("Bold"),value:true})))};s.prototype.$SlideshowPhotoEditDialog10=function(){return c("React").createElement("div",{className:"_47dr"},c("React").createElement("span",{className:"_bsj"},j._("Colors")),c("React").createElement(c("SlideshowColorBox.react"),{className:"_458a",ref:"colorBox",style:{color:this.props.textoverlayColor.font_color,backgroundColor:this.props.textoverlayColor.background_color},onClick:this.props.onOpenColorPicker}),this.$SlideshowPhotoEditDialog11())};s.prototype.$SlideshowPhotoEditDialog12=function(){var t=c("SlideshowConstants").textoverlays_colors,u=this.props.textoverlayColor;return c("React").createElement("div",{className:"_3pya"},t.map(function(v){return c("React").createElement(c("SlideshowColorBox.react"),{className:"_47ds"+(v.background_color==u.background_color&&v.font_color==u.font_color?" _auk":""),color:v,key:v.font_color+v.background_color,style:{color:v.font_color,backgroundColor:v.background_color},onClick:this.$SlideshowPhotoEditDialog6})}.bind(this)))};s.prototype.$SlideshowPhotoEditDialog13=function(){var t=this.props.textoverlayColor;return c("React").createElement("div",null,c("React").createElement("div",{className:"_3pyb"},c("React").createElement(c("color-picker"),{color:t.background_color,onChange:this.$SlideshowPhotoEditDialog4})),c("React").createElement(c("SlideshowColorBox.react"),{className:"_47ds _3pyc",color:t,style:{color:t.font_color,backgroundColor:t.background_color}}),c("React").createElement("div",{className:"_3pyd"},c("React").createElement("input",{maxLength:7,value:this.state.colorInput,onChange:this.$SlideshowPhotoEditDialog5})))};s.prototype.$SlideshowPhotoEditDialog11=function(){var t=this.props,u=t.colorPickerDialogShown,v=t.colorPickerType,w=v==c("SlideshowTextoverlayColorPickerConstants").Basic;return c("React").createElement(c("XUIContextualDialog.react"),{alignment:"right",behaviors:{LayerHideOnBlur:c("LayerHideOnBlur")},contextRef:function(){return this.refs.colorBox}.bind(this),shown:u,position:"below",width:n,onToggle:this.$SlideshowPhotoEditDialog7},c("React").createElement(c("XUIContextualDialogBody.react"),null,c("React").createElement(c("ShimButton.react"),{className:"_3pye _2d75"+(w?" _3pyf":""),onClick:this.props.onClickBasicColorPicker},j._("Basic")),c("React").createElement(c("ShimButton.react"),{className:"_3pye _2d76"+(!w?" _3pyf":""),onClick:this.props.onClickAdvancedColorPicker},j._("Advanced")),w?this.$SlideshowPhotoEditDialog12():this.$SlideshowPhotoEditDialog13()),c("React").createElement(c("XUIContextualDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{use:"confirm",label:j._("Done"),onClick:this.props.onSaveColor})))};s.prototype.$SlideshowPhotoEditDialog14=function(){var t=c("SlideshowTextoverlayAlignmentConstants").Horizontal,u=c("SlideshowTextoverlayAlignmentConstants").Vertical;return c("React").createElement("div",{className:"_b3r"},c("React").createElement("span",{className:"_bsj"},j._("Alignment")),c("React").createElement("div",{className:"_b3s"},u.map(function(v){return t.map(function(w){return c("React").createElement(c("SlideshowAlignmentBox.react"),{key:v+"-"+w,selectedValue:this.props.textoverlayAlignment,horizontalAlignment:w,verticalAlignment:v,onValueChange:this.props.onChangeTextoverlayAlignment})}.bind(this))}.bind(this))))};s.prototype.$SlideshowPhotoEditDialog15=function(){return c("React").createElement("div",{className:"_32zp"},this.$SlideshowPhotoEditDialog16(),this.$SlideshowPhotoEditDialog9(),this.$SlideshowPhotoEditDialog10(),this.$SlideshowPhotoEditDialog14())};s.prototype.$SlideshowPhotoEditDialog17=function(){if(!this.props.dialogShown)return null;var t=c("SlideshowImageUtil").getPreviewBoxDimensions(this.props.photosCrops,q),u={marginLeft:(q-t.width)/2,marginTop:(q-t.height)/2},v=this.props.photoToEdit;v||h(0);return c("React").createElement("div",{className:"_4ry3"},c("React").createElement("div",{style:u},c("React").createElement(c("SlideshowFrameImage.react"),{croppingSpec:c("SlideshowImageUtil").getCroppingSpec(this.props.photoCrops,t,v,this.props.showSlideshowImageCroppingEditOption),imageSrc:v.url,imageWidth:v.width,imageHeight:v.height,maxWidth:t.width,maxHeight:t.height,positionStyle:"relative",textoverlay:{background_color:this.props.textoverlayColor.background_color,bold:this.props.isTextoverlayFontBold,font:this.props.textoverlayFont,font_color:this.props.textoverlayColor.font_color,text_alignment:this.props.textoverlayAlignment,textoverlay_content:this.props.textoverlayContent}})))};s.prototype.$SlideshowPhotoEditDialog18=function(){switch(this.props.editOptionType){case c("SlideshowPhotoEditOptionConstants").Crop:if(!this.props.photoToEdit||!this.props.photoCrops)return null;return c("React").createElement("div",{className:"_2m0d"},c("React").createElement(c("SlideshowPhotoCropSelector.react"),{format:this.props.format,photoCrops:this.props.photoCrops,photoToEdit:this.props.photoToEdit,onPhotoCropsUpdate:this.props.onPhotoCropsUpdate}));case c("SlideshowPhotoEditOptionConstants").Text:return c("React").createElement("div",{className:"_2m0d"},this.$SlideshowPhotoEditDialog15(),c("React").createElement("div",{className:"_4ry4"},this.$SlideshowPhotoEditDialog17()));default:return null}};s.prototype.$SlideshowPhotoEditDialog16=function(){var t=this.props.textoverlayContent,u=r-(t?t.length:0);return c("React").createElement("div",null,c("React").createElement("textarea",{className:"_32zq",placeholder:j._("Your text..."),maxLength:r,onChange:this.$SlideshowPhotoEditDialog3,value:t||""}),c("React").createElement("div",{className:"_2nyn"+(u<=0?" _2d77":"")},u))};s.prototype.$SlideshowPhotoEditDialog19=function(){if(!this.props.showSlideshowImageCroppingEditOption)return null;return c("React").createElement(c("SlideshowPhotoEditOptionSelector.react"),{editOptionType:this.props.editOptionType,onChangeEditOption:this.props.onChangeEditOption})};s.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},layerHideOnBlur:false,shown:this.props.dialogShown,width:this.props.showSlideshowImageCroppingEditOption?p:o},c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:false},j._("Edit Photo")),c("React").createElement(c("XUIDialogBody.react"),{className:"_5emm",useCustomPadding:true},this.$SlideshowPhotoEditDialog19(),this.$SlideshowPhotoEditDialog18()),c("React").createElement(c("XUIDialogFooter.react"),{className:"_vc3"},c("React").createElement(c("XUIDialogCancelButton.react"),{onClick:this.props.onCancel}),c("React").createElement(c("XUIDialogSaveButton.react"),{disabled:this.props.textoverlayContent&&this.props.textoverlayContent.length>r,use:"confirm",onClick:this.props.onSave})))};f.exports=s}),null);
__d("SlideshowPhotoEditStore",["SlideshowConstants","SlideshowPhotoEditOptionConstants","SlideshowTextoverlayColorPickerConstants","FluxReduceStore","immutable","SlideshowActionTypes","SlideshowDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=c("immutable").Record({colorPickerType:c("SlideshowTextoverlayColorPickerConstants").Basic,isColorPickerDialogShown:false,isPhotoEditDialogShown:false,isTextoverlayFontBold:false,editOptionType:c("SlideshowPhotoEditOptionConstants").Text,photoCrops:null,photoToEdit:null,textoverlayAlignment:"center-center",textoverlayColor:c("SlideshowConstants").textoverlays_colors[0],textoverlayContent:null,textoverlayFont:Object.keys(c("SlideshowConstants").textoverlays_fonts)[0]});h=babelHelpers.inherits(m,l);i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.getPhotoToEdit=function(){return this.getState().get("photoToEdit")};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("SlideshowActionTypes").SHOW_PHOTO_EDIT_DIALOG:return o.set("isColorPickerDialogShown",p.isColorPickerDialogShown).set("isPhotoEditDialogShown",p.isPhotoEditDialogShown).set("photoCrops",p.photoCrops).set("photoToEdit",p.photoToEdit).set("textoverlayAlignment",p.textoverlayAlignment).set("textoverlayColor",p.textoverlayColor).set("textoverlayContent",p.textoverlayContent).set("textoverlayFont",p.textoverlayFont).set("isTextoverlayFontBold",p.isTextoverlayFontBold);case c("SlideshowActionTypes").CLOSE_PHOTO_EDIT_DIALOG:return o.set("isPhotoEditDialogShown",p.isPhotoEditDialogShown).set("photoToEdit",p.photoToEdit);case c("SlideshowActionTypes").TOGGLE_COLOR_PICKER_DIALOG:return o.set("isColorPickerDialogShown",!o.get("isColorPickerDialogShown"));case c("SlideshowActionTypes").CHANGE_COLOR_PICKER_TYPE:return o.set("colorPickerType",p.colorPickerType);case c("SlideshowActionTypes").CHANGE_EDIT_OPTION_TYPE:return o.set("editOptionType",p.editOptionType);case c("SlideshowActionTypes").CHANGE_PHOTO_CROPS:return o.set("photoCrops",p.photoCrops);case c("SlideshowActionTypes").SELECT_TEXTOVERLAY_COLOR:return o.set("textoverlayColor",p.textoverlayColor);case c("SlideshowActionTypes").SET_TEXTOVERLAY_CONTENT:var q=p.textoverlayContent?p.textoverlayContent.trimLeft():null;return o.set("textoverlayContent",q);case c("SlideshowActionTypes").CHANGE_TEXTOVERLAY_ALIGNMENT:return o.set("textoverlayAlignment",p.textoverlayAlignment);case c("SlideshowActionTypes").CHANGE_TEXTOVERLAY_FONT:return o.set("textoverlayFont",p.textoverlayFont);case c("SlideshowActionTypes").CHANGE_TEXTOVERLAY_FONT_BOLD:return o.set("isTextoverlayFontBold",p.isTextoverlayFontBold)}return o};n.prototype.getColorPickerType=function(){return this.getState().get("colorPickerType")};n.prototype.getEditOptionType=function(){return this.getState().get("editOptionType")};n.prototype.getPhotoCrops=function(){return this.getState().get("photoCrops")};n.prototype.getTextoverlayAlignment=function(){return this.getState().get("textoverlayAlignment")};n.prototype.getTextoverlayColor=function(){return this.getState().get("textoverlayColor")};n.prototype.getTextoverlayContent=function(){return this.getState().get("textoverlayContent")};n.prototype.getTextoverlayFont=function(){return this.getState().get("textoverlayFont")};n.prototype.shouldShowColorPickerDialog=function(){return this.getState().get("isColorPickerDialogShown")};n.prototype.shouldShowPhotoEditDialog=function(){return this.getState().get("isPhotoEditDialogShown")};n.prototype.isTextoverlayFontBold=function(){return this.getState().get("isTextoverlayFontBold")};function n(){j.apply(this,arguments)}f.exports=new n(c("SlideshowDispatcher"))}),null);
__d("SlideshowPhotoEditDialogContainer.react",["FluxContainer","React","SlideshowActions","SlideshowDispatcher","SlideshowPhotoEditDialog.react","SlideshowPhotoEditStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$SlideshowPhotoEditDialogContainer1=function(){this.props.onSaveTextoverlay&&this.props.onSaveTextoverlay(this.state.photoToEdit,{textoverlay_content:this.state.textoverlayContent,font_color:this.state.textoverlayColor.font_color,background_color:this.state.textoverlayColor.background_color,text_alignment:this.state.textoverlayAlignment,font:this.state.textoverlayFont,bold:this.state.isTextoverlayFontBold});this.props.onSaveImageCrops&&this.props.onSaveImageCrops(this.state.photoToEdit,this.state.photoCrops);c("SlideshowActions").closePhotoEditDialog()}.bind(this),l}j.getStores=function(){return[c("SlideshowPhotoEditStore")]};j.calculateState=function(){return{colorPickerType:c("SlideshowPhotoEditStore").getColorPickerType(),editOptionType:c("SlideshowPhotoEditStore").getEditOptionType(),isColorPickerDialogShown:c("SlideshowPhotoEditStore").shouldShowColorPickerDialog(),isPhotoEditDialogShown:c("SlideshowPhotoEditStore").shouldShowPhotoEditDialog(),isTextoverlayFontBold:c("SlideshowPhotoEditStore").isTextoverlayFontBold(),textoverlayAlignment:c("SlideshowPhotoEditStore").getTextoverlayAlignment(),textoverlayColor:c("SlideshowPhotoEditStore").getTextoverlayColor(),textoverlayContent:c("SlideshowPhotoEditStore").getTextoverlayContent(),textoverlayFont:c("SlideshowPhotoEditStore").getTextoverlayFont(),photoToEdit:c("SlideshowPhotoEditStore").getPhotoToEdit(),photoCrops:c("SlideshowPhotoEditStore").getPhotoCrops()}};j.prototype.componentWillMount=function(){c("SlideshowDispatcher").explicitlyRegisterStores([c("SlideshowPhotoEditStore")])};j.prototype.render=function(){return c("React").createElement(c("SlideshowPhotoEditDialog.react"),{colorPickerDialogShown:this.state.isColorPickerDialogShown,colorPickerType:this.state.colorPickerType,dialogShown:this.state.isPhotoEditDialogShown,editOptionType:this.state.editOptionType,format:this.props.format,isTextoverlayFontBold:this.state.isTextoverlayFontBold,photoCrops:this.state.photoCrops,photosCrops:this.props.photosCrops,photoToEdit:this.state.photoToEdit,showSlideshowImageCroppingEditOption:this.props.showSlideshowImageCroppingEditOption,textoverlayAlignment:this.state.textoverlayAlignment,textoverlayColor:this.state.textoverlayColor,textoverlayContent:this.state.textoverlayContent,textoverlayFont:this.state.textoverlayFont,onCancel:c("SlideshowActions").closePhotoEditDialog,onChangeEditOption:c("SlideshowActions").changeEditOptionType,onChangeTextoverlayAlignment:c("SlideshowActions").changeTextoverlayAlignment,onChangeTextoverlayFont:c("SlideshowActions").changeTextoverlayFont,onChangeTextoverlayFontBold:c("SlideshowActions").changeTextoverlayFontBold,onClickAdvancedColorPicker:c("SlideshowActions").showAdvancedColorPicker,onClickBasicColorPicker:c("SlideshowActions").showBasicColorPicker,onOpenColorPicker:c("SlideshowActions").toggleColorPickerDialog,onPhotoCropsUpdate:c("SlideshowActions").changePhotoCrops,onSave:this.$SlideshowPhotoEditDialogContainer1,onSaveColor:c("SlideshowActions").toggleColorPickerDialog,onSelectTextoverlayColor:c("SlideshowActions").selectTextoverlayColor,onSetTextoverlayContent:c("SlideshowActions").setTextoverlayContent})};f.exports=c("FluxContainer").create(j)}),null);
__d("SlideshowPreviewConstants",[],(function a(b,c,d,e,f,g){f.exports={WWW_PREVIEW_CONTAINER_SIZE:450,WWW_PREVIEW_CONTAINER_SIZE_COMPOSER:478,WWW_COMPOSER_LEFT_MARGIN:12,WWW_PLAY_ICON_SIZE:64,WWW_PLAYER_SIZE:350,WWW_PLAYER_SIZE_COMPOSER:478}}),null);
__d("SlideshowPlayer.react",["cx","fbt","ix","Animation","Event","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","Image.react","Link.react","React","ReactDOM","Style","SlideshowConstants","SlideshowImageUtil","SlideshowPreviewConstants","SlideshowUtil","XUICloseButton.react","XUIOverlayButton.react","ge","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=c("React").PropTypes,l=1e3,m=100,n=c("React").createClass({displayName:"SlideshowPlayer",_animation:null,_timeout:null,_audioEndedEvent:c("Event"),_audioref:"slideshow_audio_player",_fadeTimeOut:null,_fadeInterval:null,_maxAudioTimeOut:null,propTypes:{durationInMS:k.number.isRequired,imagesAllLoaded:k.bool.isRequired,imagesCrops:k.arrayOf(k.object.isRequired).isRequired,isPreviewPlaying:k.bool.isRequired,previewBoxContainerSize:k.number.isRequired,previewBoxSize:k.number.isRequired,storylineMoodIDSource:k.oneOfType([k.oneOf([null,undefined]),k.string]),transitionInMS:k.number.isRequired,onClose:k.func,onPreviewStateChange:k.func.isRequired},getInitialState:function o(){return{currIndex:0,nextIndex:1,playing:false}},componentDidMount:function o(){this._timeout=null;this._audioEndedEvent=null},componentWillUnmount:function o(){this._clearTimeout()},componentDidUpdate:function o(p){if(this.props.isPreviewPlaying&&!p.isPreviewPlaying)this._startPlaying();else if(!this.props.isPreviewPlaying&&p.isPreviewPlaying)this._stopPlaying()},_clearTimeout:function o(){__p&&__p();if(this._timeout){clearTimeout(this._timeout);this._timeout=null}if(this._animation){this._animation.stop();this._animation=null}if(this._fadeTimeOut)clearTimeout(this._fadeTimeOut);if(this._fadeInterval)clearInterval(this._fadeInterval);if(this._maxAudioTimeOut)clearTimeout(this._maxAudioTimeOut)},_getItemCount:function o(){return c("React").Children.count(this.props.children)},_moveNext:function o(){var p=this._getItemCount();if(p===0)if(this._maxAudioTimeOut)return;else this._setAudioTimeout();else if(this.state.nextIndex>=p)this._stopPlaying();else this._fadeImage()},_setTimeout:function o(){this._timeout=setTimeout(this._moveNext,this.props.durationInMS)},_setAudioTimeout:function o(){var p=this._getItemCount(),q=p===0?c("SlideshowUtil").getMaximumTotalLengthInMS():p*(this.props.durationInMS+this.props.transitionInMS);this._fadeTimeOut=setTimeout(this._fadeAudio,q-l*c("SlideshowConstants").audio_fadeout);this._maxAudioTimeOut=setTimeout(this._stopPlaying,q)},_fadeImage:function o(){var p=this.state,q=p.currIndex,r=p.nextIndex,s=c("ReactDOM").findDOMNode(this.refs[q]);if(!s){this._stopPlaying();return}this._animation=new(c("Animation"))(c("ReactDOM").findDOMNode(this.refs[q])).from("opacity",1).to("opacity",0).duration(this.props.transitionInMS).ondone(function(){this.setState({currIndex:r,nextIndex:r+1},this._setTimeout)}.bind(this)).go()},_resetImages:function o(){this.setState({currIndex:0,nextIndex:1});for(var p=0;p<this._getItemCount();p++)c("Style").set(c("ReactDOM").findDOMNode(this.refs[p]),"opacity",1)},_fadeAudio:function o(){var p=c("ge")(this._audioref),q=c("SlideshowConstants").audio_fadeout*(l/m),r=1/q;this._fadeInterval=setInterval(function(){var s=p.volume;if(s-r>=0){s-=r;p.volume=s}else clearInterval(this._fadeInterval)},m)},_startPlaying:function o(){__p&&__p();if(this._timeout)return;this.setState({playing:true},this._setTimeout);this._audioEndedEvent=null;var p=this.props.storylineMoodIDSource;if(!p)return;var q=c("ge")(this._audioref);if(!q)return;q.src=p;q.volume=1;q.play();this._audioEndedEvent=c("Event").listen(q,"ended",function(){q.play()});this._setAudioTimeout()},_stopPlaying:function o(){__p&&__p();this.props.onPreviewStateChange(false);if(this._timeout){this.setState({playing:false});var p=c("ge")(this._audioref);if(p!=null)p.pause();if(this._audioEndedEvent!==null)this._audioEndedEvent.remove();this._clearTimeout();this._resetImages()}},_getCurrentImages:function o(){return this.props.children.map(function(p,q){return c("React").createElement("div",{ref:q,key:q,style:{position:"absolute"}},p)}).reverse()},_getPlayerStyle:function o(){return{height:this.props.previewBoxSize,margin:(this.props.previewBoxContainerSize-this.props.previewBoxSize)/2,width:this.props.previewBoxSize}},_getEditOverlayButtonStyle:function o(){var p=c("SlideshowImageUtil").getPreviewBoxDimensions(this.props.imagesCrops,this.props.previewBoxSize);return{marginLeft:(this.props.previewBoxSize-p.width)/2,marginTop:(this.props.previewBoxSize-p.height)/2}},_getCloseOverlayButtonStyle:function o(){var p=c("SlideshowImageUtil").getPreviewBoxDimensions(this.props.imagesCrops,this.props.previewBoxSize);return{marginRight:(this.props.previewBoxSize-p.width)/2,marginTop:(this.props.previewBoxSize-p.height)/2}},_getCloseButton:function o(){if(!this.props.onClose)return null;return c("React").createElement(c("XUICloseButton.react"),{className:"_4xxs",onClick:this.props.onClose,size:"medium",shade:"light",style:this._getCloseOverlayButtonStyle()})},_playButtonClick:function o(){this.props.onPreviewStateChange(true)},_getEditButton:function o(){if(!this.props.onEdit)return null;var p=i._("Edit");return c("React").createElement(c("XUIOverlayButton.react"),{className:"_4xxt",image:c("React").createElement(c("Image.react"),{src:j("115341")}),label:p,style:this._getEditOverlayButtonStyle(),onClick:this.props.onEdit})},render:function o(){var p=this._getItemCount(),q={marginLeft:(this.props.previewBoxContainerSize-c("SlideshowPreviewConstants").WWW_PLAY_ICON_SIZE)/2,marginTop:(this.props.previewBoxContainerSize-c("SlideshowPreviewConstants").WWW_PLAY_ICON_SIZE)/2};return c("React").createElement(c("FBOverlayContainer.react"),null,c("React").createElement(c("FBOverlayBase.react"),null,c("React").createElement("div",{className:"_4xxx",style:this._getPlayerStyle()},p===1?c("React").createElement("div",{ref:0,style:{position:"absolute"}},this.props.children):this._getCurrentImages(),this._getCloseButton(),this._getEditButton(),c("React").createElement("audio",{id:this._audioref,className:"hidden_elem"},c("React").createElement("source",{type:"audio/mpeg"})))),c("React").createElement(c("FBOverlayElement.react"),null,c("React").createElement("div",{className:this.state.playing||!this.props.imagesAllLoaded?"_4xxy":"",style:q},c("React").createElement(c("Link.react"),{onClick:this._playButtonClick},c("React").createElement(c("Image.react"),{src:j("27500")})))))}});f.exports=n}),null);
__d("SlideshowPreview.react",["cx","invariant","LoadingImageBox.react","React","SlideshowFrameImage.react","SlideshowImageUtil","SlideshowPlayer.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.$SlideshowPreview1=function(){var m=c("SlideshowImageUtil").getPreviewBoxDimensions(this.props.imagesCrops,this.props.previewBoxSize),n={marginLeft:(this.props.previewBoxSize-m.width)/2,marginTop:(this.props.previewBoxSize-m.height)/2};return this.props.selectedImages.map(function(o,p){o.width!=null&&o.height!=null||i(0);return c("React").createElement("div",{style:n,key:o.key},c("React").createElement(c("SlideshowFrameImage.react"),{className:"_590x",croppingSpec:c("SlideshowImageUtil").getCroppingSpec(this.props.imagesCrops[p],m,o,this.props.showSlideshowImageCroppingEditOption),imageSrc:o.url,imageWidth:o.width,imageHeight:o.height,maxWidth:m.width,maxHeight:m.height,positionStyle:"relative",textoverlay:this.props.imagesTextoverlays&&this.props.imagesTextoverlays[p].textoverlay_content?this.props.imagesTextoverlays[p]:null}))}.bind(this)).slice(0,this.props.maxSelectedImages)};l.prototype.render=function(){return c("React").createElement("div",this.props,c("React").createElement(c("SlideshowPlayer.react"),{durationInMS:this.props.durationWithTransitionInMS-this.props.transitionInMS,imagesAllLoaded:this.props.imagesAllLoaded,imagesCrops:this.props.imagesCrops,isPreviewPlaying:this.props.isPreviewPlaying,previewBoxContainerSize:this.props.previewBoxContainerSize,previewBoxSize:this.props.previewBoxSize,storylineMoodIDSource:this.props.storylineMoodIDSource,transitionInMS:this.props.transitionInMS,onClose:this.props.onClose,onEdit:this.props.onEdit,onPreviewStateChange:this.props.onPreviewStateChange},this.props.imagesAllLoaded?this.$SlideshowPreview1():c("React").createElement(c("LoadingImageBox.react"),{className:"_590x",height:this.props.previewBoxSize,width:this.props.previewBoxSize})))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("SlideshowSettingsPanel.react",["cx","fbt","SlideshowConstants","SlideshowFbtUtils","React","SUIBusinessTheme","SUISimplePopover.react","XUIButton.react","XUIRadioButtonGroup.react","XUISingleSelector.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("XUISingleSelector.react").Option,m=c("SlideshowConstants").image_duration_in_sec_options,n=1e3;j=babelHelpers.inherits(o,c("React").PureComponent);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$SlideshowSettingsPanel7=function(event){this.props.onPreviewStateChange(false);var u=event.value,v=this.props.storylineMoodFiles.find(function(w){return w.moodID===u});this.props.onChangeStorylineMood(v?v:null)}.bind(this),q}o.prototype.$SlideshowSettingsPanel1=function(){return c("React").createElement("div",{className:"_315i"},c("React").createElement("span",{className:"_315k"},i._("ASPECT RATIO")),c("React").createElement(c("SUISimplePopover.react"),{content:i._("Choose the aspect ratio for your video. Let the first image of your slideshow determine the ratio, or set it to square (1:1), rectangle (16:9) or vertical (2:3)"),contentWidthUseSparingly:328,theme:c("SUIBusinessTheme")}),c("React").createElement("div",{className:"_2i2r"},c("React").createElement(c("XUISingleSelector.react"),{defaultValue:this.props.format,name:"format",size:"xlarge",onChange:this.props.onChangeFormat},this.$SlideshowSettingsPanel2())))};o.prototype.$SlideshowSettingsPanel2=function(){var p=c("SlideshowConstants").formats;return Object.keys(p).map(function(q){return c("React").createElement(l,{key:q,value:p[q]},c("SlideshowFbtUtils").getFormatFbtString(q))})};o.prototype.$SlideshowSettingsPanel3=function(){return c("React").createElement("div",{className:"_315i"},c("React").createElement("span",{className:"_315k"},i._("IMAGE DURATION")),c("React").createElement(c("SUISimplePopover.react"),{content:i._("Set the total number of seconds you show each image in your slideshow."),theme:c("SUIBusinessTheme")}),c("React").createElement("div",{className:"_2i2r"},c("React").createElement(c("XUISingleSelector.react"),{defaultValue:this.props.durationWithTransitionInMS,name:"duration",size:"xlarge",onChange:this.props.onChangeDuration},this.$SlideshowSettingsPanel4())))};o.prototype.$SlideshowSettingsPanel4=function(){return m.map(function(p){return c("React").createElement(l,{key:p,value:p*n},c("SlideshowFbtUtils").getDurationFbtString(p))})};o.prototype.$SlideshowSettingsPanel5=function(){var p=c("SlideshowConstants").transitions;return c("React").createElement("div",{className:"_315i"},c("React").createElement("span",{className:"_315k"},i._("TRANSITION")),c("React").createElement(c("SUISimplePopover.react"),{content:i._("Choose how your slideshow switches from one image to the next."),theme:c("SUIBusinessTheme")}),c("React").createElement("div",{className:"_2i2r"},c("React").createElement(c("XUIRadioButtonGroup.react"),{selectedDepressed:true,selectedValue:this.props.transitionInMS,onValueChange:this.props.onChangeTransition},Object.keys(p).map(function(q){return c("React").createElement(c("XUIButton.react"),{key:q,label:c("SlideshowFbtUtils").getTransitionFbtString(q),size:"xlarge",value:p[q]})}))))};o.prototype.$SlideshowSettingsPanel6=function(){var p=[];this.props.storylineMoodFiles.forEach(function(r){p.push(c("React").createElement(l,{key:r.moodID,value:r.moodID},r.fileName))});var q=[c("React").createElement(l,{key:c("SlideshowConstants").storyline_mood_id_none,value:null},i._("None"))];return c("React").createElement(c("XUISingleSelector.react"),{defaultValue:null,name:"storyline_mood_file",size:"xlarge",value:this.props.selectedStorylineMood?this.props.selectedStorylineMood.moodID:null,onChange:this.$SlideshowSettingsPanel7},q.concat(p))};o.prototype.render=function(){return c("React").createElement("div",babelHelpers["extends"]({className:"_2bot"},this.props),this.props.warningMessage,this.$SlideshowSettingsPanel1(),this.$SlideshowSettingsPanel3(),this.$SlideshowSettingsPanel5())};f.exports=o}),null);
__d("SlideshowTabBar.react",["cx","LayerFadeOnHide","React","ReactFragment","SimpleNUXMessage","SimpleNUXMessageTypes","SlideshowFbtUtils","SlideshowFlowTypes","XUIAmbientNUX.react","XUICardSection.react","XUIPageNavigation.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("SlideshowFlowTypes").SlideshowTabKey,l=c("XUIPageNavigation.react").Group,m=c("XUIPageNavigation.react").Item;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(o){"use strict";__p&&__p();j.constructor.call(this,o);this.$SlideshowTabBar1=function(p){var q;if(p!==k.FRAMES_TAB)this.setState({showFramesTabNux:false});else if(p!==k.MUSIC_TAB)this.setState({showMusicTabNux:false});for(var r=arguments.length,s=Array(r>1?r-1:0),t=1;t<r;t++)s[t-1]=arguments[t];(q=this.props).onSelect.apply(q,[p].concat(s))}.bind(this);this.$SlideshowTabBar3=function(p,q){return c("React").createElement(m,{key:p,ref:q},c("SlideshowFbtUtils").getTabNameFbtString(p))};this.state={showFramesTabNux:!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").SLIDESHOW_FRAMES_TAB_NUX),showMusicTabNux:!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").SLIDESHOW_MUSIC_TAB_NUX)}}n.prototype.renderLayers=function(){"use strict";__p&&__p();var o=this.props.tabKeys.indexOf(k.FRAMES_TAB)!==-1,p=this.props.tabKeys.indexOf(k.MUSIC_TAB)!==-1,q=null,r=null;if(o){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").SLIDESHOW_FRAMES_TAB_NUX);q=c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"left",behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},contextRef:function(){return this.refs.framesTab}.bind(this),offsetX:14,position:"below",shown:this.state.showFramesTabNux,width:"normal",onCloseButtonClick:function(){this.setState({showFramesTabNux:false})}.bind(this)},c("SlideshowFbtUtils").getFramesTabNuxFbtString())}if(p){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").SLIDESHOW_MUSIC_TAB_NUX);r=c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"left",behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},contextRef:function(){return this.refs.musicTab}.bind(this),offsetX:14,position:"below",shown:this.state.showMusicTabNux,width:"normal",onCloseButtonClick:function(){this.setState({showMusicTabNux:false})}.bind(this)},c("SlideshowFbtUtils").getMusicTabNuxFbtString())}return c("ReactFragment").create({framesTabNUX:q,musicTabNUX:r})};n.prototype.render=function(){"use strict";return c("React").createElement(c("XUICardSection.react"),{className:"_5vx1"},c("React").createElement(c("XUIPageNavigation.react"),{activeTabKey:this.props.selected,defaultActiveTabKey:this.props.tabKeys[0],onTabClick:this.$SlideshowTabBar1},this.$SlideshowTabBar2()),this.renderLayers())};n.prototype.$SlideshowTabBar2=function(){"use strict";return c("React").createElement(l,{shouldCalculateVisibleTabs:false},this.props.tabKeys.map(function(o){switch(o){case k.FRAMES_TAB:return this.$SlideshowTabBar3(k.FRAMES_TAB,"framesTab");case k.MUSIC_TAB:return this.$SlideshowTabBar3(k.MUSIC_TAB,"musicTab");default:return this.$SlideshowTabBar3(o)}}.bind(this)))};f.exports=n}),null);
__d("SlideshowTopLeftPanelFrame.react",["cx","React","SlideshowTabBar.react","SlideshowFlowTypes","emptyFunction"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("SlideshowFlowTypes").SlideshowTabKey;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.$SlideshowTopLeftPanelFrame1=function(){var m=[k.SETTINGS_TAB,k.MUSIC_TAB];if(this.props.showFramesTab)m.push(k.FRAMES_TAB);return m};l.prototype.render=function(){var m=this.$SlideshowTopLeftPanelFrame1();return c("React").createElement("div",{className:"_3mt1"},c("React").createElement(c("SlideshowTabBar.react"),{selected:this.props.selectedTab,tabKeys:m,onSelect:this.props.onTabSelect}),c("React").createElement("div",{className:"_3mt2"},c("React").createElement("div",{className:"_3mtc"+(this.props.selectedTab===m[0]?" _3mtd":"")+(this.props.selectedTab===m[1]?" _3mte":"")+(this.props.selectedTab===m[2]?" _1ovn":"")},c("React").Children.map(this.props.children,function(n){return c("React").createElement("div",{className:"_3mtf"},n)}))))};function l(){i.apply(this,arguments)}l.defaultProps={selectedTab:k.SETTINGS_TAB,onTabSelect:c("emptyFunction")};f.exports=l}),null);
__d("SlideshowDialog.react",["cx","fbt","AdsTestIDs","LayerFadeOnHide","LeftRight.react","Link.react","React","SlideshowConstants","SlideshowFramesPanel.react","SlideshowImageUploadsContainer.react","SlideshowMusicPanel.react","SlideshowPhotoEditDialogContainer.react","SlideshowPreview.react","SlideshowPreviewConstants","SlideshowSettingsPanel.react","SlideshowTopLeftPanelFrame.react","XUIDialog.react","XUIDialogButton.react","XUIDialogBody.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=900;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;m.prototype.$SlideshowDialog1=function(){if(this.props.selectedImages.length>=c("SlideshowConstants").min_photo_num)return null;return i._({"*":"You'll need to add at least {Minimum number of images} images to create a slideshow"},[i.param("Minimum number of images",c("SlideshowConstants").min_photo_num,[0])])};m.prototype.$SlideshowDialog2=function(){return c("React").createElement(c("SlideshowSettingsPanel.react"),{durationWithTransitionInMS:this.props.durationWithTransitionInMS,format:this.props.format,selectedStorylineMood:this.props.selectedStorylineMood,storylineMoodFiles:this.props.storylineMoodFiles,transitionInMS:this.props.transitionInMS,onChangeDuration:this.props.onChangeDuration,onChangeFormat:this.props.onChangeFormat,onChangeStorylineMood:this.props.onChangeStorylineMood,onChangeTransition:this.props.onChangeTransition,onPreviewStateChange:this.props.onPreviewStateChange,warningMessage:this.props.warningMessage})};m.prototype.$SlideshowDialog3=function(){return c("React").createElement(c("SlideshowMusicPanel.react"),{audioFileUploadInfo:this.props.audioFileUploadInfo,isPreviewPlaying:this.props.isPreviewPlaying,recentlyUsedStorylineMoods:this.props.recentlyUsedStorylineMoods,selectedMusicCategory:this.props.selectedMusicCategory,selectedStorylineMood:this.props.selectedStorylineMood,storylineMoodFiles:this.props.storylineMoodFiles,targetID:this.props.targetID,onAudioFileUpload:this.props.onAudioFileUpload,onAudioFileUploadError:this.props.onAudioFileUploadError,onAudioFileUploadSuccess:this.props.onAudioFileUploadSuccess,onChangeStorylineMood:this.props.onChangeStorylineMood,onDeleteStorylineMood:this.props.onDeleteStorylineMood,onMusicCategorySelect:this.props.onMusicCategorySelect,onPreviewStateChange:this.props.onPreviewStateChange})};m.prototype.$SlideshowDialog4=function(){return c("React").createElement(c("SlideshowFramesPanel.react"),{frameImages:this.props.frameImages,onFrameImageSelected:this.props.onFrameImageSelected})};m.prototype.$SlideshowDialog5=function(){var n=this.props.frameImages&&this.props.frameImages.length>0;if(n)return c("React").createElement(c("SlideshowTopLeftPanelFrame.react"),{selectedTab:this.props.selectedTab,showFramesTab:true,onTabSelect:this.props.onTabSelect},this.$SlideshowDialog2(),this.$SlideshowDialog3(),this.$SlideshowDialog4());else return c("React").createElement(c("SlideshowTopLeftPanelFrame.react"),{selectedTab:this.props.selectedTab,showFramesTab:false,onTabSelect:this.props.onTabSelect},this.$SlideshowDialog2(),this.$SlideshowDialog3())};m.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},"data-testid":c("AdsTestIDs").SLIDE_SHOW_CREATION_DIALOG,layerHideOnBlur:false,shown:this.props.dialogShown,width:l},c("React").createElement(c("XUIDialogBody.react"),{className:"_5z0a",useCustomPadding:true},this.$SlideshowDialog5(),c("React").createElement("div",{className:"_2ldm"},c("React").createElement(c("SlideshowPreview.react"),{durationWithTransitionInMS:this.props.durationWithTransitionInMS,hidden:!this.props.showPreview,imagesAllLoaded:this.props.imagesAllLoaded,imagesCrops:this.props.imagesCrops,imagesTextoverlays:this.props.imagesTextoverlays,isPreviewPlaying:this.props.isPreviewPlaying,maxSelectedImages:this.props.maxSelectedImages,previewBoxContainerSize:c("SlideshowPreviewConstants").WWW_PREVIEW_CONTAINER_SIZE,previewBoxSize:c("SlideshowPreviewConstants").WWW_PLAYER_SIZE,selectedImages:this.props.selectedImages,showSlideshowImageCroppingEditOption:this.props.showSlideshowImageCroppingEditOption,storylineMoodIDSource:this.props.selectedStorylineMood?this.props.selectedStorylineMood.source:null,transitionInMS:this.props.transitionInMS,onPreviewStateChange:this.props.onPreviewStateChange}),this.props.children[2],this.props.children[1]),c("React").createElement(c("SlideshowImageUploadsContainer.react"),{durationWithTransitionInMS:this.props.durationWithTransitionInMS,imagesCrops:this.props.imagesCrops,imagesTextoverlays:this.props.imagesTextoverlays,maxSelectedImages:this.props.maxSelectedImages,selectedImages:this.props.selectedImages,showSlideshowImageCroppingEditOption:this.props.showSlideshowImageCroppingEditOption,showSlideshowPhotoEditButton:this.props.showSlideshowPhotoEditButton,onImageRemove:this.props.onImageRemove,onImageReorder:this.props.onImageReorder},this.props.children[0])),c("React").createElement(c("LeftRight.react"),{className:"_5z0b"},c("React").createElement("div",null,c("React").createElement(c("Link.react"),{href:"/business/learn/facebook-create-ad-slideshow-ads",target:"_blank"},i._("Guidelines")),c("React").createElement("span",{className:"_5z0c"},c("React").createElement(c("Link.react"),{href:"/help/503502689826117",target:"_blank"},i._("Help Center"))),c("React").createElement(c("Link.react"),{href:"/business/help/search/?query=slideshow",target:"_blank"},i._("FAQ"))),c("React").createElement("div",null,c("React").createElement(c("XUIDialogButton.react"),{label:i._("Cancel"),onClick:this.props.onCloseDialog}),c("React").createElement(c("XUIDialogButton.react"),{"data-hover":"tooltip","data-testid":c("AdsTestIDs").CONFIRM_CREATE_SLIDESHOW_BUTTON,"data-tooltip-content":this.$SlideshowDialog1(),"data-tooltip-position":"above",disabled:this.props.selectedImages.length<c("SlideshowConstants").min_photo_num,label:i._("Create Slideshow"),use:"confirm",onClick:this.props.onCreateSlideshow}))),c("React").createElement(c("SlideshowPhotoEditDialogContainer.react"),{format:this.props.format,photosCrops:this.props.imagesCrops,showSlideshowImageCroppingEditOption:this.props.showSlideshowImageCroppingEditOption,onSaveImageCrops:this.props.onSaveImageCrops,onSaveTextoverlay:this.props.onSaveTextoverlay}))};function m(){j.apply(this,arguments)}m.defaultProps={adgroupIDs:[]};f.exports=m}),null);
__d("SlideshowVideoUploadContainer.react",["cx","fbt","ix","React","Image.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.$SlideshowVideoUploadContainer1=function(){return i._("We're cutting your video into stills you can use in your slideshow.")};m.prototype.render=function(){return c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:"_v32 _1-2z"}),c("React").createElement(c("Image.react"),{className:"_v33",src:j("99136")}),c("React").createElement("div",{className:"_3dg5"},this.$SlideshowVideoUploadContainer1(),c("React").createElement("div",{className:"_v34"},this.props.children)))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("AdsSlideshowDialogContainer.react",["cx","AdsEditInlinePostWarning.react","AdsFluxContainer","AdsImageIDClasses","AdsImageInfoStore","AdsImageLegacy","AdsSelectedImagesStore","AdsSlideshowActions","AdsSlideshowAudioStore","AdsSlideshowImageUploadsContainer.react","AdsSlideshowLoggingStore","AdsSlideshowStore","AdsSlideshowVideoPickerContainer.react","AdsSlideshowVideoUploadView.react","AdsVideoFrameImagesStore","React","SlideshowDataManager","SlideshowDialog.react","SlideshowMediaUploadContainer.react","SlideshowUtil","SlideshowVideoUploadContainer.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("AdsImageIDClasses").AdsImageID;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$AdsSlideshowDialogContainer3=function(){var r=this.props,s=r.accountID,t=r.adgroupIDs,u=r.slideshowUploader,v=this.state,w=v.durationWithTransitionInMS,x=v.imagesCrops,y=v.imagesTextoverlays,z=v.selectedImages,A=v.selectedStorylineMood,B=v.transitionInMS;c("AdsSlideshowActions").createSlideshow({accountID:s,adgroupIDs:t,imagesCrops:x,imagesTextoverlays:y,length:c("SlideshowUtil").getTotalLengthInSec(w,z.length),selectedImages:z.map(function(C){return new(c("AdsImageLegacy"))(C)}),storylineMoodID:A?A.moodID:null,videoUploader:u,transitionInMS:B})}.bind(this),this.$AdsSlideshowDialogContainer8=function(r){var s=this.state.selectedImages;s.push({url:r.uri,width:r.width,height:r.height,isLoading:true,key:r.id});c("AdsSlideshowActions").selectImagesConfirm(s)}.bind(this),n}l.getStores=function(){return[c("AdsImageInfoStore"),c("AdsSelectedImagesStore"),c("AdsSlideshowAudioStore"),c("AdsSlideshowStore"),c("AdsSlideshowLoggingStore"),c("AdsVideoFrameImagesStore")]};l.calculateState=function(m,n){__p&&__p();var o=true,p=c("AdsSelectedImagesStore").getSelectedImages().map(function(u,v){var w=u.stockImageID?k.fromShutterstockID(u.stockImageID):k.fromExternalURL(u.url),x=c("AdsImageInfoStore").getFullSize(w),y=!x.hasValue();if(y)o=false;u.isLoading=y;return u}),q=[];p.forEach(function(u){var v=n.libraryImages.find(function(w){return!u.isLoading&&new(c("AdsImageLegacy"))(w).equals(new(c("AdsImageLegacy"))(u))});if(!v&&!u.isLoading)q.push(u)});var r=q.concat(n.libraryImages),s=c("AdsVideoFrameImagesStore").getVideoFrameImages(),t=c("AdsVideoFrameImagesStore").isFetchingFrameImages();return{audioFileUploadInfo:c("AdsSlideshowAudioStore").getAudioFileUploadInfo(),durationWithTransitionInMS:c("AdsSlideshowStore").getDurationInMS(),format:c("AdsSlideshowStore").getFormat(),frameImages:s,imageDialogShown:c("AdsSlideshowStore").shouldShowImageDialog(),imagesAllLoaded:o,imagesCrops:c("AdsSelectedImagesStore").getImagesCrops(),imagesTextoverlays:c("AdsSelectedImagesStore").getImagesTextoverlays(),isFetchingFrameImages:t,isPreviewPlaying:c("AdsSlideshowAudioStore").getIsPreviewPlaying(),libraryImages:r,processing:c("AdsSlideshowStore").isProcessing(n.entrypoint),recentlyUsedStorylineMoods:c("AdsSlideshowAudioStore").getRecentlyUsedStorylineMoods(),selectedImages:p,selectedMusicCategory:c("AdsSlideshowAudioStore").getSelectedMusicCategory(),selectedStorylineMood:c("AdsSlideshowAudioStore").getSelectedStorylineMood(),selectedTab:c("AdsSlideshowStore").getSelectedTab(),showPreview:p.length>0,storylineMoodFiles:c("AdsSlideshowAudioStore").getStorylineMoodFiles(),transitionInMS:c("AdsSlideshowStore").getTransitionInMS(),videoFrameImagesError:c("AdsVideoFrameImagesStore").getVideoFrameImagesError()}};l.prototype.componentDidMount=function(){c("SlideshowDataManager").fetchStorylineMoodFiles(function(m){c("AdsSlideshowActions").setStorylineMoodFiles(m)},this.props.accountID)};l.prototype.$AdsSlideshowDialogContainer1=function(event){c("AdsSlideshowActions").changeDuration(event.value)};l.prototype.$AdsSlideshowDialogContainer2=function(event){c("AdsSlideshowActions").changeFormat(event.value)};l.prototype.$AdsSlideshowDialogContainer4=function(m){return c("React").createElement(c("AdsSlideshowImageUploadsContainer.react"),{accountID:this.props.accountID,disabled:this.state.isFetchingFrameImages,imageDialogShown:this.state.imageDialogShown,imageUploadButtonType:m,libraryImages:this.state.libraryImages,maxSelectedImages:this.props.maxSelectedImages,pageID:this.props.pageID,selectedImages:this.state.selectedImages,onImageDialogClose:c("AdsSlideshowActions").closeImageDialog,onImageDialogShown:c("AdsSlideshowActions").showImageDialog,onSelectImagesConfirm:this.$AdsSlideshowDialogContainer5})};l.prototype.$AdsSlideshowDialogContainer6=function(){return c("React").createElement(c("AdsSlideshowVideoPickerContainer.react"),{accountID:this.props.accountID})};l.prototype.$AdsSlideshowDialogContainer7=function(){return c("React").createElement(c("AdsEditInlinePostWarning.react"),{className:"_1be0",message:this.props.adEditWarningMessage})};l.prototype.$AdsSlideshowDialogContainer5=function(m){c("AdsSlideshowActions").selectImagesConfirm(m)};l.prototype.render=function(){return c("React").createElement(c("SlideshowDialog.react"),{audioFileUploadInfo:this.state.audioFileUploadInfo,dialogShown:this.props.dialogShown,durationWithTransitionInMS:this.state.durationWithTransitionInMS,format:this.state.format,frameImages:this.state.frameImages,imagesAllLoaded:this.state.imagesAllLoaded,imagesCrops:this.state.imagesCrops,imagesTextoverlays:this.state.imagesTextoverlays,isPreviewPlaying:this.state.isPreviewPlaying,maxSelectedImages:this.props.maxSelectedImages,recentlyUsedStorylineMoods:this.state.recentlyUsedStorylineMoods,selectedImages:this.state.selectedImages,selectedMusicCategory:this.state.selectedMusicCategory,selectedStorylineMood:this.state.selectedStorylineMood,selectedTab:this.state.selectedTab,showPreview:this.state.showPreview,showSlideshowImageCroppingEditOption:false,showSlideshowPhotoEditButton:true,storylineMoodFiles:this.state.storylineMoodFiles,targetID:this.props.accountID,transitionInMS:this.state.transitionInMS,warningMessage:this.$AdsSlideshowDialogContainer7(),onAudioFileUpload:c("AdsSlideshowActions").audioFileUploadStarted,onAudioFileUploadError:c("AdsSlideshowActions").audioFileUploadError,onAudioFileUploadSuccess:c("AdsSlideshowActions").audioFileUploadSuccess,onChangeDuration:this.$AdsSlideshowDialogContainer1,onChangeFormat:this.$AdsSlideshowDialogContainer2,onChangeStorylineMood:c("AdsSlideshowActions").changeStorylineMoodFile,onChangeTransition:c("AdsSlideshowActions").changeTransition,onCloseDialog:this.props.onCloseDialog,onCreateSlideshow:this.$AdsSlideshowDialogContainer3,onDeleteStorylineMood:c("AdsSlideshowActions").deleteStorylineMoodFile,onFrameImageSelected:this.$AdsSlideshowDialogContainer8,onImageRemove:c("AdsSlideshowActions").removeImage,onImageReorder:c("AdsSlideshowActions").reorderImages,onMusicCategorySelect:c("AdsSlideshowActions").musicCategorySelect,onPreviewStateChange:c("AdsSlideshowActions").previewStateChange,onSaveImageCrops:c("AdsSlideshowActions").saveImageCrops,onSaveTextoverlay:c("AdsSlideshowActions").saveTextoverlay,onTabSelect:c("AdsSlideshowActions").selectTab},this.$AdsSlideshowDialogContainer4("more_link"),c("React").createElement(c("SlideshowMediaUploadContainer.react"),{errorMessage:this.state.videoFrameImagesError,hidden:this.state.showPreview||this.state.isFetchingFrameImages,showVideoButton:true},this.$AdsSlideshowDialogContainer4("add_button"),this.$AdsSlideshowDialogContainer6()),c("React").createElement(c("SlideshowVideoUploadContainer.react"),{hidden:this.state.showPreview||!this.state.isFetchingFrameImages},c("React").createElement(c("AdsSlideshowVideoUploadView.react"),null)))};f.exports=c("AdsFluxContainer").create(l,{withProps:true,name:f.id})}),null);
__d("SlideshowAnimotoDialog.react",["React","XUIDialog.react","XUIDialogBody.react","SlideshowMaker","DOM","ge"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=900;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.componentDidUpdate=function(l){if(l.showAnimotoDialog===this.props.showAnimotoDialog)return;if(this.props.showAnimotoDialog)new(c("SlideshowMaker"))({id:"animoto_container",onFinalize:this.props.onFinalize,onRenderComplete:this.props.onRenderComplete,onRenderError:this.props.onRenderError,onIframeClose:this.props.onIframeClose});else{var m=c("ge")("animoto_container");if(m!==null)c("DOM").empty(m)}};k.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{layerHideOnBlur:false,shown:this.props.showAnimotoDialog,width:j},c("React").createElement(c("XUIDialogBody.react"),{id:"animoto_container",style:{height:"674px",width:"900px"},useCustomPadding:true}))};function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("SlideshowThirdPartyCancelDialog.react",["cx","fbt","ix","CenteredContainer.react","Image.react","InlineBlock.react","React","SlideshowThirdPartyEvents","SlideshowThirdPartyTypedLogger","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogHeader.react","XUIDialogHeaderTitle.react","XUIGrayText.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=700;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$SlideshowThirdPartyCancelDialog1=function(t){if(!t)this.props.onCancel()}.bind(this),this.$SlideshowThirdPartyCancelDialog2=function(){if(this.props.slideshowDialogToShowFromQE==="shakr")new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_SHAKR_USE_ORIGINAL_SLIDESHOW).log();else if(this.props.slideshowDialogToShowFromQE==="animoto")new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_ANIMOTO_USE_ORIGINAL_SLIDESHOW).log();this.props.onShowBasicSlideshow()}.bind(this),p}n.prototype.$SlideshowThirdPartyCancelDialog3=function(){return c("React").createElement(c("XUIDialogHeader.react"),null,c("React").createElement(c("XUIDialogHeaderTitle.react"),null,i._("Cancel Slideshow")))};n.prototype.$SlideshowThirdPartyCancelDialog4=function(){return c("React").createElement(c("XUIDialogBody.react"),{style:{height:"350px"}},c("React").createElement(c("CenteredContainer.react"),null,c("React").createElement(c("Image.react"),{className:"_v33",src:j("99135")}),c("React").createElement(c("XUIText.react"),{className:"_2pif _2pim",display:"block",weight:"bold"},i._("Looking for the regular slideshow tool?")),c("React").createElement(c("XUIGrayText.react"),{display:"block"},i._("Create a new basic slideshow using images and text.")),c("React").createElement(c("XUIGrayText.react"),{display:"block"},i._("Any work that has been started will not be saved.")),this.$SlideshowThirdPartyCancelDialog5()))};n.prototype.$SlideshowThirdPartyCancelDialog5=function(){var o=i._("Exit Slideshow Tool"),p=i._("Use Basic Slideshow Tool");return c("React").createElement(c("InlineBlock.react"),{className:"_3-8-"},c("React").createElement(c("XUIButton.react"),{label:o,size:"xlarge",use:"default",onClick:this.props.onCancel}),c("React").createElement(c("XUIButton.react"),{label:p,size:"xlarge",use:"confirm",onClick:this.$SlideshowThirdPartyCancelDialog2}))};n.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{layerHideOnBlur:false,shown:this.props.showCancelDialog,width:m,onToggle:this.$SlideshowThirdPartyCancelDialog1},this.$SlideshowThirdPartyCancelDialog3(),this.$SlideshowThirdPartyCancelDialog4())};f.exports=n}),null);
__d("AdsCreateVideoButton.react",["cx","fbt","invariant","AdsApplicationIDs","AdsSlideshowDialogContainer.react","AdsTestIDs","CenteredContainer.react","ContextualLayerUpdateOnScroll","Link.react","React","ReactFragment","SimpleNUXMessage","SimpleNUXMessageTypes","SlideshowAnimotoDialog.react","SlideshowConstants","SlideshowThirdPartyCancelDialog.react","WebApiApplication","XUIAmbientNUX.react","XUIButton.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("SimpleNUXMessageTypes").CREATE_SLIDESHOW_ADS_NUX;k=babelHelpers.inherits(n,c("React").PureComponent);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={shouldShowNux:this.props.type==="button"&&!c("SimpleNUXMessage").hasUserSeenMessage(m)&&c("WebApiApplication").getClientID()!==c("AdsApplicationIDs").ADS_POWER_EDITOR},this.$AdsCreateVideoButton1=function(){c("SimpleNUXMessage").markMessageSeenByUser(m);this.setState({shouldShowNux:false})}.bind(this),p}n.prototype.render=function(){switch(this.props.type){case"button":return c("React").createElement("span",null,c("React").createElement(c("XUIButton.react"),{className:this.props.className,"data-testid":c("AdsTestIDs").OPEN_SLIDE_SHOW_BUTTON,disabled:this.props.disabled||this.props.isFetchingShakrAccessToken,label:this.props.buttonName,ref:"button",size:this.props.size,onClick:this.props.onShowDialog}),this.renderLayers(),c("React").createElement(c("SlideshowThirdPartyCancelDialog.react"),{showCancelDialog:this.props.showSlideshowThirdPartyCancelDialog,slideshowDialogToShowFromQE:this.props.slideshowDialogToShowFromQE,onCancel:this.props.onSlideshowThirdPartyCancel,onShowBasicSlideshow:this.props.onShowBasicSlideshowDialog}),c("React").createElement(c("SlideshowAnimotoDialog.react"),{showAnimotoDialog:this.props.showSlideshowAnimotoDialog,onFinalize:this.props.onSlideshowAnimotoFinalize,onIframeClose:this.props.onSlideshowAnimotoIframeClose,onRenderComplete:this.props.onSlideshowAnimotoRenderComplete,onRenderError:this.props.onSlideshowAnimotoRenderError}));case"box":return c("React").createElement("span",null,c("React").createElement(c("Link.react"),{className:this.props.className,onClick:this.props.onShowDialog},c("React").createElement(c("CenteredContainer.react"),{className:"_2rd9",vertical:true},c("React").createElement("div",{className:"_2npx"}))));default:j(0)}};n.prototype.renderLayers=function(){var o=null;if(this.props.dialogShown)o=c("React").createElement(c("AdsSlideshowDialogContainer.react"),{accountID:this.props.accountID,adEditWarningMessage:this.props.adEditWarningMessage,adgroupIDs:this.props.adgroupIDs,dialogShown:this.props.dialogShown,entrypoint:this.props.entrypoint,libraryImages:this.props.libraryImages,maxSelectedImages:this.props.maxSelectedImages,pageID:this.props.pageID,slideshowUploader:this.props.slideshowUploader,onCloseDialog:this.props.onCloseDialog});var p=this.props.type==="button"?c("React").createElement(c("XUIAmbientNUX.react"),{behaviors:{ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll")},contextRef:function(){return this.refs.button}.bind(this),position:"right",shown:this.state.shouldShowNux,onCloseButtonClick:this.$AdsCreateVideoButton1},i._({"*":{"*":"Use {Minimum number of images} - {Maximum number of images} images to create a slideshow video for your ad"}},[i.param("Minimum number of images",c("SlideshowConstants").min_photo_num,[0]),i.param("Maximum number of images",c("SlideshowConstants").max_photo_num,[0])])):null;return c("ReactFragment").create({buttonNux:p,dialog:o})};f.exports=n}),null);
__d("AdsSlideshowExperimentStoreUtils",["AdsQEStore","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(k){var l=c("AdsQEStore").get("ads_slideshow_thirdparty_dialog",k),m=void 0;if(l&&l.isDone()&&l.hasValue())m=l.getValueEnforcing().getParam("show_dialog",m);if(!m)m="default";return m}function i(){return c("gkx")("AT65hNb0fTbQIEoezncDQEVAWkMnInbYjJq9lt_-40py5vx3Iko8y949070v5iifXf95txTI4Jfv35qEX0zxzOZh")}var j={getSlideshowDialogInThirdPartyExperiment:h,shouldShowSlideshowAdvancedOption:i};f.exports=j}),null);
__d("AdsSlideshowUploader",["invariant","AdsAccountCapabilities","AdsAccountUtils","AdsGraphAPI","AdsSelectedAccountGetter","AdsSlideshowActions","AdsSlideshowStore","AdsVideoEncodingAsyncNotifier","AdsVideoUploadUtil","ApiClient","CurrentLocale","SlideshowThirdPartyEvents","SlideshowThirdPartyTypedLogger","SlideshowUtil","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(k){return k>=200&&k<=299}function j(){this.$AdsSlideshowUploader4=function(k){var l=this.$AdsSlideshowUploader1?this.$AdsSlideshowUploader1.responseText:"Slideshow upload error "+k.type+": No request";this.__handleUploadFailure(new Error(l))}.bind(this)}j.prototype.__handleEncodingSuccess=function(k,l){c("abstractMethod")("AdsSlideshowUploader","__handleEncodingSuccess")};j.prototype.__handleUploadFailure=function(k){c("abstractMethod")("AdsSlideshowUploader","__handleUploadFailure")};j.prototype.upload=function(k,l,m,n,o,p,q){__p&&__p();var r=c("SlideshowUtil").getDurationParam(l.length,m,n),s=null;if(q&&o)s=q.map(function(y,z){return c("SlideshowUtil").getTextoverlayParam(y,(o||[])[z])});var t=void 0;try{var u=c("AdsSelectedAccountGetter").get({});t=u&&c("AdsAccountUtils").hasCapability(u,c("AdsAccountCapabilities").VIDEO_ADS_SLIDESHOW_HTTPREQUEST_UPLOAD)}catch(v){t=false}if(!t){c("AdsGraphAPI").get(f.id).adaccount(k).edge("advideos").post({slideshow_spec:{duration_ms:r.durationInMS,images_urls:l,images_crops:o,transition_ms:r.transitionInMS,storyline_mood_id:p,images_textoverlays:s}}).done(function(y){return this.$AdsSlideshowUploader2(y.id,k)}.bind(this),function(y){return this.__handleUploadFailure(y)}.bind(this));return}var w=new FormData();w.append("locale",c("CurrentLocale").get());w.append("slideshow_spec",JSON.stringify({duration_ms:r.durationInMS,images_urls:l,images_crops:o,transition_ms:r.transitionInMS,storyline_mood_id:p,images_textoverlays:s}));var x=c("AdsVideoUploadUtil").getPostEndpoint(c("ApiClient").getAccessToken(),k,null);this.$AdsSlideshowUploader1=new XMLHttpRequest();this.$AdsSlideshowUploader1&&this.$AdsSlideshowUploader1.open("POST",x,true);this.$AdsSlideshowUploader1&&this.$AdsSlideshowUploader1.send(w);this.$AdsSlideshowUploader1&&this.$AdsSlideshowUploader1.addEventListener("load",this.$AdsSlideshowUploader3.bind(this,k));this.$AdsSlideshowUploader1&&this.$AdsSlideshowUploader1.addEventListener("error",this.$AdsSlideshowUploader4)};j.prototype.uploadThirdPartySlideshow=function(k,l,m){c("AdsGraphAPI").get(f.id).adaccount(k).edge("advideos").post({file_url:l,container_type:m,creator_product:"SLIDESHOW"}).done(function(n){return this.$AdsSlideshowUploader2(n.id,k,m)}.bind(this),function(n){return this.__handleUploadFailure(n)}.bind(this))};j.prototype.abort=function(){this.$AdsSlideshowUploader5();this.$AdsSlideshowUploader1&&this.$AdsSlideshowUploader1.abort();this.$AdsSlideshowUploader1=null};j.prototype.$AdsSlideshowUploader5=function(){this.$AdsSlideshowUploader1&&this.$AdsSlideshowUploader1.removeEventListener("load",this.$AdsSlideshowUploader3.bind(this,null));this.$AdsSlideshowUploader1&&this.$AdsSlideshowUploader1.removeEventListener("error",this.$AdsSlideshowUploader4)};j.prototype.$AdsSlideshowUploader3=function(k,l){__p&&__p();var m=this.$AdsSlideshowUploader1&&this.$AdsSlideshowUploader1.responseText?JSON.parse(this.$AdsSlideshowUploader1.responseText).id:null;if(this.$AdsSlideshowUploader1&&!i(this.$AdsSlideshowUploader1.status)){this.__handleUploadFailure(new Error(this.$AdsSlideshowUploader1.responseText));return}!!m||h(0);c("AdsSlideshowActions").setSelectedVideoID(m);var n=new(c("AdsVideoEncodingAsyncNotifier"))(m);n.setOnStatusUpdateListener(function(){if(c("AdsSlideshowStore").getCancelledVideoIDs().has(m))return;this.$AdsSlideshowUploader6()}.bind(this));n.setOnFailedListener(function(o){if(c("AdsSlideshowStore").getCancelledVideoIDs().has(m)){c("AdsSlideshowActions").removeCancelledSlideshowUpload(m);return}this.__handleUploadFailure(o)}.bind(this));n.setOnSuccessListener(function(o){if(c("AdsSlideshowStore").getCancelledVideoIDs().has(m)){c("AdsSlideshowActions").removeCancelledSlideshowUpload(m);return}!!k||h(0);this.__handleEncodingSuccess(o,k)}.bind(this));n.start()};j.prototype.$AdsSlideshowUploader2=function(k,l,m){__p&&__p();var n=new(c("AdsVideoEncodingAsyncNotifier"))(k);n.setOnStatusUpdateListener(function(){return this.$AdsSlideshowUploader6()}.bind(this));n.setOnFailedListener(function(o){this.$AdsSlideshowUploader7(m,k,false);this.__handleUploadFailure(o)}.bind(this));n.setOnSuccessListener(function(o){this.$AdsSlideshowUploader7(m,k,true);this.__handleEncodingSuccess(o,l)}.bind(this));n.start()};j.prototype.$AdsSlideshowUploader7=function(k,l,i){if(k){var m=void 0;if(k==="SLIDESHOW_SHAKR")m=i?c("SlideshowThirdPartyEvents").SLIDESHOW_SHAKR_VIDEO_ENCODING_COMPLETED:c("SlideshowThirdPartyEvents").SLIDESHOW_SHAKR_VIDEO_ENCODING_FAILED;else if(k==="SLIDESHOW_ANIMOTO")m=i?c("SlideshowThirdPartyEvents").SLIDESHOW_ANIMOTO_VIDEO_ENCODING_COMPLETED:c("SlideshowThirdPartyEvents").SLIDESHOW_ANIMOTO_VIDEO_ENCODING_FAILED;if(m)new(c("SlideshowThirdPartyTypedLogger"))().setEvent(m).setVideoID(l).log()}};j.prototype.$AdsSlideshowUploader6=function(){};f.exports=j}),null);
__d("AdsCreateVideoButtonContainer.react",["fbt","AdsCreateVideoButton.react","AdsImageListStore","AdsImageListStoreRecord","AdsImageStore","AdsLoadStateUtils_LEGACY","AdsSlideshowActions","AdsSlideshowExperimentStoreUtils","AdsSlideshowLoggingStore","AdsSlideshowStore","AdsSlideshowUploader","AdsVideoFrameImagesStore","FluxMixinLegacy","React","ReactComponentWithPureRenderMixin","SlideshowEntrypoint"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").PropTypes,j=c("React").createClass({displayName:"AdsCreateVideoButtonContainer",mixins:[c("ReactComponentWithPureRenderMixin"),c("FluxMixinLegacy")([c("AdsImageListStore"),c("AdsImageStore"),c("AdsSlideshowLoggingStore"),c("AdsSlideshowStore"),c("AdsVideoFrameImagesStore")],{withProps:true})],propTypes:{accountID:i.string.isRequired,adEditWarningMessage:i.node,adgroupIDs:i.arrayOf(i.string),buttonName:i.string.isRequired,className:i.string,disabled:i.bool.isRequired,entrypoint:i.oneOf(Object.values(c("SlideshowEntrypoint"))).isRequired,maxSelectedImages:i.number.isRequired,pageID:i.string,size:i.oneOf(["medium","large","xlarge"]).isRequired,slideshowUploader:i.instanceOf(c("AdsSlideshowUploader")).isRequired,type:i.oneOf(["button","box"]).isRequired,onCloseDialog:i.func,onShowDialog:i.func},getDefaultProps:function k(){return{buttonName:h._("Create Slideshow"),disabled:false,size:"xlarge",type:"button"}},statics:{calculateState:function k(l,m){var n=m.accountID,o=new(c("AdsImageListStoreRecord"))({accountID:n}),p=c("AdsImageListStore").get(o),q=p.getValue()||{},r=q.imageList||[],s=c("AdsImageStore").getAllFor(n,r),t=c("AdsLoadStateUtils_LEGACY").getLoadedValues(s),u=c("AdsSlideshowStore").shouldShowSlideshowDialog(),v=c("AdsSlideshowExperimentStoreUtils").getSlideshowDialogInThirdPartyExperiment(n),w=c("AdsSlideshowStore").shouldShowSlideshowThirdPartyCancelDialog(),x=c("AdsSlideshowStore").shouldShowSlideshowAnimotoDialog(),y=c("AdsSlideshowStore").isFetchingShakrAccessToken();return{dialogShown:u,imageList:t,isFetchingShakrAccessToken:y,slideshowDialogToShowFromQE:v,showSlideshowThirdPartyCancelDialog:w,showSlideshowAnimotoDialog:x}}},componentDidMount:function k(){c("AdsSlideshowActions").setEntrypoint(this.props.entrypoint)},_onShowSlideshowDialog:function k(){c("AdsSlideshowActions").showSlideshowDialogByQE(this.state.slideshowDialogToShowFromQE,this.props.entrypoint,this.props.slideshowUploader,this.props.adgroupIDs)},render:function k(){return c("React").createElement(c("AdsCreateVideoButton.react"),{accountID:this.props.accountID,adEditWarningMessage:this.props.adEditWarningMessage,adgroupIDs:this.props.adgroupIDs,buttonName:this.props.buttonName,className:this.props.className,dialogShown:this.state.dialogShown,disabled:this.props.disabled,entrypoint:this.props.entrypoint,isFetchingShakrAccessToken:this.state.isFetchingShakrAccessToken,libraryImages:this.state.imageList,maxSelectedImages:this.props.maxSelectedImages,pageID:this.props.pageID,showSlideshowAnimotoDialog:this.state.showSlideshowAnimotoDialog,showSlideshowThirdPartyCancelDialog:this.state.showSlideshowThirdPartyCancelDialog,size:this.props.size,slideshowDialogToShowFromQE:this.state.slideshowDialogToShowFromQE,slideshowUploader:this.props.slideshowUploader,type:this.props.type,onCloseDialog:this.props.onCloseDialog?this.props.onCloseDialog:c("AdsSlideshowActions").closeSlideshowDialog,onConfirm:c("AdsSlideshowActions").selectImagesConfirm,onShowBasicSlideshowDialog:c("AdsSlideshowActions").showSlideshowDialog,onShowDialog:this.props.onShowDialog?this.props.onShowDialog:this._onShowSlideshowDialog,onSlideshowAnimotoFinalize:c("AdsSlideshowActions").animotoFinalize,onSlideshowAnimotoIframeClose:c("AdsSlideshowActions").hideAnimotoDialog,onSlideshowAnimotoRenderComplete:c("AdsSlideshowActions").animotoRenderComplete,onSlideshowAnimotoRenderError:c("AdsSlideshowActions").animotoRenderError,onSlideshowThirdPartyCancel:c("AdsSlideshowActions").closeThirdPartySlideshowCancelDialog})}});f.exports=j}),null);
__d("fakeProgress",["DateConsts"],(function a(b,c,d,e,f,g){__p&&__p();var h=.98,i=150,j=500;function k(l,m){__p&&__p();var n=void 0,o=0;function p(){var s=1-Math.exp(-o/(2*l*c("DateConsts").MS_PER_SEC));s*=h;m(s,o);q()}function q(){var s=Math.random()*(j-i)+i;o+=s;n=window.setTimeout(p,s)}function r(){window.clearTimeout(n)}q();return{stop:r}}f.exports=k}),null);
__d("AbstractFakeProgressBar.react",["React","fakeProgress"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){__p&&__p();var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={active:false,fakeProgressToken:null,value:0},this.updateValue=function(q){this.setState({value:q})}.bind(this),this.start=function(){if(this.state.active)return;this.setState({value:0,active:true,fakeProgressToken:c("fakeProgress")(this.props.expectedTime,this.updateValue)})}.bind(this),this.stop=function(){if(this.state.fakeProgressToken)this.state.fakeProgressToken.stop();this.setState({active:false,fakeProgressToken:null})}.bind(this),this.stopAndReset=function(){this.stop();this.setState({value:0})}.bind(this),m}k.prototype.componentDidMount=function(){if(this.props.autostart)this.start()};k.prototype.componentWillUnmount=function(){if(this.state.fakeProgressToken)this.state.fakeProgressToken.stop()};k.prototype.render=function(){return this.props.progressBarRenderer(this.state.value)};k.propTypes={autostart:j.bool.isRequired,expectedTime:j.number.isRequired,progressBarRenderer:j.func.isRequired};k.defaultProps={expectedTime:3,autostart:true};f.exports=k}),null);
__d("AdsFakeProgressBar.react",["AbstractFakeProgressBar.react","AdsXUIProgressBar.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$AdsFakeProgressBar1=function(q){return c("React").createElement(c("AdsXUIProgressBar.react"),babelHelpers["extends"]({},this.props,{value:q*100}))}.bind(this),m}k.prototype.render=function(){return c("React").createElement(c("AbstractFakeProgressBar.react"),{autostart:this.props.autostart,expectedTime:this.props.expectedTime,progressBarRenderer:this.$AdsFakeProgressBar1})};k.propTypes={autostart:j.bool,expectedTime:j.number};f.exports=k}),null);
__d("AdsBidInfoWeights",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({API_ACTIONS:"ACTIONS",API_CLICKS:"CLICKS",API_IMPRESSIONS:"IMPRESSIONS",API_REACH:"REACH",API_SOCIAL:"SOCIAL"});f.exports=h}),null);
__d("AdsBidTypes",["AdsAPIBidType"],(function a(b,c,d,e,f,g){__p&&__p();var h={BID_TYPE_CPC:1,BID_TYPE_CPM:2,BID_TYPE_FCPM:4,BID_TYPE_MULTI_PREMIUM:5,BID_TYPE_MULTI_RELATIVE:6,BID_TYPE_MULTI_ABSOLUTE:7,BID_TYPE_CPM_RTB:8,BID_TYPE_CPA:9},i={};i[h.BID_TYPE_CPC]=c("AdsAPIBidType").CPC;i[h.BID_TYPE_CPM]=c("AdsAPIBidType").CPM;i[h.BID_TYPE_FCPM]=c("AdsAPIBidType").FIXED_CPM;i[h.BID_TYPE_MULTI_PREMIUM]=c("AdsAPIBidType").MULTI_PREMIUM;i[h.BID_TYPE_MULTI_RELATIVE]=c("AdsAPIBidType").RELATIVE_OCPM;i[h.BID_TYPE_MULTI_ABSOLUTE]=c("AdsAPIBidType").ABSOLUTE_OCPM;i[h.BID_TYPE_CPM_RTB]=c("AdsAPIBidType").RTB;i[h.BID_TYPE_CPA]=c("AdsAPIBidType").CPA;var j={};for(var k in i)j[i[k]]=k;h.MIGRATION_MAP=i;h.REVERSE_MIGRATION_MAP=j;f.exports=h}),null);
__d("AdsOptimizationGoalStrings",["fbt","AdsAccountCapabilities","AdsAccountUtils","AdsAPIObjectives","AdsAPIOptimizationGoals","AdsDeliveryOptimizationGoalDescriptionStrings","AdsDeliveryOptimizationGoalTitleStrings","AdsPromotedObjectAppUtils","AdsPromotedObjectTypes","AdsSelectedAccountGetter","immutable","OffsiteCustomEventType","gkx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=h._("Link Clicks - Legacy"),j=h._("Clicks on Your Ad"),k=h._("We''ll deliver your ads to the right people to help you get the most clicks from your ad to your app at the lowest cost."),l=h._("We'll deliver your ads to the right people to help you get the most link clicks from your ad to a destination, on or off Facebook, at the lowest cost."),m=h._("Link Clicks"),n=h._("We'll deliver your ads to people who are more likely to click the offsite link in your ad."),o=m,p=h._("We'll deliver your ads to the right people to help you get the most website conversions."),q=h._("Conversions"),r=h._("We'll deliver your ads to the people who are most likely to take a specific action at least once."),s=h._("App Events"),t=h._("We'll deliver your ads to people more likely to take action when they see a product from your catalog."),u=h._("Conversion Events"),v=h._("We'll deliver your ads to people who are more likely to complete an event via your ad."),w=q,x=h._("We'll serve your ads to the maximum number of people."),y=h._("Reach"),z=h._("10-Second Video Views"),A=c("immutable").Map([[c("AdsAPIOptimizationGoals").AD_RECALL_LIFT,h._("Let Facebook set the bid that helps you get the most people who will remember seeing your ads at the best price.")],[c("AdsAPIOptimizationGoals").APP_INSTALLS,h._("Let Facebook set the bid that helps you get the most app installs at the best price.")],[c("AdsAPIOptimizationGoals").BRAND_AWARENESS,h._("Let Facebook set the bid that helps you get the most brand awareness at the best price.")],[c("AdsAPIOptimizationGoals").EVENT_RESPONSES,h._("Let Facebook set the bid that helps you get the most event interest at the best price.")],[c("AdsAPIOptimizationGoals").IMPRESSIONS,h._("Let Facebook set the bid that helps you get the most impressions at the best price.")],[c("AdsAPIOptimizationGoals").LINK_CLICKS,h._("Let Facebook set the bid that helps you get the most link clicks at the best price.")],[c("AdsAPIOptimizationGoals").OFFER_CLAIMS,h._("We'll deliver your ads to the right people to help you get the most offer claims at the lowest cost.")],[c("AdsAPIOptimizationGoals").PAGE_LIKES,h._("Let Facebook set the bid that helps you get the most Page likes at the best price.")],[c("AdsAPIOptimizationGoals").POST_ENGAGEMENT,h._("Let Facebook set the bid that helps you get the most post engagements at the best price.")],[c("AdsAPIOptimizationGoals").REACH,h._("Let Facebook set the bid that helps you get the most reach at the best price.")],[c("AdsAPIOptimizationGoals").VIDEO_VIEWS,h._("Let Facebook set the bid that helps you get the most video views at the best price.")]]),B=c("immutable").Map([[c("OffsiteCustomEventType").ADD_TO_CART,h._("Let Facebook set the bid that helps you get the most add to carts at the best price.")],[c("OffsiteCustomEventType").COMPLETE_REGISTRATION,h._("Let Facebook set the bid that helps you get the most complete registrations at the best price.")],[c("OffsiteCustomEventType").PURCHASE,h._("Let Facebook set the bid that helps you get the most purchases at the best price.")],[c("OffsiteCustomEventType").INITIATED_CHECKOUT,h._("Let Facebook set the bid that helps you get the most initiated checkouts at the best price.")],[c("OffsiteCustomEventType").SEARCH,h._("Let Facebook set the bid that helps you get the most searches at the best price.")]]),C=h._("Let Facebook set the bid that helps you get the most results at the best price."),D=h._("Let Facebook set the bid that helps you get the most conversions at the best price."),E=h._("1,000 impressions"),F=c("immutable").Map([[c("OffsiteCustomEventType").PURCHASE,h._("purchases")],[c("OffsiteCustomEventType").ADD_TO_CART,h._("add to carts")],[c("OffsiteCustomEventType").COMPLETE_REGISTRATION,h._("complete registrations")],[c("OffsiteCustomEventType").INITIATED_CHECKOUT,h._("initiated checkouts")],[c("OffsiteCustomEventType").SEARCH,h._("searches")]]),G=c("immutable").Map([[c("AdsAPIOptimizationGoals").APP_INSTALLS,h._("app installs")],[c("AdsAPIOptimizationGoals").BRAND_AWARENESS,E],[c("AdsAPIOptimizationGoals").CLICKS,h._("clicks")],[c("AdsAPIOptimizationGoals").EVENT_RESPONSES,h._("event responses")],[c("AdsAPIOptimizationGoals").IMPRESSIONS,E],[c("AdsAPIOptimizationGoals").LANDING_PAGE_VIEWS,h._("landing page views")],[c("AdsAPIOptimizationGoals").LEAD_GENERATION,h._("leads")],[c("AdsAPIOptimizationGoals").LINK_CLICKS,h._("link clicks")],[c("AdsAPIOptimizationGoals").OFFER_CLAIMS,h._("offer claims")],[c("AdsAPIOptimizationGoals").PAGE_ENGAGEMENT,h._("Page engagements")],[c("AdsAPIOptimizationGoals").PAGE_LIKES,h._("Page likes")],[c("AdsAPIOptimizationGoals").POST_ENGAGEMENT,h._("post engagements")],[c("AdsAPIOptimizationGoals").REACH,E],[c("AdsAPIOptimizationGoals").REPLIES,h._("replies")],[c("AdsAPIOptimizationGoals").STORE_VISITS,h._("store visits")],[c("AdsAPIOptimizationGoals").VIDEO_VIEWS,h._("video views")]]),H=h._("results"),I=h._("conversions"),J=c("immutable").Map([[c("OffsiteCustomEventType").PURCHASE,h._("purchase")],[c("OffsiteCustomEventType").ADD_TO_CART,h._("add to cart")],[c("OffsiteCustomEventType").COMPLETE_REGISTRATION,h._("complete registration")],[c("OffsiteCustomEventType").INITIATED_CHECKOUT,h._("initiated checkout")],[c("OffsiteCustomEventType").SEARCH,h._("search")]]),K=c("immutable").Map([[c("AdsAPIOptimizationGoals").AD_RECALL_LIFT,E],[c("AdsAPIOptimizationGoals").APP_INSTALLS,h._("app install")],[c("AdsAPIOptimizationGoals").BRAND_AWARENESS,E],[c("AdsAPIOptimizationGoals").EVENT_RESPONSES,h._("event response")],[c("AdsAPIOptimizationGoals").IMPRESSIONS,E],[c("AdsAPIOptimizationGoals").LEAD_GENERATION,h._("lead")],[c("AdsAPIOptimizationGoals").LINK_CLICKS,h._("link click")],[c("AdsAPIOptimizationGoals").OFFER_CLAIMS,h._("offer claim")],[c("AdsAPIOptimizationGoals").PAGE_LIKES,h._("Page like")],[c("AdsAPIOptimizationGoals").POST_ENGAGEMENT,h._("post engagement")],[c("AdsAPIOptimizationGoals").REACH,E],[c("AdsAPIOptimizationGoals").REPLIES,h._("reply")],[c("AdsAPIOptimizationGoals").STORE_VISITS,h._("store visit")],[c("AdsAPIOptimizationGoals").VIDEO_VIEWS,h._("video view")]]),L=h._("result"),M=h._("conversion"),N={PURCHASE:"purchase",ADD_TO_CART:"add to cart",COMPLETE_REGISTRATION:"complete registration",INITIATED_CHECKOUT:"initiated checkout",SEARCH:"search"},O={getDescription:function P(Q,R,S){__p&&__p();switch(Q){case c("AdsAPIOptimizationGoals").CLICKS:return this._getLegacyClicksDescription(R);case c("AdsAPIOptimizationGoals").LINK_CLICKS:return this._getLinkClicksDescription(R,S);case c("AdsAPIOptimizationGoals").OFFSITE_CONVERSIONS:return this._getOffsiteConversionsDescription(R,S);case c("AdsAPIOptimizationGoals").ENGAGED_REACH:case c("AdsAPIOptimizationGoals").REACH:return this._getReachDescription(R);case c("AdsAPIOptimizationGoals").APP_INSTALLS:if(c("gkx")("AT7c9fBoorq4GXT2PhHL4157kWScP4DnWG2VL7HjxCPevTo9fImuTGieOOABkGeynpbfhALKWvRkUDFZYR340KfwmsHPvCgnhXzpaR2tGC9p4w"))return h._("We'll deliver your ads to the people most likely to install your app.");else return c("AdsDeliveryOptimizationGoalDescriptionStrings")[Q];default:if(Q in c("AdsDeliveryOptimizationGoalDescriptionStrings"))return c("AdsDeliveryOptimizationGoalDescriptionStrings")[Q];return c("AdsDeliveryOptimizationGoalDescriptionStrings")[c("AdsAPIOptimizationGoals").NONE]}},getTitle:function P(Q,R,S,T){__p&&__p();switch(Q){case c("AdsAPIOptimizationGoals").CLICKS:return this._getLegacyClicksTitle(R);case c("AdsAPIOptimizationGoals").LINK_CLICKS:return this._getLinkClicksTitle(R,S);case c("AdsAPIOptimizationGoals").OFFSITE_CONVERSIONS:return this._getOffsiteConversionsTitle(R,S);case c("AdsAPIOptimizationGoals").ENGAGED_REACH:case c("AdsAPIOptimizationGoals").REACH:return this._getReachTitle(R);case c("AdsAPIOptimizationGoals").VIDEO_VIEWS:return this._getVideoViewTitle(Q);default:var U=c("AdsDeliveryOptimizationGoalTitleStrings")[Q];if(U)return U;return Q}},getAutomaticBidString:function P(Q,R){if(Q===c("AdsAPIOptimizationGoals").OFFSITE_CONVERSIONS)return B.get(R)||D;return A.get(Q)||C},getManualBidString:function P(Q,R){var S=O.getResultTypeString(Q,"plural",R);return h._("Enter a bid based on what {result type} are worth to you.",[h.param("result type",S)])},getResultTypeString:function P(Q){var R=arguments.length<=1||arguments[1]===undefined?"singular":arguments[1],S=arguments[2];if(R==="plural"){if(Q===c("AdsAPIOptimizationGoals").OFFSITE_CONVERSIONS)return F.get(S)||I;return G.get(Q)||H}if(Q===c("AdsAPIOptimizationGoals").OFFSITE_CONVERSIONS)return J.get(S)||M;return K.get(Q)||L},getHighTargetCostDescriptionByResult:function P(Q,R){__p&&__p();if(Q===c("AdsAPIOptimizationGoals").OFFSITE_CONVERSIONS)if(R===c("OffsiteCustomEventType").PURCHASE)return h._("Your target cost is much higher than the cost per purchase you've achieved with similar ad sets.");else if(R===c("OffsiteCustomEventType").ADD_TO_CART)return h._("Your target cost is much higher than the cost per add to cart you've achieved with similar ad sets.");else if(R===c("OffsiteCustomEventType").COMPLETE_REGISTRATION)return h._("Your target cost is much higher than the cost per complete registration you've achieved with similar ad sets.");else if(R===c("OffsiteCustomEventType").INITIATED_CHECKOUT)return h._("Your target cost is much higher than the cost per initiated checkout you've achieved with similar ad sets.");else if(R===c("OffsiteCustomEventType").SEARCH)return h._("Your target cost is much higher than the cost per search you've achieved with similar ad sets.");else return h._("Your target cost is much higher than the cost per conversion you've achieved with similar ad sets.");else if(Q===c("AdsAPIOptimizationGoals").APP_INSTALLS)return h._("Your target cost is much higher than the cost per app install you've achieved with similar ad sets.");else if(Q===c("AdsAPIOptimizationGoals").LEAD_GENERATION)return h._("Your target cost is much higher than the cost per lead you've achieved with similar ad sets.");return h._("Your target cost is much higher than the cost per result you've achieved with similar ad sets.")},getLowerTargetCostOption:function P(Q,R){if(Q===c("AdsAPIOptimizationGoals").OFFSITE_CONVERSIONS){if(R&&N[R])return h._({"PURCHASE":"Set a target cost that matches what you want to pay for your purchase on average.","ADD_TO_CART":"Set a target cost that matches what you want to pay for your add to cart on average.","COMPLETE_REGISTRATION":"Set a target cost that matches what you want to pay for your complete registration on average.","INITIATED_CHECKOUT":"Set a target cost that matches what you want to pay for your initiated checkout on average.","SEARCH":"Set a target cost that matches what you want to pay for your search on average."},[h["enum"](R,{PURCHASE:"purchase",ADD_TO_CART:"add to cart",COMPLETE_REGISTRATION:"complete registration",INITIATED_CHECKOUT:"initiated checkout",SEARCH:"search"})]);return h._("Set a target cost that matches what you want to pay for your conversion on average.")}else if(Q===c("AdsAPIOptimizationGoals").APP_INSTALLS||Q===c("AdsAPIOptimizationGoals").LEAD_GENERATION)return h._({"APP_INSTALLS":"Set a target cost that matches what you want to pay for your app install on average.","LEAD_GENERATION":"Set a target cost that matches what you want to pay for your lead on average."},[h["enum"](Q,{APP_INSTALLS:"app install",LEAD_GENERATION:"lead"})]);return h._("Set a target cost that matches what you want to pay for your result on average.")},getResultsTypeStringForLearningStage:function P(Q,R){switch(Q){case c("AdsAPIOptimizationGoals").VALUE:return F.get(R)||I;case c("AdsAPIOptimizationGoals").VIDEO_VIEWS:return h._("video views (10-seconds)");case c("AdsAPIOptimizationGoals").MRC_VIDEO_VIEWS:return h._("video views (2-second continuous)");case c("AdsAPIOptimizationGoals").COMPLETED_VIDEO_VIEWS:return h._("completed video views");case c("AdsAPIOptimizationGoals").VIDEO_VIEWS_15S:return h._("video views (15-seconds)")}return O.getResultsTypeStringForSentence(Q,R)},getResultsTypeStringForSentence:function P(Q,R){switch(Q){case c("AdsAPIOptimizationGoals").BRAND_AWARENESS:case c("AdsAPIOptimizationGoals").IMPRESSIONS:case c("AdsAPIOptimizationGoals").REACH:return h._("impressions");case c("AdsAPIOptimizationGoals").VIDEO_VIEWS:return h._("video views of 10+ seconds")}return O.getResultTypeString(Q,"plural",R)},getOptimizationGoalWarningMessage:function P(Q){if(c("AdsPromotedObjectAppUtils").isAppType(Q))return h._("With this option, your ad delivery won't be optimized for app events using the app event selected above. To get the most conversions at the lowest cost, select the App Events optimization instead.");else if(Q===c("AdsPromotedObjectTypes").PIXEL)return h._("With this option, your ad delivery won't be optimized for conversions using the pixel selected above. To get the most conversions at the lowest cost, select the Conversions optimization instead.");return null},getAverageCostOptionDetails:function P(Q){return h._("Maintain a stable average cost per {result type in average cost} as you raise budget",[h.param("result type in average cost",Q)])},getOptimizedCostOptionDetails:function P(Q){return h._("Get the most {result type} for your budget",[h.param("result type",Q)])},getBidCapOptionDetails:function P(Q){return h._("Choose the maximum you want our system to bid, while getting the most {result type} for your budget",[h.param("result type",Q)])},objectiveHasRecommendedOptimizationGoal:function P(Q){return Q!==c("AdsAPIObjectives").POST_ENGAGEMENT&&Q!==c("AdsAPIObjectives").LINK_CLICKS},_getLinkClicksDescription:function P(Q,R){return l},_getLegacyClicksDescription:function P(Q){if(Q===c("AdsAPIObjectives").MOBILE_APP_ENGAGEMENT)return k;return n},_getLegacyClicksTitle:function P(Q){switch(Q){case c("AdsAPIObjectives").MOBILE_APP_ENGAGEMENT:return i;default:return j}},_getLinkClicksTitle:function P(Q,R){switch(Q){case c("AdsAPIObjectives").LINK_CLICKS:case c("AdsAPIObjectives").CONVERSIONS:return m;default:return o}},_getOffsiteConversionsDescription:function P(Q,R){switch(Q){case c("AdsAPIObjectives").LINK_CLICKS:case c("AdsAPIObjectives").CONVERSIONS:return c("AdsPromotedObjectAppUtils").isAppType(R)?r:p;case c("AdsAPIObjectives").APP_INSTALLS:case c("AdsAPIObjectives").CANVAS_APP_ENGAGEMENT:case c("AdsAPIObjectives").CANVAS_APP_INSTALLS:case c("AdsAPIObjectives").MOBILE_APP_ENGAGEMENT:case c("AdsAPIObjectives").MOBILE_APP_INSTALLS:return r;case c("AdsAPIObjectives").PRODUCT_CATALOG_SALES:return t;default:return v}},_getOffsiteConversionsTitle:function P(Q,R){switch(Q){case c("AdsAPIObjectives").LINK_CLICKS:case c("AdsAPIObjectives").CONVERSIONS:return c("AdsPromotedObjectAppUtils").isAppType(R)?s:q;case c("AdsAPIObjectives").APP_INSTALLS:case c("AdsAPIObjectives").CANVAS_APP_ENGAGEMENT:case c("AdsAPIObjectives").CANVAS_APP_INSTALLS:case c("AdsAPIObjectives").MOBILE_APP_ENGAGEMENT:case c("AdsAPIObjectives").MOBILE_APP_INSTALLS:return s;case c("AdsAPIObjectives").PRODUCT_CATALOG_SALES:return u;default:return w}},_getReachDescription:function P(Q){switch(Q){case c("AdsAPIObjectives").REACH:case c("AdsAPIObjectives").BRAND_AWARENESS:return x;default:return c("AdsDeliveryOptimizationGoalDescriptionStrings")[c("AdsAPIOptimizationGoals").REACH]}},_getReachTitle:function P(Q){switch(Q){case c("AdsAPIObjectives").REACH:case c("AdsAPIObjectives").BRAND_AWARENESS:return y;default:return c("AdsDeliveryOptimizationGoalTitleStrings")[c("AdsAPIOptimizationGoals").REACH]}},_getVideoViewTitle:function P(Q){var R=c("AdsSelectedAccountGetter").get({}),S=R&&c("AdsAccountUtils").hasCapability(R,c("AdsAccountCapabilities").MRC_VIEW_OPEN_OPTIMIZATION_GOAL_TO_OBJECTIVES);return S?z:c("AdsDeliveryOptimizationGoalTitleStrings")[Q]}};f.exports=O}),null);
__d("AdFeedbackKeys",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BANNER_CMS_ID:"banner_cms_id",BANNER_TITLE:"banner_title",MODAL_CMS_ID:"modal_cms_id",MODAL_TITLE:"modal_title",EXCEPTION_CMS_ID:"exception_cms_id",DESCRIPTION:"description",CMS_DATA:"cms_data",FEEDBACK_INFO:"feedback_info",METADATA:"metadata",IMAGE_URL_TO_PENALTY_INFO:"image_url_to_penalty_info"})}),null);
__d("IntegrityAPIConversionsConstants",["CROWAdDisapprovalReasons","Set","TextPenaltyLevel"],(function a(b,c,d,e,f,g){"use strict";var h=[c("CROWAdDisapprovalReasons").TEXT_PENALTY_HIGH,c("CROWAdDisapprovalReasons").TEXT_PENALTY_MEDIUM,c("CROWAdDisapprovalReasons").TEXT_PENALTY_LOW],i=new(c("Set"))(h),j=[c("CROWAdDisapprovalReasons").TEXT_PENALTY_HIGH,c("CROWAdDisapprovalReasons").TEXT_PENALTY_MEDIUM,c("CROWAdDisapprovalReasons").TEXT_PENALTY_LOW,c("CROWAdDisapprovalReasons").TEXT_OVERLAY],k=new(c("Set"))(j),l=new(c("Set"))([c("TextPenaltyLevel").LOW,c("TextPenaltyLevel").MEDIUM,c("TextPenaltyLevel").HIGH]),m=[c("TextPenaltyLevel").HIGH,c("TextPenaltyLevel").MEDIUM,c("TextPenaltyLevel").LOW,c("TextPenaltyLevel").NONE];f.exports={TEXT_OVERLAY_REASONS:k,TEXT_OVERLAY_REASONS_ORDERED:j,TEXT_PENALTY_LEVELS:l,TEXT_PENALTY_ORDERED:m,TEXT_PENALTY_REASONS:i,TEXT_PENALTY_REASONS_ORDERED:h}}),null);
__d("AdsReviewAPIUtils",["fbt","AdFeedbackKeys","AdsAPIAdgroupFields","AdsAPIDeliveryInfoFields","AdsError","AdsLoadState_LEGACY","BoostedComponentAppID","CROWAdDisapprovalReasons","CROWCompsType","IntegrityAPIConversionsConstants","Map","React","TextPenaltyLevel","compactArray"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("IntegrityAPIConversionsConstants").TEXT_PENALTY_ORDERED,j=c("IntegrityAPIConversionsConstants").TEXT_PENALTY_REASONS,k=c("IntegrityAPIConversionsConstants").TEXT_OVERLAY_REASONS,l={getCMSContentAndStatusForTextOverlay:function m(n,o){var p=new(c("Map"))(),q=c("AdsLoadState_LEGACY").LOADED,r=c("compactArray")(n);p=o.getAll(r);q=l.getLoadState(p);return[p,q]},getDataForTextOverlayViolationBanner:function m(n){return[this._getDataForTextOverlayViolation(n,c("AdFeedbackKeys").BANNER_TITLE),this._getDataForTextOverlayViolation(n,c("AdFeedbackKeys").BANNER_CMS_ID),this._getDataForTextOverlayViolation(n,c("AdFeedbackKeys").EXCEPTION_CMS_ID)]},getDataForTextOverlayViolationModal:function m(n){return[this._getDataForTextOverlayViolation(n,c("AdFeedbackKeys").MODAL_TITLE),this._getDataForTextOverlayViolation(n,c("AdFeedbackKeys").MODAL_CMS_ID)]},_getDataForTextOverlayViolation:function m(n,o){__p&&__p();if(!n)return null;var p=n.warningData;if(!p||!p[c("CROWCompsType").PROACTIVE_AD_IMAGE])return null;var q=null,r=p[c("CROWCompsType").PROACTIVE_AD_IMAGE],s=Object.keys(r);s.forEach(function(t){if(k.has(t)){var u=r[t].feedback_info;if(u.cms_data&&u.cms_data[o]!=="0")q=u.cms_data[o]}});return q},getPolicyModalCMSIDs:function m(n){var o=[];if(!n)return o;this._addModalCMSIDsFromData(n.data,o);return o},_addModalCMSIDsFromData:function m(n,o){this._addEntriesFromData(n,c("AdFeedbackKeys").MODAL_CMS_ID,o)},getPolicyBannerCMSIDs:function m(n){var o=[];if(!n)return o;this._addBannerCMSIDsFromData(n.data,o);return o},getTextOverlayExceptionTitleCMSIDForLWI:function m(){return"920890114708245"},getPolicyBannerTitleForAds:function m(n){var o=h._("Your Ad May Not Be Approved");return this._getPolicyBannerTitle(n,o)},getPolicyBannerTitleForLWI:function m(n,o){return this._getPolicyBannerTitle(n,this._getDefaultTitleForLWI(o))},_getDefaultTitleForLWI:function m(n){switch(n){case c("BoostedComponentAppID").BOOSTED_GROUP:return h._("Your Boosted Group May Not Be Approved");case c("BoostedComponentAppID").BOOSTED_EVENT:return h._("Your Boosted Event May Not Be Approved");case c("BoostedComponentAppID").BOOSTED_PAGELIKE:return h._("Your Promoted Page May Not Be Approved");case c("BoostedComponentAppID").BOOSTED_WEBSITE:return h._("Your Promoted Website May Not Be Approved");default:return h._("Your Boosted Post May Not Be Approved")}},_getPolicyBannerTitle:function m(n,o){if(!n||!n.data)return o;var p=[];this._addEntriesFromData(n.data,c("AdFeedbackKeys").BANNER_TITLE,p);if(p.length===0)return o;else return c("React").createElement("div",null,p.shift())},_addBannerCMSIDsFromData:function m(n,o){this._addEntriesFromData(n,c("AdFeedbackKeys").BANNER_CMS_ID,o)},_addEntriesFromData:function m(n,o,p){Object.keys(n).forEach(function(q){var r=n[q];Object.keys(r).forEach(function(s){var t=r[s].feedback_info;if(t.cms_data&&t.cms_data[o]!=="0"&&t.cms_data[o]!=="")p.push(t.cms_data[o])})})},getLoadState:function m(n){__p&&__p();var o=n.values();for(var p=o,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s;if(t.loadState===c("AdsLoadState_LEGACY").LOADING)return c("AdsLoadState_LEGACY").LOADING}return c("AdsLoadState_LEGACY").LOADED},getObjectTextPenalty:function m(n){var o=n&&n[c("AdsAPIAdgroupFields").DELIVERY_INFO];if(!o)return c("TextPenaltyLevel").NONE;return o[c("AdsAPIDeliveryInfoFields").TEXT_PENALTY_LEVEL]},getHighestTextPenalty:function m(n){var o=i.find(function(p){return l._anyHasTextPenaltyLevel(n,p)});if(!o)o=c("TextPenaltyLevel").NONE;return o},_anyHasTextPenaltyLevel:function m(n,o){return n.filter(function(p){return l.getObjectTextPenalty(p)===o}).length>0},_getPenaltyLevelFromCROWDisapprovalReason:function m(n){switch(n){case c("CROWAdDisapprovalReasons").TEXT_PENALTY_HIGH:return c("TextPenaltyLevel").HIGH;case c("CROWAdDisapprovalReasons").TEXT_PENALTY_MEDIUM:return c("TextPenaltyLevel").MEDIUM;case c("CROWAdDisapprovalReasons").TEXT_PENALTY_LOW:return c("TextPenaltyLevel").LOW;default:return c("TextPenaltyLevel").NONE}},getTextPenaltyLevel:function m(n){if(!n||!n[c("CROWCompsType").PROACTIVE_AD_IMAGE])return c("TextPenaltyLevel").NONE;var o=n[c("CROWCompsType").PROACTIVE_AD_IMAGE],p=Object.keys(o),q=[];p.forEach(function(r){if(j.has(r))q.push(this._getPenaltyLevelFromCROWDisapprovalReason(r))}.bind(this));return q[0]},getTextPenaltyNoticeType:function m(n){if(n===c("TextPenaltyLevel").LOW||n===c("TextPenaltyLevel").MEDIUM)return c("AdsError").Level.RECOMMEND;return c("AdsError").Level.WARN},getCROWType:function m(n){__p&&__p();var o=parseInt(n,10);for(var p=Object.keys(c("CROWCompsType")),q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s;if(o===c("CROWCompsType")[t])return c("CROWCompsType")[t]}return c("CROWCompsType").UNKNOWN}};f.exports=l}),null);
__d("BusinessIntegrityIPCTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:BusinessIntegrityIPCLoggerConfig",this.$BusinessIntegrityIPCTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:BusinessIntegrityIPCLoggerConfig",this.$BusinessIntegrityIPCTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$BusinessIntegrityIPCTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$BusinessIntegrityIPCTypedLogger1)};h.prototype.updateData=function(j){this.$BusinessIntegrityIPCTypedLogger1=babelHelpers["extends"]({},this.$BusinessIntegrityIPCTypedLogger1,j);return this};h.prototype.setAdAccountID=function(j){this.$BusinessIntegrityIPCTypedLogger1.ad_account_id=j;return this};h.prototype.setAdsCreationFlow=function(j){this.$BusinessIntegrityIPCTypedLogger1.ads_creation_flow=j;return this};h.prototype.setAdsObjectType=function(j){this.$BusinessIntegrityIPCTypedLogger1.ads_object_type=j;return this};h.prototype.setAPIAdID=function(j){this.$BusinessIntegrityIPCTypedLogger1.api_ad_id=j;return this};h.prototype.setAppID=function(j){this.$BusinessIntegrityIPCTypedLogger1.app_id=j;return this};h.prototype.setAppNameStg=function(j){this.$BusinessIntegrityIPCTypedLogger1.app_name_stg=j;return this};h.prototype.setCrowDisapprovalReason=function(j){this.$BusinessIntegrityIPCTypedLogger1.crow_disapproval_reason=j;return this};h.prototype.setCrowDisapprovalReasons=function(j){this.$BusinessIntegrityIPCTypedLogger1.crow_disapproval_reasons=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setEvent=function(j){this.$BusinessIntegrityIPCTypedLogger1.event=j;return this};h.prototype.setFbtraceID=function(j){this.$BusinessIntegrityIPCTypedLogger1.fbtrace_id=j;return this};h.prototype.setFlowID=function(j){this.$BusinessIntegrityIPCTypedLogger1.flow_id=j;return this};h.prototype.setIsEditor=function(j){this.$BusinessIntegrityIPCTypedLogger1.is_editor=j;return this};h.prototype.setIsSuccess=function(j){this.$BusinessIntegrityIPCTypedLogger1.is_success=j;return this};h.prototype.setLatency=function(j){this.$BusinessIntegrityIPCTypedLogger1.latency=j;return this};h.prototype.setPostID=function(j){this.$BusinessIntegrityIPCTypedLogger1.post_id=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$BusinessIntegrityIPCTypedLogger1=babelHelpers["extends"]({},this.$BusinessIntegrityIPCTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={ad_account_id:true,ads_creation_flow:true,ads_object_type:true,api_ad_id:true,app_id:true,app_name_stg:true,crow_disapproval_reason:true,crow_disapproval_reasons:true,event:true,fbtrace_id:true,flow_id:true,is_editor:true,is_success:true,latency:true,post_id:true};f.exports=h}),null);
__d("IPCEventName",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({API_CALL:"ipc_api_call",UI_BANNER_COMPONENT_RENDER:"ipc_banner_component_render",UI_PREORDER_MODAL_RENDER:"ipc_preorder_modal_render",UI_TEXT_OVERLAY_WARNING_RENDER:"ipc_text_overlay_warning_render",UI_TEXT_PENALTY_WARNING_BANNER_RENDER:"tpc_warning_banner_render",UI_TEXT_PENALTY_PREORDER_MODAL_RENDER:"tpc_preoreder_modal_render",UI_REAL_TIME_APPROVAL_BANNER_RENDER:"ipc_real_time_approval_banner_render",UI_DISAPPROVAL_BANNER_RENDER:"disapproval_banner_render",UI_DISAPPROVAL_BANNER_EDIT:"disapproval_banner_edit",UI_TEXT_PENALTY_MARK_EXCEPTION_CLICK:"ui_text_penalty_mark_exception_click",UI_TEXT_PENALTY_UNDO_MARK_EXCEPTION_CLICK:"ui_text_penalty_undo_mark_exception_click",UI_ETHNIC_AFFINITY_CERTIFY_CLICK:"ui_ethnic_affinity_certify_click",UI_ETHNIC_AFFINITY_RMR_CLICK:"ui_ethnic_affinity_rmr_click",UI_ETHNIC_AFFINITY_UNDO_RMR_CLICK:"ui_ethnic_affinity_undo_rmr_click",SERVER_API_RESPONSE_GENERATE:"server_api_response_generate"})}),null);
__d("AdsReviewIPCUtils",["BusinessIntegrityIPCTypedLogger","CROWAdDisapprovalReasons","IPCEventName","Set","WebApiApplication"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(k,l,m,event,n,o,p,q){new(c("BusinessIntegrityIPCTypedLogger"))().setCrowDisapprovalReason(l).setEvent(event).setIsSuccess(n).setAdAccountID(k).setAppID(c("WebApiApplication").getClientID()).setFbtraceID(m).setPostID(o).setFlowID(p).setAdsCreationFlow(q).log()}function i(k){var l=new(c("Set"))([c("CROWAdDisapprovalReasons").TEXT_PENALTY_HIGH,c("CROWAdDisapprovalReasons").TEXT_PENALTY_MEDIUM,c("CROWAdDisapprovalReasons").TEXT_PENALTY_LOW]);return new(c("Set"))(Array.from(k).filter(function(m){return!l.has(m)}))}var j={logSuccessfulAPICall:function k(l,m){h(l,c("CROWAdDisapprovalReasons").UNKNOWN,m,c("IPCEventName").API_CALL,true)},logFailedAPICall:function k(l,m){h(l,c("CROWAdDisapprovalReasons").UNKNOWN,m,c("IPCEventName").API_CALL,false)},logRenderStatus:function k(l,event,m,n,o,p,q){var r=i(n),s=r.size===0?c("CROWAdDisapprovalReasons").UNKNOWN:r.values().next().value;h(l,s,null,event,m,o,p,q)},logDisapprovalRenderStatus:function k(l,m,event,n,o){new(c("BusinessIntegrityIPCTypedLogger"))().setCrowDisapprovalReason(m).setEvent(event).setAdAccountID(l).setAppID(c("WebApiApplication").getClientID()).setAdsObjectType(o).setIsEditor(n).log()},logTPCRenderStatus:function k(l,m,event,n,o,p){h(l,m,null,event,n,o,null,p)},logIPCInteractionEvent:function k(l,m,event,n,o,p){var q=i(m),r=q.size===0?c("CROWAdDisapprovalReasons").UNKNOWN:q.values().next().value;h(l,r,null,event,n,o,null,p)}};f.exports=j}),null);
__d("AdsReviewAPIFeedbackHelper",["AdContentFeedbackTypes","AdsReviewAPIUtils","CROWCompsType","IntegrityAPIConversionsConstants","Map","Set","md5","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("IntegrityAPIConversionsConstants").TEXT_OVERLAY_REASONS_ORDERED,i=c("IntegrityAPIConversionsConstants").TEXT_PENALTY_REASONS;function j(){this.$AdsReviewAPIFeedbackHelper7("");this.$AdsReviewAPIFeedbackHelper4=new(c("Map"))()}j.prototype.getReviewFeedback=function(){return this.$AdsReviewAPIFeedbackHelper2};j.prototype.getCreativeID=function(){return this.$AdsReviewAPIFeedbackHelper6};j.prototype.getIsAdRejected=function(){var k=this.$AdsReviewAPIFeedbackHelper2;return!!k&&!!k.feedback&&k.feedback===c("AdContentFeedbackTypes").REJECT};j.prototype.getIsTextPenaltyViolation=function(){return i.has(this.getMaybeTextOverlayViolation())};j.prototype.getMaybeTextOverlayViolation=function(){var k=this.$AdsReviewAPIFeedbackHelper5,l=h.findIndex(function(m){return k.has(m)});return l===-1?null:h[l]};j.prototype.maybeSetFeedback=function(k){if(k.adHash===this.$AdsReviewAPIFeedbackHelper1){this.saveFeedback(k);return true}return false};j.prototype.maybeValidateCamapign=function(k,l,m){var n=this.getAdHash({},l);if(n!==this.$AdsReviewAPIFeedbackHelper1){this.$AdsReviewAPIFeedbackHelper7(n);m(k,l,n);return true}else return false};j.prototype.maybeValidateAd=function(k,l,m,n){var o=this.getAdHash(l,m);if(o!==this.$AdsReviewAPIFeedbackHelper1){this.$AdsReviewAPIFeedbackHelper7(o);n(k,l,m,o);return true}else return false};j.prototype.maybeValidateAdgroup=function(k,l,m,n){var o=this.getAdHash(m,{});if(o!==this.$AdsReviewAPIFeedbackHelper1){this.$AdsReviewAPIFeedbackHelper7(o);n(k,l,m,o);return true}return false};j.prototype.getAdHash=function(k,l){return c("md5")(JSON.stringify(Object.assign({},k,l)))};j.prototype.$AdsReviewAPIFeedbackHelper7=function(k){this.$AdsReviewAPIFeedbackHelper1=k;this.$AdsReviewAPIFeedbackHelper2=null;this.$AdsReviewAPIFeedbackHelper3=new(c("Map"))();this.$AdsReviewAPIFeedbackHelper5=new(c("Set"))();this.$AdsReviewAPIFeedbackHelper6=null};j.prototype.saveFeedback=function(k){this.$AdsReviewAPIFeedbackHelper2=k;this.$AdsReviewAPIFeedbackHelper4=k.imageUniqueIdentifierToBoxesAndPolicy;this.$AdsReviewAPIFeedbackHelper6=k.creativeID;this.$AdsReviewAPIFeedbackHelper8(k.warningData);if(!this.getIsAdRejected())return;this.$AdsReviewAPIFeedbackHelper8(k.data)};j.prototype.$AdsReviewAPIFeedbackHelper8=function(k){Object.keys(k).forEach(function(l){var m=k[l],n=[];Object.keys(m).forEach(function(o){this.$AdsReviewAPIFeedbackHelper5.add(o);var p=m[o];if(p.feedback_info)n.push(p.feedback_info.description)}.bind(this));this.$AdsReviewAPIFeedbackHelper3.set(c("AdsReviewAPIUtils").getCROWType(l),n)}.bind(this))};j.prototype.getFeedbackForCROWType=function(k){return this.$AdsReviewAPIFeedbackHelper3.get(k)||[]};j.prototype.getTextOverlayBoxesForIdentifier=function(k){if(!k||!this.$AdsReviewAPIFeedbackHelper4.has(k))return[];var l=this.$AdsReviewAPIFeedbackHelper4.get(k);if(!l||!l.boxes)return[];return l.boxes};j.prototype.getTextPenaltyWarningsForIdentifier=function(k){__p&&__p();var l=null;if(!k||!this.$AdsReviewAPIFeedbackHelper4.has(k))return l;var m=this.$AdsReviewAPIFeedbackHelper4.get(k);if(!m)return l;var n=m.policyWarning,o=this.getReviewFeedback();if(o){var p=o.warningData[c("CROWCompsType").PROACTIVE_AD_IMAGE];if(!!p&&Object.keys(p).includes(n))l=p[n].feedback_info.description}return l};j.prototype.getViolatingImageIdentifiers=function(k){return Array.from(this.$AdsReviewAPIFeedbackHelper4.keys()).filter(function(l){var m=this.$AdsReviewAPIFeedbackHelper4.get(l);return c("nullthrows")(m).policyWarning===k}.bind(this))};j.prototype.getViolatingImageIdentifiersForTextPenalty=function(){return Array.from(this.$AdsReviewAPIFeedbackHelper4.keys()).filter(function(k){var l=this.$AdsReviewAPIFeedbackHelper4.get(k);return i.has(c("nullthrows")(l).policyWarning)}.bind(this))};j.prototype.getPolicies=function(){return this.$AdsReviewAPIFeedbackHelper5};f.exports=j}),null);
__d("AdsProductSetBatchCreateErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"PRODUCT_SET.BATCH_CREATE_ERROR");f.exports=h}),null);
__d("AdsProductSetBatchDeleteErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"PRODUCT_SET.BATCH_DELETE_ERROR");f.exports=h}),null);
__d("AdsProductSetBatchDeletedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"PRODUCT_SET.BATCH_DELETED");f.exports=h}),null);
__d("AdsProductSetBatchLoadErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"PRODUCT_SET.BATCH_LOAD_ERROR");f.exports=h}),null);
__d("AdsProductSetBatchLoadedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"PRODUCT_SET.BATCH_LOADED");f.exports=h}),null);
__d("AdsProductSetCancelCreationDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"PRODUCT_SET.CANCEL_CREATION");f.exports=h}),null);
__d("AdsProductSetCreateBatchDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"PRODUCT_SET.CREATE_BATCH");f.exports=h}),null);
__d("AdsProductSetDefaultIdForEventSourceLoadErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"PRODUCT_SET.DEFAULT_ID_FOR_EVENT_SOURCE_LOAD_ERROR");f.exports=h}),null);
__d("AdsProductSetDefaultIdForEventSourceLoadedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"PRODUCT_SET.DEFAULT_ID_FOR_EVENT_SOURCE_LOADED");f.exports=h}),null);
__d("AdsProductSetDeleteBatchDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"PRODUCT_SET.DELETE_BATCH");f.exports=h}),null);
__d("AdsProductSetActions",["AdsActionTypes","AdsDataAtom","AdsProductSetBatchCreateErrorDataAction","AdsProductSetBatchDeletedDataAction","AdsProductSetBatchDeleteErrorDataAction","AdsProductSetBatchLoadedDataAction","AdsProductSetBatchLoadErrorDataAction","AdsProductSetCancelCreationDataAction","AdsProductSetCreateBatchDataAction","AdsProductSetDefaultIdForEventSourceLoadedDataAction","AdsProductSetDefaultIdForEventSourceLoadErrorDataAction","AdsProductSetDeleteBatchDataAction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={productSetBatchLoaded:function i(j){c("AdsProductSetBatchLoadedDataAction").dispatch({productSets:j})},productSetBatchLoadError:function i(j){c("AdsProductSetBatchLoadErrorDataAction").dispatch({errors:j})},productSetBatchCreated:function i(j,k,l,m,n){c("AdsDataAtom").handleUpdateFromServerResponse({productCatalogID:j,productSetID:k,productSetName:l,source:m,isSuggested:n,data:babelHelpers["extends"]({},m),type:c("AdsActionTypes").PRODUCT_SET.BATCH_CREATED})},productSetBatchCreateError:function i(j){c("AdsProductSetBatchCreateErrorDataAction").dispatch({errors:j})},cancelProductSetCreation:function i(j){c("AdsProductSetCancelCreationDataAction").dispatch({productCatalogID:j})},createProductSet:function i(j,k,l){c("AdsProductSetCreateBatchDataAction").dispatch({objectsData:[k],productCatalogID:j,source:l})},deleteProductSet:function i(j,k){c("AdsProductSetDeleteBatchDataAction").dispatch({productCatalogID:j,productSetIDs:[k]})},productSetBatchDeleted:function i(j){c("AdsProductSetBatchDeletedDataAction").dispatch({productCatalogID:j})},productSetBatchDeleteError:function i(j){c("AdsProductSetBatchDeleteErrorDataAction").dispatch({errors:j})},defaultIDForEventSourceLoaded:function i(j,k){c("AdsProductSetDefaultIdForEventSourceLoadedDataAction").dispatch({businessEventSourceRecord:j,productSetID:k})},defaultIDForEventSourceLoadError:function i(j,k){c("AdsProductSetDefaultIdForEventSourceLoadErrorDataAction").dispatch({businessEventSourceRecord:j})}};f.exports=h}),null);
__d("ProductCatalogDataManagerUtils",["AdsGraphAPI","GraphAPI","ProductFeedLatestUploadFields","ProductsAPIConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={loadWithFields:function i(j,k){return c("GraphAPI")(c("ProductsAPIConfig").version).object("product_catalog",j).batched().get({fields:k,date_format:"U"})},createCatalog:function i(j){var k=new b.FormData();Object.entries(j).forEach(function(l){var m=l[0],n=l[1];if(!n)return;k.append(m,n)});return c("GraphAPI")(c("ProductsAPIConfig").version).me().edge("product_catalogs").post(k)},createProductSet:function i(j,k){return c("AdsGraphAPI").get(f.id).object("product_catalog",j).edge("product_sets").post(k)},createFeed:function i(j,k){return c("GraphAPI")(c("ProductsAPIConfig").version).object("product_catalog",j).edge("product_feeds").post(k)},uploadFeed:function i(j,k){return c("GraphAPI")(c("ProductsAPIConfig").version).object("product_feed",j).edge("uploads").post(babelHelpers["extends"]({},k,{fields:c("ProductFeedLatestUploadFields")}))}};f.exports=h}),null);
__d("ProductCatalogField",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({ID:"id",BUSINESS:"business",COMMERCE_MERCHANT_SETTINGS:"commerce_merchant_settings",CREATOR_USER:"creator_user",DA_DISPLAY_SETTINGS:"da_display_settings",FEED_COUNT:"feed_count",HAS_EXTERNAL_EVENT_SOURCE_ASSOCIATED_SKIP_PRIVACY:"has_external_event_source_associated_skip_privacy",LATEST_IMPRESSION_TIME:"latest_impression_time",NAME:"name",NOTIF_PREFERENCES:"notif_preferences",PAGE:"page",PRODUCT_COUNT:"product_count",QUALIFIED_PRODUCT_COUNT:"qualified_product_count",QUALITY_ISSUES:"quality_issues",VERTICAL:"vertical",SOURCE_APP:"source_app",SUGGESTED_CONVERSION_EVENT:"suggested_conversion_event",SMART_PIXEL_SETTINGS:"smart_pixel_settings",PARENT_CATALOG_ID:"parent_catalog_id"});f.exports=h}),null);
__d("ProductSetField",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({AUTO_CREATION_URL:"auto_creation_url",ID:"id",FILTER:"filter",NAME:"name",PRODUCT_CATALOG:"product_catalog",PRODUCT_COUNT:"product_count"});f.exports=h}),null);
__d("AdsProductSetDataManager",["fbt","AdsBaseDataManager","AdsGraphAPI","AdsProductSetActions","ProductCatalogDataManagerUtils","ProductCatalogField","ProductSetField"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=[c("ProductSetField").AUTO_CREATION_URL,c("ProductSetField").FILTER,c("ProductSetField").NAME,c("ProductSetField").PRODUCT_COUNT,c("ProductSetField").PRODUCT_CATALOG+"{"+c("ProductCatalogField").VERTICAL+"}"],l=k.filter(function(o){return o!==c("ProductSetField").PRODUCT_COUNT});i=babelHelpers.inherits(m,c("AdsBaseDataManager"));j=i&&i.prototype;m.prototype.loadAll=function(o){o.forEach(function(p){return this.load(p)}.bind(this))};m.prototype.load=function(o){c("AdsGraphAPI").get(f.id).object("product_set",o).batched().get({fields:k}).done(this.__handleSuccess.bind(this,["load"],o,null),this.__reloadWithoutProductSearch.bind(this,["load"],o,null))};m.prototype.__reloadWithoutProductSearch=function(o,p,q,r){c("AdsGraphAPI").get(f.id).object("product_set",p).batched().get({fields:l}).done(this.__handleSuccess.bind(this,o,p,q),this.__handleError.bind(this,o,p,q))};m.prototype.createProductSetsForProductCatalog=function(o,p,q){p.forEach(function(r){c("ProductCatalogDataManagerUtils").createProductSet(o,r).done(function(s){return this.__handleSuccess(["create"],r.tempID,null,babelHelpers["extends"]({},s,{productCatalogID:o,source:q,name:r.name,isSuggested:r.isSuggested}))}.bind(this),function(s){s.productCatalogID=o;this.__handleError(["create"],r.tempID,null,s)}.bind(this))}.bind(this))};m.prototype.deleteProductSetsForProductCatalog=function(o,p){p.forEach(function(q){c("AdsGraphAPI").get(f.id).object("product_set",q).batched().remove().done(function(r){return this.__handleSuccess(["delete"],q,null,babelHelpers["extends"]({},r,{productCatalogID:o}))}.bind(this),function(r){r.productCatalogID=o;this.__handleError(["delete"],q,null,r)}.bind(this))}.bind(this))};m.prototype.__onBatchDeleted=function(o){var p=o.values().next().value;p&&c("AdsProductSetActions").productSetBatchDeleted(p.productCatalogID)};m.prototype.__onBatchDeleteError=function(o){c("AdsProductSetActions").productSetBatchDeleteError(o)};m.prototype.__onBatchLoaded=function(o){c("AdsProductSetActions").productSetBatchLoaded(o)};m.prototype.__onBatchLoadError=function(o){c("AdsProductSetActions").productSetBatchLoadError(o)};m.prototype.__onBatchCreated=function(o){var p=o.values().next().value;p&&c("AdsProductSetActions").productSetBatchCreated(p.productCatalogID,p.id,p.name,p.source,p.isSuggested||false)};m.prototype.__onBatchCreateError=function(o){c("AdsProductSetActions").productSetBatchCreateError(o)};m.prototype.__getObjectTypeLabel=function(){return h._("Product Set")};function m(){i.apply(this,arguments)}var n=new m();f.exports=n}),null);
__d("ProductCatalogBusinessEventName",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({APP_ENDPOINT_HIT:"app_endpoint_hit",UNHANDLED_JS_EXCEPTION:"unhandled_js_exception",ADD_PRODUCTS_PAGE_CANCEL_CLICKED:"add_products_page_cancel_clicked",ADD_PRODUCTS_PAGE_NEXT_CLICKED:"add_products_page_next_clicked",ADD_PRODUCTS_PAGE_NEXT_CLICKED_ERROR:"add_products_page_next_clicked_error",ADD_PRODUCTS_PAGE_DONE_CLICKED:"add_products_page_done_clicked",CATALOG_CREATE_CANCEL:"catalog_create_cancel",CATALOG_CREATE_CHOOSE_CREATE:"catalog_create_choose_create",CATALOG_CREATE_CHOOSE_REQUEST:"catalog_create_choose_request",CATALOG_CREATE_FAILURE:"catalog_create_failure",CATALOG_CREATE_INVALID_DIALOG_STATE:"catalog_create_invalid_dialog_state",CATALOG_CREATE_PEOPLE_SELECT:"catalog_create_people_select",CATALOG_CREATE_PEOPLE_SKIP:"catalog_create_people_skip",CATALOG_CREATE_PIXEL_SELECT:"catalog_create_pixel_select",CATALOG_CREATE_PIXEL_SKIP:"catalog_create_pixel_skip",CATALOG_CREATE_SUBMIT:"catalog_create_submit",CATALOG_CREATE_SUCCESS:"catalog_create_success",CATALOG_DELETE_CANCEL:"catalog_delete_cancel",CATALOG_DELETE_CLICK:"catalog_delete_click",CATALOG_DELETE_CONFIRM:"catalog_delete_confirm",CATALOG_DELETE_FAILURE:"catalog_delete_failure",CATALOG_DELETE_SUCCESS:"catalog_delete_success",CATALOG_HOME_ACTIVE_TAB:"catalog_home_active_tab",CATALOG_HOME_CREATE_AD_SUCCESS:"catalog_home_create_ad_success",CATALOG_HOME_CREATE_AD_FAILURE:"catalog_home_create_ad_failure",CATALOG_HOME_PAGE_LOAD:"catalog_home_page_load",CATALOG_HOME_UNSUPPORTED_VERTICAL:"catalog_home_unsupported_vertical",CATALOG_HOME_ALL_CATALOGS_CLICK:"catalog_home_all_catalogs_click",CATALOG_HOME_PAGE_LOAD_DELAY:"catalog_home_page_load_delay",CATALOG_HOME_PAGE_LOAD_CATALOGS_ERROR:"catalog_home_load_catalogs_error",CATALOG_MANAGER_LOAD:"catalog_manager_load",CATALOG_MANAGER_CREATE_CATALOG_CLICK:"catalog_manager_create_catalog_click",CATALOG_MANAGER_ADD_PRODUCTS_CLICK:"catalog_manager_add_products_click",CATALOG_MANAGER_ADD_EVENT_SOURCE_CLICK:"catalog_manager_add_event_source_click",CATALOG_MANAGER_GO_TO_CATALOG:"catalog_manager_go_to_catalog",CATALOG_MANAGER_LOAD_MORE_CATALOG_CLICK:"catalog_manager_load_more_catalog_click",CATALOG_MANAGER_GO_TO_DIAGNOSTIC_ERROR_CLICK:"catalog_manager_go_to_diagnostic_error_click",CATALOG_MANAGER_GO_TO_DIAGNOSTIC_WARNING_CLICK:"catalog_manager_go_to_diagnostic_warning_click",CATALOG_MANAGER_SORT_BY_NAME:"catalog_manager_sort_by_name_click",CATALOG_MANAGER_SORT_BY_PRODUCT_COUNT:"catalog_manager_sort_by_product_count_click",CATALOG_MANAGER_SORT_BY_VERTICAL:"catalog_manager_sort_by_vertical_click",CATALOG_MANAGER_SORT_BY_ACCOUNT_NAME:"catalog_manager_sort_by_account_name_click",CATALOG_SEGMENT_CREATE_CANCEL:"catalog_segment_create_cancel",CATALOG_SEGMENT_CREATE_SUBMIT:"catalog_segment_create_submit",CATALOG_SEGMENT_CREATE_SUCCESS:"catalog_segment_create_success",CATALOG_SEGMENT_CREATE_FAILURE:"catalog_segment_create_failure",CATALOG_SEGMENT_SHARING_CANCEL:"catalog_segment_sharing_cancel",CATALOG_SEGMENT_SHARING_SUBMIT:"catalog_segment_sharing_submit",CATALOG_SEGMENT_SHARING_SUCCESS:"catalog_segment_sharing_success",CATALOG_SEGMENT_SHARING_FAILURE:"catalog_segment_sharing_failure",CATALOG_SELECTOR_ZERO_CATALOGS_LOADED:"catalog_selector_zero_catalogs_loaded",CATALOG_SELECTOR_SELECT_CATALOG:"catalog_selector_select_catalog",DATA_SOURCES_ADD_DATA_SOURCE:"data_sources_add_data_source",DATA_SOURCES_SORT_BY_NAME:"data_sources_sort_by_name",DATA_SOURCES_SORT_BY_LAST_UPDATE:"data_sources_sort_by_last_update",DATA_SOURCES_SEARCH:"data_sources_search",DATA_SOURCES_CLICK_ON_NAME:"data_sources_click_on_name",DATA_SOURCES_CLICK_ON_STATUS:"data_sources_click_on_status",DATA_SOURCES_CLICK_ON_NEXT_UPDATE:"data_sources_click_on_next_update",FEED_PREVIEW_CAROUSEL_MOVE:"feed_preview_carousel_move",FEED_PREVIEW_INVALID_FEED_FILE:"feed_preview_invalid_feed_file",FEED_PREVIEW_LOAD:"feed_preview_load",FEED_PREVIEW_TAB_CLICK:"feed_preview_tab_click",FEED_PREVIEW_UNIMPLEMENTED_COLUMN:"feed_preview_unimplemented_column",CATALOG_SETTINGS_IMAGE_OPTIONS_CANCEL_CLICK:"catalog_settings_image_options_cancel_click",CATALOG_SETTINGS_IMAGE_OPTIONS_EDIT_CLICK:"catalog_settings_image_options_edit_click",CATALOG_SETTINGS_IMAGE_OPTIONS_SAVE_CLICK:"catalog_settings_image_options_save_click",CATALOG_SETTINGS_ADD_PEOPLE_CANCEL:"catalog_settings_add_people_cancel",CATALOG_SETTINGS_ADD_PEOPLE_CLICK:"catalog_settings_add_people_click",CATALOG_SETTINGS_ADD_PEOPLE_CONFIRM:"catalog_settings_add_people_confirm",CATALOG_SETTINGS_ADD_SOURCES_CANCEL:"catalog_settings_add_sources_cancel",CATALOG_SETTINGS_ADD_SOURCES_CLICK:"catalog_settings_add_sources_click",CATALOG_SETTINGS_ADD_SOURCES_SAVE:"catalog_settings_add_sources_save",CATALOG_SETTINGS_ADD_PARTNER_CANCEL:"catalog_settings_add_partner_cancel",CATALOG_SETTINGS_ADD_PARTNER_CLICK:"catalog_settings_add_partner_click",CATALOG_SETTINGS_ADD_PARTNER_CONFIRM:"catalog_settings_add_partner_confirm",CATALOG_SETTINGS_ADD_PARTNER_INVALID:"catalog_settings_add_partner_invalid",CATALOG_SETTINGS_ATTACH_TO_BUSINESS:"catalog_settings_attach_to_business",CREATE_AD_FLOW_CANCEL:"create_ad_flow_cancel",CREATE_AD_FLOW_CHANGE_CATALOG:"create_ad_flow_change_catalog",CREATE_AD_FLOW_CHANGE_OBJECTIVE:"create_ad_flow_change_objective",CREATE_AD_FLOW_CHANGE_PRODUCT_SET:"create_ad_flow_change_product_set",CREATE_AD_FLOW_CLICK_ADVERTISE_BUTTON:"create_ad_flow_click_advertise_button",CREATE_AD_FLOW_CREATE_DRAFT_SUCCEEDED:"create_ad_flow_create_draft",CREATE_AD_FLOW_ERROR:"create_ad_flow_error",CREATE_AD_FLOW_RENDER_ACCOUNT_SELECTOR:"create_ad_flow_render_account_selector",CREATE_AD_FLOW_SELECT_ACCOUNT:"create_ad_flow_select_account",CREATE_AD_FLOW_ACCOUNT_SELECTION_CONFIRMED:"create_ad_flow_account_selection_confirmed",CREATE_AD_FLOW_CHANGE_AD_SECTION_MODE:"create_ad_flow_change_ad_section_mode",CREATE_AD_FLOW_CHANGE_AD_SET_SECTION_MODE:"create_ad_flow_change_ad_set_section_mode",CREATE_AD_FLOW_CHANGE_CAMPAIGN_SECTION_MODE:"create_ad_flow_change_campaign_section_mode",CREATE_AD_FLOW_USE_AD_SET:"create_ad_flow_use_ad_set",CREATE_AD_FLOW_USE_CAMPAIGN:"create_ad_flow_use_campaign",CREATE_AD_FLOW_RECEIPT_DIALOG_RENDERED:"create_ad_flow_receipt_dialog_rendered",DEBUG_TOOLS_VERIFY_FEED:"debug_tools_verify_feed",DEBUG_TOOLS_FEED_DEBUGGER_CLICK:"debug_tools_feed_debugger_click",DIAGNOSTICS_EXPAND_ROW:"diagnostics_expand_row",DIAGNOSTICS_NEW_CATALOG_PAGE:"diagnostics_new_catalog_page",DIAGNOSTICS_SUCESS_PAGE:"diagnostics_sucess_page",DIAGNOSTICS_ACTION_CLICKED:"diagnostics_action_clicked",DIAGNOSTICS_VIEW_ALL_CLICKED:"diagnostics_view_all_clicked",EMPTY_STATE_VIEW_ADD_PRODUCT:"empty_state_view_add_product",EMPTY_STATE_VIEW_ADD_EVENT_SOURCE:"empty_state_view_add_event_source",EVENTS_AGGREGATION_OPTION_SELECT:"events_aggreation_option_select",EVENTS_AGGREGATION_TYPE_SELECT:"events_aggregation_type_select",EVENTS_DATE_PRESET_SELECT:"events_date_preset_select",EVENTS_EVENT_NAME_BREAKDOWN_SELECT:"events_event_name_breakdown_select",EVENTS_EXPORT_SAMPLES_CLICK:"events_export_samples_click",EVENTS_PLATFORM_BREAKDOWN_SELECT:"events_platform_breakdown_select",EVENTS_SAMPLES_TABLE_SORT_CLICK:"events_samples_table_sort_click",EVENTS_SAMPLES_TOGGLE_CLICK:"events_samples_toggle_click",EVENTS_SAMPLES_EXAMPLE_URL_CLICK:"events_samples_example_url_click",EXTERNAL_URI_CLICK:"external_uri_click",FEED_DRAG_AND_DROP_FILE:"feed_drag_and_drop_file",FEED_FIRST_UPLOAD:"feed_first_upload",FEED_CREATE_DIALOG_CANCEL:"feed_create_dialog_cancel",FEED_CREATE_OPEN_DIALOG_CLICK:"feed_create_open_dialog_click",FEED_DIALOG_FILE_UPLOAD_FAILURE:"feed_dialog_file_upload_failure",FEED_DIALOG_FILE_UPLOAD_CONNECTION_LOST:"feed_dialog_file_upload_connection_lost",FEED_DIALOG_FILE_UPLOAD_SUCCESS:"feed_dialog_file_upload_success",FEED_DIALOG_NEXT_CLICK:"feed_dialog_next_click",FEED_DIALOG_PREVIOUS_CLICK:"feed_dialog_previous_click",FEED_DIALOG_SUBMIT_INVALID_FORM:"feed_dialog_submit_invalid_form",FEED_DIALOG_SUBMIT_VALID_FORM:"feed_dialog_submit_valid_form",FEED_OVERVIEW_DOWNLOAD_REPORT_CLICK:"feed_overview_download_report_click",FEED_OVERVIEW_ERROR_EXPAND_CLICK:"feed_overview_error_expand_click",FEED_OVERVIEW_EXPAND_DETAILS_CLICK:"feed_overview_expand_details_click",FEED_OVERVIEW_UPLOAD_NOW_CLICK:"feed_overview_upload_now_click",FEED_OVERVIEW_RULES_SAVE_CLICK:"feed_overview_rules_save_click",FEED_OVERVIEW_RULES_EDIT_CLICK:"feed_overview_rules_edit_click",FEED_OVERVIEW_RULES_CANCEL_CLICK:"feed_overview_rules_cancel_click",FEED_OVERVIEW_RULES_EDIT:"feed_overview_rules_edit",FEED_SETTINGS_DELETE_FEED_CLICK:"feed_settings_delete_feed_click",FEED_SETTINGS_FETCH_CLICK:"feed_settings_fetch_click",FEED_SETTINGS_FETCH_ERROR:"feed_settings_fetch_error",FEED_SETTINGS_REMOVE_SCHEDULE:"feed_settings_remove_schedule",FEED_SETTINGS_EDIT_CURRENCY_CLICK:"feed_settings_setup_currency_click",FEED_SETTINGS_EDIT_NAME_CLICK:"feed_settings_setup_name_click",FEED_SETTINGS_SETUP_SCHEDULE_CLICK:"feed_settings_setup_schedule_click",FEED_SETTINGS_SINGLE_UPLOAD_SELECT_OPTION:"feed_settings_single_upload_select_option",FEED_SETTINGS_SINGLE_UPLOAD_CANCEL_SELECT:"feed_settings_single_upload_cancel_select",FEED_SETTINGS_SINGLE_UPLOAD_START_UPLOAD:"feed_settings_single_upload_start_upload",FEED_SETTINGS_UPDATE_CURRENCY_PARAMS:"feed_settings_update_currency_params",FEED_SETTINGS_UPDATE_NAME_PARAMS:"feed_settings_update_name_params",FEED_SETTINGS_UPDATE_PARSING_PARAMS:"feed_settings_update_parsing_params",FEED_SETTINGS_UPDATE_SCHEDULE_PARAMS:"feed_settings_update_schedule_params",FEED_SETTINGS_UPLOAD_FEED:"feed_settings_upload_feed",FEED_SETTINGS_RULES_EDIT_CLICK:"feed_settings_rules_edit_click",FEED_SETTINGS_RULES_SAVE_CLICK:"feed_settings_rules_save_click",FEED_SETTINGS_RULES_SAVE_AND_APPLY_CLICK:"feed_settings_rules_save_and_apply_click",FEED_SETTINGS_RULES_CANCEL_CLICK:"feed_settings_rules_cancel_click",FEED_SETTINGS_RULES_DELETE_CLICK:"feed_settings_rules_delete_click",FEED_SETTINGS_RULES_CREATE_CLICK:"feed_settings_rules_create_click",FEED_SETTINGS_RULES_PREVIEW_CLICK:"feed_settings_rules_preview_click",FEED_SETTINGS_RULES_EDIT:"feed_settings_rules_edit",SMART_PIXEL_OVERVIEW_UPDATES_ENABLED:"smart_pixel_overview_updates_enabled",SMART_PIXEL_OVERVIEW_UPDATES_DISABLED:"smart_pixel_overview_updates_disabled",SMART_PIXEL_OVERVIEW_CURRENCY_CHANGE:"smart_pixel_overview_currency_change",SMART_PIXEL_OVERVIEW_DELETE:"smart_pixel_overview_delete",LANDING_PAGE_CREATE_CATALOG_CLICK:"landing_page_create_catalog_click",LANDING_PAGE_LOAD:"landing_page_load",GUIDELINE_LINK_CLICK:"guideline_link_click",GUIDELINE_VIDEO_PLAYER_CLICK:"guideline_video_player_click",PRODUCTS_COMPONENT_LOAD_TIME:"products_component_load_time",PRODUCT_INSIGHTS_HOVERCARD_OPEN_HOVERCARD:"product_insights_hovercard_open_hovercard",PRODUCT_INSIGHTS_HOVERCARD_CATALOG_HOVERCARD_LOADED:"product_insights_hovercard_catalog_hovercard_loaded",PRODUCT_INSIGHTS_HOVERCARD_PRODUCT_SET_HOVERCARD_LOADED:"product_insights_hovercard_product_set_hovercard_loaded",PRODUCT_INSIGHTS_HOVERCARD_DYNAMIC_SAMPLE_ITEMS_LOADED:"product_insights_hovercard_dynamic_sample_items_loaded",PRODUCT_SETS_VIEW_CREATE_PRODUCT_SET_CLICK:"product_sets_view_create_product_set_click",PRODUCT_SETS_VIEW_DELETE_PRODUCT_SET:"product_sets_view_delete_product_set",PRODUCT_SETS_VIEW_EXPAND_PRODUCT_SET:"product_sets_view_expand_product_set",PRODUCT_SETS_VIEW_EXPORT_PRODUCT_SET:"product_sets_view_export_product_set",PRODUCT_SETS_VIEW_DUPLICATE_PRODUCT_SET:"product_sets_view_duplicate_product_set",PRODUCT_SETS_VIEW_ERROR_FILTER:"product_sets_view_error_filter",PRODUCT_SETS_CREATION_DIALOG_ADD_FILTER:"product_sets_creation_dialog_add_filter",PRODUCT_SETS_CREATION_DIALOG_BROWSE_SAMPLE:"product_sets_creation_dialog_browse_sample",PRODUCT_SETS_CREATION_DIALOG_CANCEL:"product_sets_creation_dialog_cancel",PRODUCT_SETS_CREATION_DIALOG_CREATE:"product_sets_creation_dialog_create",PRODUCT_SETS_CREATION_DIALOG_DELETE_FILTER:"product_sets_creation_dialog_delete_filter",PRODUCT_SETS_CREATION_DIALOG_OPEN:"product_sets_creation_dialog_open",PRODUCT_SETS_SELECTOR_OPEN:"product_sets_selector_open",PRODUCT_SETS_SELECTOR_SELECTED:"product_sets_selector_selected",SUGGESTED_PRODUCT_SET_CREATED:"suggested_product_set_created",PRODUCTS_VIEW_INTERACTION_CLICK_ITEM:"products_view_interaction_click_item",PRODUCTS_VIEW_INTERACTION_CLICK_QUALITY_EXPAND_ISSUE:"products_view_interaction_click_quality_expand_issue",PRODUCTS_VIEW_INTERACTION_CLICK_QUALITY_LEARN_MORE:"products_view_interaction_click_quality_learn_more",PRODUCTS_VIEW_INTERACTION_CLICK_QUALITY_WARNING:"products_view_interaction_click_quality_warning",PRODUCTS_VIEW_INTERACTION_SEARCH_ITEM:"products_view_interaction_search_item",PRODUCTS_VIEW_INTERACTION_TAB_NAVIGATE:"products_view_interaction_tab_navigate",PRODUCTS_VIEW_ERROR_NOT_ENOUGH_ITEMS:"products_view_error_not_enough_items",PRODUCTS_VIEW_NAVIGATION_ACTIVE_TAB:"products_view_navigation_active_tab",PRODUCTS_VIEW_SETTINGS_SELECT_FIELD:"products_view_settings_select_field",PRODUCTS_VIEW_SETTINGS_SELECT_SORT:"products_view_settings_select_sort",PRODUCTS_VIEW_SETTINGS_SELECT_MODE:"products_view_settings_select_mode",PRODUCTS_VIEW_SETTINGS_UNSELECT_FIELD:"products_view_settings_unselect_field",PRODUCTS_VIEW_SETTINGS_UNSELECT_SORT:"products_view_settings_unselect_sort",PRODUCTS_VIEW_SETTINGS_UNSELECT_MODE:"products_view_settings_unselect_mode",PRODUCTS_TAB_CLICK_DOWNLOAD_QUALITY_REPORT:"products_tab_click_download_quality_report",PRODUCTS_TAB_CLICK_FILTER:"products_tab_click_filter",PRODUCTS_TAB_CLICK_CREATE_PRODUCT_SET:"products_tab_click_create_product_set",PRODUCTS_TAB_CLICK_PRODUCT_SETS_MORE:"products_tab_click_product_sets_more",PRODUCTS_TAB_QUALITY_POPOVER_VISUALIZED:"products_tab_quality_popover_visualized",PRODUCTS_TAB_FACET_EXPANDED:"products_tab_facet_expanded",PRODUCTS_TAB_FACET_VALUE_CLICKED:"products_tab_facet_value_clicked",PRODUCTS_TAB_INSIGHT_SHOWN:"products_tab_insight_shown",PRODUCTS_TAB_PRODUCT_SETS_SORT:"products_tab_product_sets_sort",PRODUCTS_TAB_FACET_SEARCH:"products_tab_facet_search",PRODUCTS_TAB_CURRENCY_SELECTED:"products_tab_currency_selected",PRODUCTS_TAB_PRICE_ENTERED:"products_tab_price_entered",PRODUCTS_TAB_FACET_REMOVED:"products_tab_facet_removed",PRODUCTS_TAB_SAVE_AS_PRODUCT_SET_CLICKED:"products_tab_save_as_product_set_clicked",PRODUCTS_TAB_QUALITY_LEARN_MORE_CLICKED:"products_tab_quality_learn_more_clicked",QUALITY_SEND_REPORT_DIALOG_SEND_CLICKED:"quality_send_report_dialog_send_clicked",QUALITY_SEND_REPORT_DIALOG_CLOSED:"quality_send_report_dialog_closed",QUALITY_SCORE_LOADED:"quality_score_loaded",QUALITY_POPUP_OPENED_NO_DATA:"quality_popup_opened_no_data",QUALITY_POPUP_OPENED_WITH_DATA:"quality_popup_opened_with_data",QUALITY_POPUP_TAB_CLICKED:"quality_popup_tab_clicked",QUALITY_POPUP_DOWNLOAD_REPORT_CLICKED:"quality_popup_download_report_clicked",QUALITY_POPUP_SEND_REPORT_CLICKED:"quality_popup_send_report_clicked",WORKFLOW_CATALOG_CREATED:"workflow_catalog_created",WORKFLOW_FEED_CREATED:"workflow_feed_created",WORKFLOW_PRODUCTS_CREATED:"workflow_products_created",WORKFLOW_PRODUCT_SET_CREATED:"workflow_product_set_created",WORKFLOW_PIXEL_ASSOCIATED:"workflow_pixel_associated",WORKFLOW_PIXEL_EVENT_FIRED:"workflow_pixel_event_fired",WORKFLOW_AD_CAMPAIGN_CREATED:"workflow_ad_campaign_created",WORKFLOW_AD_IMPRESSION_SERVED:"workflow_ad_impression_served"})}),null);
__d("CatalogTabKeys",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({bundles:null,diagnostics:null,feeds:null,sets:null,settings:null,events:null,products:null,data_sources:null});f.exports=h}),null);
__d("CommerceQualityMetric",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({QUALIFIED_BRAND:"qualified_brand",QUALIFIED_CATEGORY:"qualified_category",QUALIFIED_DESCRIPTION:"qualified_description",QUALIFIED_IMAGE:"qualified_image",DUPLICATE_NAMES:"duplicate_names",DUPLICATE_DESCRIPTIONS:"duplicate_descriptions"})}),null);
__d("ProductsActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirrorRecursive")({PRODUCTS_CF_RECEIPT_DIALOG_UI:{CLEAR:null,SET_PROMOTED_OBJECTS:null,SET_AD_TITLE:null},PRODUCT_SET_COUNTS:{BATCH_LOADED:null,BATCH_LOAD_ERROR:null,RELOAD:null},PRODUCTS_FACET_SEARCH:{LOADED:null,LOAD_ERROR:null},PRODUCTS_FACET_AGREGGATION:{LOADED:null,LOAD_ERROR:null},DPA_AD_ACCOUNT:{LIST:{LOAD_ERROR:null,LOADED:null}},CATALOG_FILTER_FIELD:{LOADED:null,LOAD_ERROR:null,RELOAD:null},BUSINESS_PRODUCT_CATALOG_TOS:{ACCEPT:null},CATALOG:{ADD_EXTERNAL_EVENT_SOURCES:null,ATTACH_TO_BUSINESS:null,ATTACH_TO_PAGE:null,BATCH_DELETE_ERROR:null,BATCH_LOADED:null,BATCH_LOAD_ERROR:null,CREATE:null,CREATED:null,DELETE_BATCH:null,DELETE_EXTERNAL_EVENT_SOURCES:null,DPA_ELIGIBLE_AD_ACCOUNT:{LIST:{LOADED:null,LOAD_ERROR:null}},EXTERNAL_EVENT_SOURCE_LIST_UPDATED:null,PREVIEW:{LOADED:null,ERROR:null,RELOAD:null},RELOAD:null,PARTIAL_RELOAD:null,SELECTOR:{SEARCH:null},LIST:{LOADED:null,LOAD_ERROR:null},SEND_QUALITY_REPORT:null,UPDATE:null,POPULATE_FROM_EVENT_DATA:null,SMART_PIXEL_STATS:{RELOAD:null,LOADED:null,LOAD_ERROR:null},SMART_PIXEL_SETTINGS:{CREATE:null,LOADED:null,LOAD_ERROR:null,UPDATE:null,DELETE:null,DELETED:null,EMIT_CHANGE:null,LIST:{LOADED:null,LOAD_ERROR:null,RELOAD:null}}},CATALOG_SEGMENT:{CREATE:null,CREATED:null},AD_ACCOUNT:{DPA_ELIGIBLE_CATALOGS:{LIST:{LOADED:null,LOAD_ERROR:null}}},CONTEXT:{SET:null},EXTERNAL_EVENT_SOURCE:{LIST:{LOADED:null,LOAD_ERROR:null},LOADED:null,ASSOCIATION_DIALOG:{AUTO_OPEN:null,OPEN:null,CLOSE:null},NO_SIGNAL:null},FEED:{DELETE_BATCH:null,BATCH_DELETED:null,BATCH_DELETE_ERROR:null,BATCH_LOADED:null,BATCH_LOAD_ERROR:null,CREATE:null,CREATED:null,CREATE_ERROR:null,UPDATE:null,UPDATED:null,UPDATE_ERROR:null,UPLOAD_FINISHED:null,LIST:{LOADED:null,LOAD_ERROR:null,PARTIAL_LOAD:null},RELOAD:null,RELOAD_NON_EXPENSIVE:null,RULE:{DELETE_BATCH:null,BATCH_DELETED:null,BATCH_DELETE_ERROR:null,BATCH_LOADED:null,BATCH_LOAD_ERROR:null,BATCH_CREATED:null,BATCH_CREATE_ERROR:null,LIST:{LOADED:null,LOAD_ERROR:null},CREATE:null,RELOAD:null,SUGGESTION:{EMIT_CHANGE:null,LOADED:null,LOAD_ERROR:null},UPDATE:null,UPDATED:null,UPDATE_ERROR:null},RULE_PREVIEW_SAMPLES:{LOADED:null,LOAD_ERROR:null}},FEED_UPLOAD:{BATCH_LOADED:null,BATCH_LOAD_ERROR:null,CREATE:null,CREATED:null,CREATE_ERROR:null,FETCH:null,LIST:{LOADED:null,LOAD_ERROR:null}},ISSUE:{LIST:{LOAD_ERROR:null,LOADED:null,RELOAD:null}},LOCAL_STORAGE:{SET:null},QUALITY_ISSUE:{LIST:{LOAD_ERROR:null,LOADED:null,RELOAD:null}},UPLOAD_ERROR:{BATCH_LOADED:null,BATCH_LOAD_ERROR:null,LIST:{LOADED:null,LOAD_ERROR:null,PARTIAL_LOAD:null,RELOAD:null}},UPLOAD_ERROR_SAMPLE:{BATCH_CREATED:null,BATCH_CREATE_ERROR:null,BATCH_LOADED:null,BATCH_LOAD_ERROR:null,CREATE_BATCH:null,LIST:{LOADED:null,LOAD_ERROR:null,PARTIAL_LOAD:null}},DA_EVENT_SAMPLES:{LOAD:null,LOADED:null,LOAD_ERROR:null},EVENT_STATS:{LOADED:null,LOAD_ERROR:null},EVENT_SAMPLES:{LOAD:null,LOADED:null,LOAD_ERROR:null},ERROR:{SET:null,CLEAR:null},DESTINATION:{BATCH_LOADED:"",BATCH_LOAD_ERROR:""},VEHICLE_OFFER:{BATCH_LOADED:"",BATCH_LOAD_ERROR:""},VEHICLE:{BATCH_LOADED:"",BATCH_LOAD_ERROR:""},FLIGHT:{BATCH_LOADED:"",BATCH_LOAD_ERROR:""},FLIGHT_CATALOG_SETTINGS:{LOADED:"",LOAD_ERROR:""},HOME_LISTING:{BATCH_LOADED:"",BATCH_LOAD_ERROR:""},HOTEL:{BATCH_LOADED:"",BATCH_LOAD_ERROR:""},SUGGESTED_PRODUCT_SETS:{BATCH_LOADED:"",BATCH_LOAD_ERROR:""},TIME_LOGGING:{SET:"",LOG:""},PRODUCT_SET:{BATCH_LOADED:"",BATCH_LOAD_ERROR:""},PRODUCT_SET_FIELD:{BATCH_LOADED:"",BATCH_LOAD_ERROR:""},PAGINATION_SORT_AND_SEARCH:{NEXT_PAGE:"",SEARCH:"",INIT:"",SORT:"",RESET_OFFSET:""},SMART_PIXEL:{LOADED:"",LOAD_ERROR:""}},"ProductCatalog");f.exports=h}),null);
__d("ProductAppContextStore",["AdsDataAtom","CatalogVertical","FluxReduceStore","ProductsActionTypes","ProductsConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("CatalogVertical").COMMERCE,k=[c("CatalogVertical").COMMERCE,c("CatalogVertical").DESTINATIONS,c("CatalogVertical").FLIGHTS,c("CatalogVertical").HOME_LISTINGS,c("CatalogVertical").HOTELS,c("CatalogVertical").VEHICLES];h=babelHelpers.inherits(l,c("FluxReduceStore"));i=h&&h.prototype;l.prototype.getInitialState=function(){return{catalogID:null,ownerID:null,ownerType:null,vertical:j,currentTab:null}};l.prototype.reduce=function(m,n){var o=n.action;switch(o.type){case c("ProductsActionTypes").CONTEXT.SET:return babelHelpers["extends"]({},m,o.data,{vertical:o.data.vertical!==undefined?o.data.vertical||j:m.vertical});default:return m}};l.prototype.getBusinessID=function(){var m=null;if(this.getState().ownerType==="business")m=this.getState().ownerID;return m};l.prototype.getCatalogID=function(){return this.getState().catalogID};l.prototype.getOwnerID=function(){return this.getState().ownerID};l.prototype.getOwnerType=function(){return this.getState().ownerType};l.prototype.getVertical=function(){return this.getState().vertical};l.prototype.isVerticalSupported=function(){return k.includes(this.getVertical())};l.prototype.getCurrentTab=function(){return this.getState().currentTab};function l(){h.apply(this,arguments)}f.exports=new l(c("AdsDataAtom"))}),null);
__d("ProductCatalogBusinessEventActionElement",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADD_PRODUCTS_PAGE_CANCEL_BUTTON:"add_products_page_cancel_button",ADD_PRODUCTS_PAGE_DONE_BUTTON:"add_products_page_done_button",ADD_PRODUCTS_PAGE_NEXT_BUTTON:"add_products_page_next_button",CREATE_AD_NO_EVENTS_FAILURE:"create_ad_no_events_failure",CREATE_AD_NO_PRODUCTS_FAILURE:"create_ad_no_products_failure",CREATE_AD_NOTHING_SETUP_FAILURE:"create_ad_nothing_setup_failure",PRODUCT_INFO_ANALYTICS_TAB:"product_info_analytics_tab",PRODUCT_INFO_DETAILS_TAB:"product_info_details_tab",PRODUCT_INFO_ISSUES_TAB:"product_info_issues_tab",PRODUCT_INFO_MEDIA_TAB:"product_info_media_tab",PRODUCTS_TAB_FILTER_ALL_PRODUCTS:"products_tab_filter_all_products",PRODUCTS_TAB_FILTER_NON_QUALIFIED:"products_tab_filter_non_qualified",PRODUCTS_TAB_FILTER_PRODUCT_SET:"products_tab_filter_product_set",PRODUCTS_TAB_FILTER_QUALIFIED:"products_tab_filter_qualified",PRODUCTS_TAB_MAX_PRICE_INPUT:"products_tab_max_price_input",PRODUCTS_TAB_MIN_PRICE_INPUT:"products_tab_min_price_input",PRODUCTS_TAB_SORT_SETS_BY_COUNT:"products_tab_sort_sets_by_count",PRODUCTS_TAB_SORT_SETS_BY_NAME:"products_tab_sort_sets_by_name",QUALITY_ISSUE_DUPLICATE_DESCRIPTIONS:"quality_issue_duplicate_descriptions",QUALITY_ISSUE_DUPLICATE_NAMES:"quality_issue_duplicate_names",QUALITY_ISSUE_QUALIFIED_BRAND:"quality_issue_qualified_brand",QUALITY_ISSUE_QUALIFIED_CATEGORY:"quality_issue_qualified_category",QUALITY_ISSUE_QUALIFIED_DESCRIPTION:"quality_issue_qualified_description",QUALITY_ISSUE_QUALIFIED_IMAGE:"quality_issue_qualified_image",SELECT_PRODUCT_SET_ENTRY:"select_product_set_entry",SELECT_SUGGESTED_PRODUCT_SET_ENTRY:"select_suggested_product_set_entry"})}),null);
__d("ProductCatalogBusinessEventCategory",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADD_PRODUCTS_PAGE:"add_products_page",BUSINESS_HOME:"business_home",CAMPAIGN_CREATION:"campaign_creation",CATALOG_CREATION_DIALOG:"catalog_creation_dialog",CATALOG_DELETION_DIALOG:"catalog_deletion_dialog",CATALOG_FEEDS_VIEW:"catalog_feeds_view",CATALOG_HOME:"catalog_home",CATALOG_MANAGER:"catalog_manager",CATALOG_SETTINGS:"catalog_settings",DATA_SOURCES:"data_sources",DEBUG_TOOLS:"debug_tools",DIAGNOSTICS_VIEW:"diagnostics_view",EMPTY_STATE_VIEW:"empty_state_view",ERROR_EVENT_CATEGORY:"errors",EVENTS_TAB:"events_tab",EXTERNAL_URI:"external_URI",FEED_CREATE_PAGE:"feed_create_page",FEED_CREATION_DIALOG:"feed_creation_dialog",FEED_OVERVIEW:"feed_overview",FEED_PREVIEW:"feed_preview",FEED_SETTINGS:"feed_settings",SMART_PIXEL_OVERVIEW:"smart_pixel_overview",LANDING_PAGE:"landing_page",LEFT_NAV:"left_nav",PRODUCTS_TAB:"products_tab",PRODUCTS_VIEW:"products_view",CREATE_AD_FLOW:"create_ad_flow",PRODUCT_INSIGHTS_HOVERCARD:"product_insights_hovercard",PRODUCT_SETS_CREATION_DIALOG:"product_sets_creation_dialog",PRODUCT_SETS_SELECTOR:"product_sets_selector",PRODUCT_SETS_VIEW:"product_sets_view",QUALITY:"quality",WORKFLOW:"workflow"})}),null);
__d("ProductCatalogBusinessEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:ProductCatalogBusinessEventsLoggerConfig",this.$ProductCatalogBusinessEventsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:ProductCatalogBusinessEventsLoggerConfig",this.$ProductCatalogBusinessEventsTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$ProductCatalogBusinessEventsTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$ProductCatalogBusinessEventsTypedLogger1)};h.prototype.updateData=function(j){this.$ProductCatalogBusinessEventsTypedLogger1=babelHelpers["extends"]({},this.$ProductCatalogBusinessEventsTypedLogger1,j);return this};h.prototype.setActionData=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.action_data=c("GeneratedLoggerUtils").serializeMap(j);return this};h.prototype.setActionElement=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.action_element=j;return this};h.prototype.setAdAccountID=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.ad_account_id=j;return this};h.prototype.setAdAccountRelationship=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.ad_account_relationship=j;return this};h.prototype.setAdcampaignGroupID=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.adcampaign_group_id=j;return this};h.prototype.setBusinessID=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.business_id=j;return this};h.prototype.setCatalogHomeTab=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.catalog_home_tab=j;return this};h.prototype.setCatalogID=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.catalog_id=j;return this};h.prototype.setCategory=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.category=j;return this};h.prototype.setClientAppID=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.client_app_id=j;return this};h.prototype.setEvent=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.event=j;return this};h.prototype.setExternalURI=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.external_uri=j;return this};h.prototype.setFeedFileError=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.feed_file_error=j;return this};h.prototype.setFeedFileName=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.feed_file_name=j;return this};h.prototype.setFeedFileSize=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.feed_file_size=j;return this};h.prototype.setFeedID=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.feed_id=j;return this};h.prototype.setFeedName=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.feed_name=j;return this};h.prototype.setFeedNameError=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.feed_name_error=j;return this};h.prototype.setFeedURI=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.feed_uri=j;return this};h.prototype.setFeedURIError=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.feed_uri_error=j;return this};h.prototype.setFileoptionsDefaultCurrency=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.fileoptions_default_currency=j;return this};h.prototype.setFileoptionsDelimiter=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.fileoptions_delimiter=j;return this};h.prototype.setFileoptionsEncoding=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.fileoptions_encoding=j;return this};h.prototype.setFileoptionsUseQuotedFields=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.fileoptions_use_quoted_fields=j;return this};h.prototype.setInputMethod=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.input_method=j;return this};h.prototype.setNavSource=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.nav_source=j;return this};h.prototype.setPageURI=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.page_uri=j;return this};h.prototype.setPassword=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.password=j;return this};h.prototype.setPasswordError=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.password_error=j;return this};h.prototype.setSessionID=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.session_id=j;return this};h.prototype.setTimeTakenInMs=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.time_taken_in_ms=j;return this};h.prototype.setUpdateOnly=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.update_only=j;return this};h.prototype.setUploadDateDate=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.upload_date_date=j;return this};h.prototype.setUploadDateTime=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.upload_date_time=j;return this};h.prototype.setUploadFrequency=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.upload_frequency=j;return this};h.prototype.setUploadScheduleDayOfWeek=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.upload_schedule_day_of_week=j;return this};h.prototype.setUploadScheduleTimeInSeconds=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.upload_schedule_time_in_seconds=j;return this};h.prototype.setUploadSessionID=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.upload_session_id=j;return this};h.prototype.setUsername=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.username=j;return this};h.prototype.setUsernameError=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.username_error=j;return this};h.prototype.setVC=function(j){this.$ProductCatalogBusinessEventsTypedLogger1.vc=j;return this};var i={action_data:true,action_element:true,ad_account_id:true,ad_account_relationship:true,adcampaign_group_id:true,business_id:true,catalog_home_tab:true,catalog_id:true,category:true,client_app_id:true,event:true,external_uri:true,feed_file_error:true,feed_file_name:true,feed_file_size:true,feed_id:true,feed_name:true,feed_name_error:true,feed_uri:true,feed_uri_error:true,fileoptions_default_currency:true,fileoptions_delimiter:true,fileoptions_encoding:true,fileoptions_use_quoted_fields:true,input_method:true,nav_source:true,page_uri:true,password:true,password_error:true,session_id:true,time_taken_in_ms:true,update_only:true,upload_date_date:true,upload_date_time:true,upload_frequency:true,upload_schedule_day_of_week:true,upload_schedule_time_in_seconds:true,upload_session_id:true,username:true,username_error:true,vc:true};f.exports=h}),null);
__d("ProductCatalogBusinessEventsLoggerHelper",["CacheStorage","CatalogTabKeys","CurrentUser","ErrorUtils","ProductAppContextStore","ProductCatalogBusinessEventActionElement","ProductCatalogBusinessEventCategory","ProductCatalogBusinessEventName","ProductCatalogBusinessEventsTypedLogger","CommerceQualityMetric","ProductsConfig","URI","WebApiApplication","keyMirror","uuid"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="product_catalogs",i=["^/products/catalog.*","^/products/feed.*","^/settings/product-catalogs/.*","^/$"],j=new(c("CacheStorage"))("sessionstorage",h);function k(){this.FeedTabKeys=c("keyMirror")({overview:null,products:null,settings:null});this.registerErrorListener()}k.prototype.registerErrorListener=function(){c("ErrorUtils").addListener(function(l){if(l.type&&l.type!=="mustfix")return;var m=c("URI").getRequestURI().getPath(),n=this.$ProductCatalogBusinessEventsLoggerHelper1()&&i.filter(function(o){return m.match(o)}).length>0;if(!n)return;this.$ProductCatalogBusinessEventsLoggerHelper2({error_message:l.message,error_type:l.name,stack_trace:l.stack,error_data:JSON.stringify(l)})}.bind(this))};k.prototype.logRedirectToAddProducts=function(l){this.getEmptyStateViewLogger().setEvent(c("ProductCatalogBusinessEventName").EMPTY_STATE_VIEW_ADD_PRODUCT).log();this.getCatalogFeedsViewLogger(l).setEvent(c("ProductCatalogBusinessEventName").FEED_CREATE_OPEN_DIALOG_CLICK).log()};k.prototype.$ProductCatalogBusinessEventsLoggerHelper2=function(l){this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").ERROR_EVENT_CATEGORY).setEvent(c("ProductCatalogBusinessEventName").UNHANDLED_JS_EXCEPTION).setActionData(l).log()};k.prototype.getProductsViewLogger=function(l,m){var n=this.getLogger();if(l)n.setCatalogID(l);if(m)n.setFeedID(m);return n.setCategory(c("ProductCatalogBusinessEventCategory").PRODUCTS_VIEW)};k.prototype.getEmptyStateViewLogger=function(){return this.getBaseLogger().setCategory(c("ProductCatalogBusinessEventCategory").EMPTY_STATE_VIEW)};k.prototype.getLandingPageLogger=function(){return this.getBaseLogger().setCategory(c("ProductCatalogBusinessEventCategory").LANDING_PAGE)};k.prototype.getAddProductsPageLogger=function(){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").ADD_PRODUCTS_PAGE)};k.prototype.getFeedCreatePageLogger=function(){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").FEED_CREATE_PAGE)};k.prototype.getProductsTabLogger=function(){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").PRODUCTS_TAB)};k.prototype.getCreateAdFlowLogger=function(){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").CREATE_AD_FLOW)};k.prototype.getAdsCreationLogger=function(){return this.getBaseLogger().setCategory(c("ProductCatalogBusinessEventCategory").CAMPAIGN_CREATION)};k.prototype.getDiagnosticsViewLogger=function(l){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").DIAGNOSTICS_VIEW).setCatalogID(l)};k.prototype.getProductHoverCardLogger=function(l){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").PRODUCT_INSIGHTS_HOVERCARD).setCatalogID(l)};k.prototype.getProductSetsViewLogger=function(l){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").PRODUCT_SETS_VIEW).setCatalogID(l)};k.prototype.getProductSetsCreationDialogLogger=function(l){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").PRODUCT_SETS_CREATION_DIALOG).setCatalogID(l)};k.prototype.getProductSetsSelectorDialogLogger=function(l){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").PRODUCT_SETS_SELECTOR).setCatalogID(l)};k.prototype.getCatalogHomeLogger=function(l){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").CATALOG_HOME).setCatalogID(l)};k.prototype.getCatalogCreationLogger=function(){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").CATALOG_CREATION_DIALOG)};k.prototype.getCatalogDeletionLogger=function(l){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").CATALOG_DELETION_DIALOG).setCatalogID(l)};k.prototype.getCatalogManagerLogger=function(){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").CATALOG_MANAGER)};k.prototype.getCatalogSettingsLogger=function(l){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").CATALOG_SETTINGS).setCatalogID(l)};k.prototype.getDataSourcesPageLogger=function(l,m){var n=this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").DATA_SOURCES).setCatalogID(l);if(m)n.setFeedID(m);return n};k.prototype.getCatalogFeedsViewLogger=function(l){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").CATALOG_FEEDS_VIEW).setCatalogID(l)};k.prototype.getFeedOverviewLogger=function(l){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").FEED_OVERVIEW).setFeedID(l)};k.prototype.getEventsTabLogger=function(){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").EVENTS_TAB)};k.prototype.getExternalURILogger=function(){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").EXTERNAL_URI)};k.prototype.getFeedSettingsLogger=function(l,m){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").FEED_SETTINGS).setCatalogID(l).setFeedID(m)};k.prototype.getDebugToolsLogger=function(){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").DEBUG_TOOLS)};k.prototype.getLeftNavLogger=function(){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").LEFT_NAV)};k.prototype.getPreviewLogger=function(l){var m=this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").FEED_PREVIEW);if(l)m.setCatalogID(l);return m};k.prototype.getQualityLogger=function(l){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").QUALITY).setCatalogID(l)};k.prototype.getSmartPixelOverviewLogger=function(l){return this.getLogger().setCategory(c("ProductCatalogBusinessEventCategory").SMART_PIXEL_OVERVIEW).setActionData({pixelID:l})};k.prototype.getLogger=function(){var l=this.getBaseLogger().setCatalogID(c("ProductAppContextStore").getCatalogID()).setCatalogHomeTab(c("ProductAppContextStore").getCurrentTab());if(c("ProductsConfig").businessID)l.setBusinessID(c("ProductsConfig").businessID);return l};k.prototype.getBaseLogger=function(){var l=c("CurrentUser").getAccountID(),m=j.get(l);if(!m){m=c("uuid")();j.set(l,m)}var n=new(c("ProductCatalogBusinessEventsTypedLogger"))().setPageURI(window.location.href).setSessionID(m),o=c("WebApiApplication").getClientID();if(o)n.setClientAppID(o);return n};k.prototype.getActiveTabKey=function(l,m,n){__p&&__p();if(m){var o="/catalogs/"+m+"/",p=n?this.FeedTabKeys:c("CatalogTabKeys");if(n)o+="feeds/"+n+"/";for(var q=Object.keys(p),r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t;if(l.startsWith(o+u)){if(u===c("CatalogTabKeys").feeds)return c("CatalogTabKeys").data_sources;return u}}}return l};k.prototype.log=function(l,event,m,n){if(m)l.setActionElement(m);l.setEvent(event).setActionData(n).log()};k.prototype.getQualityActionElement=function(l){switch(l){case c("CommerceQualityMetric").QUALIFIED_BRAND:return c("ProductCatalogBusinessEventActionElement").QUALITY_ISSUE_QUALIFIED_BRAND;case c("CommerceQualityMetric").QUALIFIED_CATEGORY:return c("ProductCatalogBusinessEventActionElement").QUALITY_ISSUE_QUALIFIED_CATEGORY;case c("CommerceQualityMetric").QUALIFIED_DESCRIPTION:return c("ProductCatalogBusinessEventActionElement").QUALITY_ISSUE_QUALIFIED_DESCRIPTION;case c("CommerceQualityMetric").QUALIFIED_IMAGE:return c("ProductCatalogBusinessEventActionElement").QUALITY_ISSUE_QUALIFIED_IMAGE;case c("CommerceQualityMetric").DUPLICATE_NAMES:return c("ProductCatalogBusinessEventActionElement").QUALITY_ISSUE_DUPLICATE_NAMES;case c("CommerceQualityMetric").DUPLICATE_DESCRIPTIONS:return c("ProductCatalogBusinessEventActionElement").QUALITY_ISSUE_DUPLICATE_DESCRIPTIONS}return undefined};k.prototype.$ProductCatalogBusinessEventsLoggerHelper1=function(){return c("URI").getRequestURI().getSubdomain()==="business"};f.exports=new k()}),null);
__d("AdsProductSetStore",["AdsActionTypes","AdsBaseDataStore","AdsLoadState_LEGACY","AdsProductSetBatchCreateErrorDataAction","AdsProductSetBatchDeleteErrorDataAction","AdsProductSetBatchLoadedDataAction","AdsProductSetBatchLoadErrorDataAction","AdsProductSetCreateBatchDataAction","AdsProductSetDataManager","AdsProductSetDeleteBatchDataAction","ProductCatalogBusinessEventName","ProductCatalogBusinessEventsLoggerHelper"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AdsBaseDataStore"));i=h&&h.prototype;function j(){i.constructor.call(this);this.creationResponse=null}j.prototype.getDataManager=function(){return c("AdsProductSetDataManager")};j.prototype.__onDispatch=function(k){__p&&__p();var l=k.action;switch(l.type){case c("AdsProductSetBatchLoadedDataAction").actionType:this.__handleData(l.productSets,c("AdsLoadState_LEGACY").LOADED);break;case c("AdsProductSetBatchDeleteErrorDataAction").actionType:case c("AdsProductSetBatchLoadErrorDataAction").actionType:this.__handleData(l.errors,c("AdsLoadState_LEGACY").ERROR);break;case c("AdsProductSetBatchCreateErrorDataAction").actionType:this.__handleData(l.errors,c("AdsLoadState_LEGACY").ERROR);l.errors.forEach(function(m,n){if(m.code==10803){this.creationResponse={result:"duplicate",duplicateId:m.error_data.product_set_id};this.__emitChange()}}.bind(this));break;case c("AdsProductSetCreateBatchDataAction").actionType:this.$AdsProductSetStore1(l.productCatalogID,l.objectsData,l.source);break;case c("AdsActionTypes").PRODUCT_SET.BATCH_CREATED:this.creationResponse={result:"success",productSetID:l.productSetID};this.__emitChange();if(l.isSuggested)c("ProductCatalogBusinessEventsLoggerHelper").getProductSetsSelectorDialogLogger(l.productCatalogID).setEvent(c("ProductCatalogBusinessEventName").SUGGESTED_PRODUCT_SET_CREATED).setActionData({product_set_id:l.productSetID}).log();break;case c("AdsProductSetDeleteBatchDataAction").actionType:this.$AdsProductSetStore2(l.productCatalogID,l.productSetIDs);break}};j.prototype.$AdsProductSetStore2=function(k,l){c("AdsProductSetDataManager").deleteProductSetsForProductCatalog(k,l)};j.prototype.$AdsProductSetStore1=function(k,l,m){c("AdsProductSetDataManager").createProductSetsForProductCatalog(k,l,m)};j.prototype.retrieveCreationResponse=function(){var k=this.creationResponse;this.creationResponse=null;return k};j.prototype.getCachedCreationResponse=function(){return this.creationResponse};f.exports=new j()}),null);
__d("ads-camp-constants",[],(function a(b,c,d,e,f,g){f.exports={INFLATION_MIN_VALUE:0,INFLATION_MAX_VALUE:15,BUDGET_TYPE:{DAILY:"d",LIFETIME:"l"}}}),null);
__d("AdsAPISplitTestConfigRecord",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({budget:undefined,early_winner_declaration_enabled:undefined,end_time:undefined,splits:undefined,start_time:undefined,test_variable:undefined});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("AdsSplitTestConstants",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADPUBLISHER_BUFFER_MINUTES:15,ADPUBLISHER_BUFFER_SECONDS:900,SPLIT_TEST_BUCKETS:1e4,MAX_CONFIDENCE_THRESHOLD:95,MAX_LENGTH_DAYS:14,MIN_LENGTH_DAYS:3})}),null);
__d("AdsSplitTestBudgetRecommendationUtils",["AdsAPIAdAccountFields","AdsAPIObjectives","AdsSplitTestConstants","DateTime","PeriodUnit","TimeInterval"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(k,l){return Math.min(Math.max(k.instant<=l.instant?c("TimeInterval").fromDateTimes(k,l).measure(c("PeriodUnit").day):0,c("AdsSplitTestConstants").MIN_LENGTH_DAYS),c("AdsSplitTestConstants").MAX_LENGTH_DAYS)}function i(k,l,m,n,o){return[j(l),k[c("AdsAPIAdAccountFields").CURRENCY],m,h(n,o)].join(",")}function j(k){switch(k){case c("AdsAPIObjectives").EVENT_RESPONSES:case c("AdsAPIObjectives").IMPRESSIONS:case c("AdsAPIObjectives").PAGE_LIKES:case c("AdsAPIObjectives").POST_ENGAGEMENT:return"engagement";case c("AdsAPIObjectives").CONVERSIONS:case c("AdsAPIObjectives").PRODUCT_CATALOG_SALES:case c("AdsAPIObjectives").WEBSITE_CONVERSIONS:return"website_conversions";case c("AdsAPIObjectives").APP_INSTALLS:case c("AdsAPIObjectives").CANVAS_APP_INSTALLS:case c("AdsAPIObjectives").MOBILE_APP_INSTALLS:return"app_installs";default:return k.toLowerCase()}}f.exports={getBoundedTestDayCount:h,getBudgetRecommendationKeyString:i}}),null);
__d("AdsCampaignDerivedUtils",["AdsTimeUtils","DateConsts","unixTimestampFromDate"],(function a(b,c,d,e,f,g){var h={getRemainingCampaignDurationInDays:function i(j){var k=Date.now()/c("DateConsts").MS_PER_SEC,l=j.start_time&&c("unixTimestampFromDate")(j.start_time);l=l==null||l>=k?l:k;var m=j.end_time;m=m?c("unixTimestampFromDate")(m):null;if(l&&m&&m>l)return c("AdsTimeUtils").getDifferenceInDays(l*c("DateConsts").MS_PER_SEC,m*c("DateConsts").MS_PER_SEC);else return 0}};f.exports=h}),null);
__d("AdsBudgetValidationUtils",["invariant","AdsAPIAccountPaths","AdsAPIBillingEvents","AdsAPICampaignPaths","AdsAPIObjectives","AdsAppUtils","AdsBuyingTypes","AdsCampaignBudgetConstants","AdsCampaignDerivedUtils","AdsCampaignUtils","ads-camp-constants","getByPath"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(m,n,o,p,q){__p&&__p();var r=c("getByPath")(p,c("AdsAPICampaignPaths").DAILY_BUDGET),s=c("getByPath")(p,c("AdsAPICampaignPaths").LIFETIME_BUDGET);r||s||h(0);var t=r?c("ads-camp-constants").BUDGET_TYPE.DAILY:c("ads-camp-constants").BUDGET_TYPE.LIFETIME,u=c("AdsCampaignDerivedUtils").getRemainingCampaignDurationInDays(p),v=c("getByPath")(o,c("AdsAPIAccountPaths").MIN_DAILY_BUDGET),w=c("getByPath")(o,c("AdsAPIAccountPaths").CURRENCY),x=c("getByPath")(p,c("AdsAPICampaignPaths").BID_AMOUNT)||0,y=j(m,c("getByPath")(p,c("AdsAPICampaignPaths").BILLING_EVENT)),z=x*y,A=k(m,n,w,c("getByPath")(p,c("AdsAPICampaignPaths").BILLING_EVENT),v);if(z<A)z=A;var B=!v||v<z;if(t===c("ads-camp-constants").BUDGET_TYPE.DAILY)if(B)return z;else return v;else if(t===c("ads-camp-constants").BUDGET_TYPE.LIFETIME&&!!u){var C=l(q),D=z*u+C;if(B)return D;else{var E=v*u;return E}}return 0}function j(m,n){if(m!==c("AdsBuyingTypes").AUCTION||n===c("AdsAPIBillingEvents").IMPRESSIONS)return 0;return c("AdsCampaignBudgetConstants").BID_INFO_MULTIPLIER_FOR_CPC_CPA}function k(m,n,o,p,q){__p&&__p();var r=0;if(m!==c("AdsBuyingTypes").AUCTION||p===c("AdsAPIBillingEvents").IMPRESSIONS)r=q;else{var s=0;if(n===c("AdsAPIObjectives").VIDEO_VIEWS)s=c("AdsCampaignBudgetConstants").MIN_BUDGET_FOR_VIDEO_VIEWS_CPA;else if(c("AdsAppUtils").isAppInstall(n))s=c("AdsCampaignBudgetConstants").MIN_BUDGET_FOR_LOW_FREQUENCY_CPA;else s=c("AdsCampaignBudgetConstants").MIN_BUDGET_FOR_CPC_CPA;r=c("AdsCampaignUtils").convertUSDBudgetToCurrency(o,s)}var t=c("AdsCampaignBudgetConstants").ADS_RESTRICTED_CURRENCIES_FOR_L2_BUDGET.includes(o),u=t?c("AdsCampaignBudgetConstants").STRICT_MULTIPLIER:c("AdsCampaignBudgetConstants").LOOSE_MULTIPLIER;return u*r}function l(m){var n=c("getByPath")(m,c("AdsAPICampaignPaths").LIFETIME_BUDGET,0),o=c("getByPath")(m,c("AdsAPICampaignPaths").BUDGET_REMAINING,n);return n-o}f.exports={getMinimumBudget:i}}),null);
__d("AdsSplitTestBudgetMode",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EVEN:"EVEN",WEIGHTED:"WEIGHTED"})}),null);
__d("AdsSplitTestBudgetUtils",["AdsAPICampaignGroupPaths","AdsBudgetValidationUtils","AdsCampaignUtils","AdsCurrencyFormatter","AdsSplitTestBudgetMode","AdsSplitTestBudgetRecommendationUtils","AdsSplitTestConfigUtils","AdsSplitTestConstants","AdsSplitTestSitevarConfig","AdsTestedFBTStrings","ads-lib-formatters","getByPath","nullthrows","sumOfArray"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("AdsSplitTestBudgetRecommendationUtils").getBoundedTestDayCount,i=c("ads-lib-formatters").createIntlPercentFormatter(2);function j(x,y){__p&&__p();var z=x.map(function(C,D){var E=C*y;return{index:D,"int":Math.floor(E),dec:E%1}}).sort(function(C,D){return D.dec-C.dec}),A=y-c("sumOfArray")(z.map(function(C){var D=C["int"];return D}));for(var B=0;B<A;B++)z[B]["int"]++;return z.sort(function(C,D){return C.index-D.index}).map(function(C){var D=C["int"];return D})}function k(x){return x===c("AdsSplitTestBudgetMode").EVEN?c("AdsTestedFBTStrings").EVEN_SPLIT:c("AdsTestedFBTStrings").WEIGHTED_SPLIT}function l(x,y){if(y==null)return null;return c("AdsCurrencyFormatter").formatCurrencyFullFormat(x,y,true,true)}function m(x,y){if(y==null)return null;return c("AdsCurrencyFormatter").formatCurrencyFullFormat(x,y,false,true)}function n(x){return i(x/c("AdsSplitTestConstants").SPLIT_TEST_BUCKETS)}function o(x,y){var z=x.length,A=c("sumOfArray")(x),B=t(x)===c("AdsSplitTestBudgetMode").EVEN?Array(z).fill(1/z):x.map(function(C){return C/A});return j(B,y)}function p(x,y,z){return t(x)===c("AdsSplitTestBudgetMode").EVEN?z*x.length:Math.ceil(z*c("AdsSplitTestConstants").SPLIT_TEST_BUCKETS/y)}function q(x){var y=arguments.length<=1||arguments[1]===undefined?c("AdsSplitTestConstants").SPLIT_TEST_BUCKETS:arguments[1];return x===0?[]:j(Array(x).fill(1/x),y)}function r(x,y,z,A,B,C){__p&&__p();var D=c("AdsSplitTestConstants").SPLIT_TEST_BUCKETS;y.forEach(function(H){return D=Math.min(H,D)});var E=c("AdsSplitTestSitevarConfig").BID_COEFFICIENT*c("AdsSplitTestConstants").SPLIT_TEST_BUCKETS/D;if(z){var F=z.startTime,G=z.endTime;E/=h(F,G)}E=c("AdsCampaignUtils").convertUSDBudgetToCurrency(x,Math.floor(E));if(!!B&&!!A&&!!C)E=Math.max(E,s(A,y,B,C));return E}function s(x,y,z,A){var B=0,C=Array.isArray(y)?y:y.toArray();z.forEach(function(D){var E=c("nullthrows")(c("AdsSplitTestConfigUtils").getSplitTestConfigSplitsIndex(D));B=Math.max(B,c("AdsBudgetValidationUtils").getMinimumBudget(c("getByPath")(A,c("AdsAPICampaignGroupPaths").BUYING_TYPE),c("getByPath")(A,c("AdsAPICampaignGroupPaths").OBJECTIVE),x,D)*c("AdsSplitTestConstants").SPLIT_TEST_BUCKETS/C[E])});return Math.floor(B)}function t(x){__p&&__p();var y=0;x.forEach(function(B){return y++});if(y<2)return c("AdsSplitTestBudgetMode").EVEN;var z=q(y),A=true;x.forEach(function(B,C){if(B!==z[C])A=false});return A?c("AdsSplitTestBudgetMode").EVEN:c("AdsSplitTestBudgetMode").WEIGHTED}function u(x,y,z){y=Math.round(y||c("AdsSplitTestConstants").SPLIT_TEST_BUCKETS*(1.1-x*.1));z=z||0;var A=q(x-1,c("AdsSplitTestConstants").SPLIT_TEST_BUCKETS-y);A.splice(z,0,y);return A}function v(x){var y=null,z=void 0;x.forEach(function(A,B){if(y===null||A>z){z=A;y=B}});return y}function w(x,y){return x===c("AdsSplitTestBudgetMode").WEIGHTED?u(y):q(y)}f.exports={discretizeBucketsForTotal:j,formatBudgetSplitMode:k,formatCurrency:l,formatCurrencyShort:m,formatSplitPercent:n,getCampaignBudgets:o,getCampaignGroupBudgetFromCampaignBudget:p,getEvenSplitPercentages:q,getBasicRecommendedBudget:r,getMinBudgetCalculatedByCampaignSettingsAndSplits:s,getSplitTestBudgetMode:t,getSplitsByBudgetModeAndSplitsLength:w,getWeightedSplitPercentages:u,getWeightedSplitPresetIndex:v}}),null);
__d("AdsSplitTestConfigUtils",["AdsAPIAdAccountFields","AdsAPICampaignGroupPaths","AdsAPICampaignPaths","AdsAPISplitTestConfigFields","AdsAPISplitTestConfigRecord","AdsSplitTestBudgetUtils","AdsSplitTestSitevarConfig","DateTime","immutable","getByPath"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").List;function i(w){return j(w,{})}function j(w,x){var y,z=w[c("AdsAPIAdAccountFields").CURRENCY],A=h(c("AdsSplitTestBudgetUtils").getEvenSplitPercentages(x.numberOfSplits||v())),B=u(w[c("AdsAPIAdAccountFields").TIMEZONE_ID],x),C=B.startTime,D=B.endTime;return new(c("AdsAPISplitTestConfigRecord"))((y={},y[c("AdsAPISplitTestConfigFields").BUDGET]=c("AdsSplitTestBudgetUtils").getBasicRecommendedBudget(z,A),y[c("AdsAPISplitTestConfigFields").SPLITS]=A,y[c("AdsAPISplitTestConfigFields").START_TIME]=C.toISOString(),y[c("AdsAPISplitTestConfigFields").END_TIME]=D.toISOString(),y[c("AdsAPISplitTestConfigFields").EARLY_WINNER_DECLARATION_ENABLED]=x.earlyWinnerDeclaration||false,y[c("AdsAPISplitTestConfigFields").TEST_VARIABLE]=x.testVariable,y))}function k(w){return c("getByPath")(w,c("AdsAPICampaignGroupPaths").SPLIT_TEST_CONFIG.path)}function l(w){return c("getByPath")(w,c("AdsAPICampaignGroupPaths").SPLIT_TEST_CONFIG.BUDGET)}function m(w){return c("getByPath")(w,c("AdsAPICampaignGroupPaths").SPLIT_TEST_CONFIG.END_TIME)}function n(w){return c("getByPath")(w,c("AdsAPICampaignGroupPaths").SPLIT_TEST_CONFIG.SPLITS)}function o(w){return c("getByPath")(w,c("AdsAPICampaignGroupPaths").SPLIT_TEST_CONFIG.SPLITS)}function p(w){return c("getByPath")(w,c("AdsAPICampaignGroupPaths").SPLIT_TEST_CONFIG.START_TIME)}function q(w){return c("getByPath")(w,c("AdsAPICampaignGroupPaths").SPLIT_TEST_CONFIG.TEST_VARIABLE)}function r(w){return c("getByPath")(w,c("AdsAPICampaignPaths").SPLIT_TEST_CONFIG_SPLITS_INDEX)}function s(w){return!!w&&Object.keys(w).length!==0}function t(w){return u(w,{})}function u(w,x){var y=x.duration,z=x.daysFromNowUntilStart;z=z||c("AdsSplitTestSitevarConfig").DEFAULT_START_TIME_DAYS_AFTER_NOW;y=y||c("AdsSplitTestSitevarConfig").DEFAULT_DURATION_DAYS;var A=c("DateTime").now(w).addDays(z);return{startTime:A,endTime:A.addDays(y)}}function v(){return c("AdsSplitTestSitevarConfig").MIN_NUMBER_OF_CAMPAIGN_WITHIN_SPLIT_TEST}f.exports={getDefaultConfig:i,getDefaultNumberOfSplits:v,getDefaultSplitTestStartAndEndTime:t,getSplitTestStartAndEndTimeWithParams:u,getSplitTestBudget:l,getSplitTestConfig:k,getSplitTestConfigSplitsIndex:r,getSplitTestConfigWithParams:j,getSplitTestEndTime:m,getSplitTestSplits:n,getSplitTestSplitsForAdsAPICampaignGroupRecord:o,getSplitTestStartTime:p,getSplitTestVariable:q,isSplitTestConfigValid:s}}),null);
__d("AdsSplitTestStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({RUNNING:"RUNNING",COMPLETED:"COMPLETED",SCHEDULED:"SCHEDULED",WARMING_UP:"WARMING_UP"})}),null);
__d("AdsSplitTestUtils",["AdsAccountCapabilities","AdsAccountUtils","AdsActivityStatuses","AdsAPICampaignGroupPaths","AdsAPICampaignGroupRecord","AdsAPICampaignPaths","AdsAPIObjectives","AdsAPIOptimizationGoals","AdsApplicationUtils","AdsBuyingTypes","AdsCampaignUtils","AdsEmptyValue","AdsSplitTestConfigUtils","AdsSplitTestSitevarConfig","AdsSplitTestStatus","AdsSplitTestVariable","AdsUIMediaFormat","Map","Set","filterSet","getBulkByPath","getByPath"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="1105960652871489",i="1738164643098669",j="166313650471318",k="1962159924052051";function l(J){return Array.from(J.keys()).filter(function(K){var L=J.get(K);return C(L)})}function m(J){return Array.from(J.keys()).filter(function(K){var L=J.get(K);return A(L)})}function n(J){return Array.from(J.keys()).filter(function(K){var L=J.get(K);return B(L)})}function o(J){return Array.from(J.keys()).filter(function(K){var L=J.get(K);return!C(L)})}function p(J){return l(J).length}function q(J){return J.sort(function(K,L){return(c("AdsSplitTestConfigUtils").getSplitTestConfigSplitsIndex(K)||0)-(c("AdsSplitTestConfigUtils").getSplitTestConfigSplitsIndex(L)||0)})}function r(J){return J.some(function(K){return c("getByPath")(K,c("AdsAPICampaignPaths").OPTIMIZATION_GOAL)===c("AdsAPIOptimizationGoals").VALUE})}function s(J,K){return!r(K)}function t(J){var K=c("getBulkByPath")(J,c("AdsAPICampaignGroupPaths").SPLIT_TEST_STATUS);return!!K&&K.getValues().some(x)}function u(J){var K=c("getBulkByPath")(J,c("AdsAPICampaignGroupPaths").SPLIT_TEST_STATUS);return!!K&&K.getValues().some(function(L){return L&&L!==c("AdsSplitTestStatus").SCHEDULED})}function v(J){var K=c("getBulkByPath")(J,c("AdsAPICampaignGroupPaths").SPLIT_TEST_CONFIG.path);return!!K&&Object.values(K).some(function(L){return!(L instanceof c("AdsEmptyValue"))})}function w(J){return c("getByPath")(J,c("AdsAPICampaignGroupPaths").SPLIT_TEST_STATUS)}function x(J){return[c("AdsSplitTestStatus").SCHEDULED,c("AdsSplitTestStatus").WARMING_UP,c("AdsSplitTestStatus").RUNNING].some(function(K){return J===K})}function y(J){return J===c("AdsSplitTestStatus").RUNNING||J===c("AdsSplitTestStatus").COMPLETED}function z(J){return c("AdsSplitTestConfigUtils").getSplitTestVariable(J)===c("AdsSplitTestVariable").CREATIVE}function A(J){var K=w(J);return x(K)}function B(J){return w(J)===c("AdsSplitTestStatus").COMPLETED}function C(J){if(!J)return false;var K=c("AdsSplitTestConfigUtils").getSplitTestConfig(J);return c("AdsSplitTestConfigUtils").isSplitTestConfigValid(K)}function D(J,K){var L=C(J),M=K.activity_status?K.activity_status.status:null;return L&&M===c("AdsActivityStatuses").NOT_PUBLISHED}function E(J,K){var L=J.getIn(c("AdsAPICampaignPaths").DAILY_BUDGET),M=J.getIn(c("AdsAPICampaignPaths").LIFETIME_BUDGET);return L>=c("AdsCampaignUtils").convertUSDBudgetToCurrency(K,c("AdsSplitTestSitevarConfig").UPSELL_MIN_DAILY_BUDGET_USD_CENT)||M>=c("AdsCampaignUtils").convertUSDBudgetToCurrency(K,c("AdsSplitTestSitevarConfig").UPSELL_MIN_LIFETIME_BUDGET_USD_CENT)}function F(J,K){return z(J)?c("filterSet")(K,function(L){return[c("AdsUIMediaFormat").CAROUSEL,c("AdsUIMediaFormat").SINGLE_IMAGE,c("AdsUIMediaFormat").SINGLE_VIDEO].includes(L)}):K}function G(J,K){var L=c("AdsSplitTestConfigUtils").getSplitTestVariable(J),M=w(J);return L===K&&!!M&&M!==c("AdsSplitTestStatus").SCHEDULED}function H(J,K,L){return I(J,L)&&K===c("AdsBuyingTypes").AUCTION&&!c("AdsApplicationUtils").isCreativeStudio()}function I(J,K){switch(K){case c("AdsAPIObjectives").APP_INSTALLS:case c("AdsAPIObjectives").CANVAS_APP_INSTALLS:case c("AdsAPIObjectives").CONVERSIONS:case c("AdsAPIObjectives").LEAD_GENERATION:case c("AdsAPIObjectives").LINK_CLICKS:case c("AdsAPIObjectives").MOBILE_APP_INSTALLS:case c("AdsAPIObjectives").REACH:case c("AdsAPIObjectives").VIDEO_VIEWS:return true;case c("AdsAPIObjectives").EVENT_RESPONSES:case c("AdsAPIObjectives").PAGE_LIKES:case c("AdsAPIObjectives").POST_ENGAGEMENT:return c("AdsAccountUtils").hasCapability(J,c("AdsAccountCapabilities").ADS_SPLIT_TEST_ENGAGEMENT);case c("AdsAPIObjectives").MESSAGES:return c("AdsAccountUtils").hasCapability(J,c("AdsAccountCapabilities").ADS_SPLIT_TEST_MESSAGES);case c("AdsAPIObjectives").PRODUCT_CATALOG_SALES:return c("AdsAccountUtils").hasCapability(J,c("AdsAccountCapabilities").ADS_SPLIT_TEST_PCS);case c("AdsAPIObjectives").STORE_VISITS:return c("AdsAccountUtils").hasCapability(J,c("AdsAccountCapabilities").ADS_SPLIT_TEST_STORE_VISITS);default:return false}}f.exports={areSplitTestVariantsReadOnly:G,doesBulkSpecContainActiveSplitTests:t,doesBulkSpecContainNonScheduledStatusSplitTest:u,doesBulkSpecContainSplitTests:v,filterUnsupportedUIMediaFormats:F,getCampaignGroupIDsWithActiveSplitTest:m,getCampaignGroupIDsWithCompletedSplitTest:n,getCampaignGroupIDsWithSplitTest:l,getCampaignGroupIDsWithoutSplitTest:o,getNumberOfSplitTests:p,getSplitTestStatus:w,hasActiveSplitTest:A,hasDraftSplitTest:D,hasCompletedSplitTest:B,hasEarlyWinnerCapability:s,hasSplitTest:C,isActiveSplitTestStatus:x,isRunningOrCompletedSplitTestStatus:y,isSplitTestSupported:H,isCampaignEligibleForSplitUpsell:E,isCreativeSplitTest:z,sortCampaignsByIndex:q,SPLIT_TEST_BUDGET_AND_SCHEDULE_CMS_ID:h,SPLIT_TEST_HELP_CMS_ID:i,SPLIT_TEST_HOW_WINNER_IS_DETERMINED_CMS_ID:j,SPLIT_TEST_SELECT_VARIABLE_CMS_ID:k}}),null);
__d("AdsBidOptions",[],(function a(b,c,d,e,f,g){"use strict";var h={ACTIONS:"actions",CLICKS:"clicks",IMPRESSIONS:"impressions",OCPM_ACTIONS:"ocpm_actions",OCPM_REACH:"ocpm_reach"};f.exports=h}),null);
__d("AdsBidUtils",["fbt","AdsAPIBidInfoFields","AdsAPIBidInfoFieldsLabels","AdsAPIBidType","AdsAPIOptimizationGoals","AdsBidInfoWeights","AdsBidOptions","AdsBidTypes","AdsCurrencyFormatter","AdsPEImportExportConstants","StrSet"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("AdsPEImportExportConstants").Bid,j=new(c("StrSet"))([c("AdsAPIOptimizationGoals").CLICKS]),k=new(c("StrSet"))([c("AdsAPIOptimizationGoals").IMPRESSIONS,c("AdsAPIOptimizationGoals").REACH]),l={};l[c("AdsBidTypes").BID_TYPE_MULTI_PREMIUM]={apiValue:c("AdsAPIBidType").MULTI_PREMIUM,text:h._("Multi Premium"),value:c("AdsBidTypes").BID_TYPE_MULTI_PREMIUM,tabSeparated:[i.MULTI_PREMIUM,"multi premium","multi_premium"],bidOption:c("AdsBidOptions").IMPRESSIONS};l[c("AdsBidTypes").BID_TYPE_FCPM]={apiValue:c("AdsAPIBidType").FIXED_CPM,text:h._("FCPM"),value:c("AdsBidTypes").BID_TYPE_FCPM,tabSeparated:[i.FIXED_CPM,"cpm_fixed"],bidOption:c("AdsBidOptions").IMPRESSIONS};l[c("AdsBidTypes").BID_TYPE_CPC]={apiValue:c("AdsAPIBidType").CPC,text:h._("CPC"),value:c("AdsBidTypes").BID_TYPE_CPC,tabSeparated:[i.CPC],bidOption:c("AdsBidOptions").CLICKS};l[c("AdsBidTypes").BID_TYPE_CPM]={apiValue:c("AdsAPIBidType").CPM,text:h._("CPM"),value:c("AdsBidTypes").BID_TYPE_CPM,tabSeparated:[i.CPM],bidOption:c("AdsBidOptions").IMPRESSIONS};l[c("AdsBidTypes").BID_TYPE_MULTI_ABSOLUTE]={apiValue:c("AdsAPIBidType").ABSOLUTE_OCPM,text:h._("Optimized CPM"),value:c("AdsBidTypes").BID_TYPE_MULTI_ABSOLUTE,tabSeparated:[i.ABSOLUTE_OCPM,"multi_absolute"],bidOption:c("AdsBidOptions").IMPRESSIONS};l[c("AdsBidTypes").BID_TYPE_CPA]={apiValue:c("AdsAPIBidType").CPA,text:h._("CPA"),value:c("AdsBidTypes").BID_TYPE_CPA,tabSeparated:[i.CPA],bidOption:c("AdsBidOptions").OCPM_ACTIONS};var m={};for(var n in l)if(Object.prototype.hasOwnProperty.call(l,n)){var o=l[n];o.tabSeparated.forEach(function(q){m[q]=o})}var p={RANGE_THRESHOLD:5,getBidTypeString:function q(o){__p&&__p();switch(o){case c("AdsAPIBidType").ABSOLUTE_OCPM:return h._("Optimized CPM");case c("AdsAPIBidType").CPA:return h._("CPA");case c("AdsAPIBidType").CPC:return h._("CPC");case c("AdsAPIBidType").CPM:return h._("CPM");case c("AdsAPIBidType").FIXED_CPM:return h._("FCPM");case c("AdsAPIBidType").FIXED_PRICING:return h._("FCPC");case c("AdsAPIBidType").MULTI_PREMIUM:return h._("Multi");case c("AdsAPIBidType").RELATIVE_OCPM:return h._("Optimized CPM");case c("AdsAPIBidType").RTB:return h._("CPM RTB");default:return""}},getBidInfoFieldLabel:function q(r){return c("AdsAPIBidInfoFieldsLabels")[r]||r},getBidTypeInfo:function q(o){var r=p.bidTypeToLegacyValue(o);return l[r]},getBidValueString:function q(o,r,s,t){var u=Object.keys(r).map(function(v){return r[v]}).filter(function(v){return!!v});if(t||u.length!==1||o===c("AdsAPIBidType").MULTI_PREMIUM||o===c("AdsAPIBidType").RELATIVE_OCPM||o===c("AdsAPIBidType").RTB)return p.getAutoLabel();return c("AdsCurrencyFormatter").formatCurrencyWithNumberDelimiters(s,u[0])},getAutoLabel:function q(){return h._("Auto")},getLowestCostLabel:function q(){return h._("Lowest cost")},options:function q(r){return p._filteredOptions(r)},bidTypeFromLegacyValue:function q(o){return c("AdsBidTypes").MIGRATION_MAP[o]||o},bidTypeToLegacyValue:function q(o){return c("AdsBidTypes").REVERSE_MIGRATION_MAP[o]||parseInt(o,10)},hasBidActions:function q(r){return!!(r&&r.ACTIONS&&r.ACTIONS>0)},hasBidClicks:function q(r){return!!(r&&r.CLICKS&&r.CLICKS>0)},allOptions:function q(){return p._filteredOptions()},_filteredOptions:function q(r){var s=[l[c("AdsBidTypes").BID_TYPE_CPC],l[c("AdsBidTypes").BID_TYPE_CPM],l[c("AdsBidTypes").BID_TYPE_MULTI_ABSOLUTE],l[c("AdsBidTypes").BID_TYPE_CPA]];if(r===undefined||r){s.push(l[c("AdsBidTypes").BID_TYPE_FCPM]);s.push(l[c("AdsBidTypes").BID_TYPE_MULTI_PREMIUM])}return s},fixedPriceOptions:function q(){return[l[c("AdsBidTypes").BID_TYPE_MULTI_PREMIUM]]},premiumSelfServeOptions:function q(){return[l[c("AdsBidTypes").BID_TYPE_MULTI_PREMIUM]]},reachBlockOptions:function q(){return[l[c("AdsBidTypes").BID_TYPE_MULTI_PREMIUM]]},deprecatedReachBlockOptions:function q(){return[l[c("AdsBidTypes").BID_TYPE_FCPM]]},reachFrequencyOptions:function q(){return[l[c("AdsBidTypes").BID_TYPE_MULTI_PREMIUM]]},instagramOptions:function q(){return[l[c("AdsBidTypes").BID_TYPE_FCPM]]},getName:function q(r,s){for(var t=0,u=p.options(s);t<u.length;t++)if(u[t].value==r)return u[t].text;return""},getTabSeparatedName:function q(r){for(var s=0,t=p.allOptions();s<t.length;s++)if(t[s].value==r)return Array.isArray(t[s].tabSeparated)?t[s].tabSeparated[0]:t[s].tabSeparated;return""},parseTabSeparated:function q(r){if(r)r=r.toLowerCase();return r==null?undefined:m[r]},getBidInfoKeyFromOptimizationGoal:function q(r){if(j.contains(r))return c("AdsAPIBidInfoFields").CLICKS;else if(k.contains(r))return c("AdsAPIBidInfoFields").IMPRESSIONS;return c("AdsAPIBidInfoFields").ACTIONS},getBidInfoKey_LEGACY:function q(o){switch(o){case c("AdsAPIBidType").CPA:return c("AdsBidInfoWeights").API_ACTIONS;case c("AdsAPIBidType").CPC:return c("AdsBidInfoWeights").API_CLICKS;case c("AdsAPIBidType").CPM:return c("AdsBidInfoWeights").API_IMPRESSIONS}return null}};f.exports=p}),null);
__d("messagePageCTAUtils",["Promise","AdsGraphAPI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j,k){return c("AdsGraphAPI").get(f.id).object("page",j).edge("settings").post({access_token:k,option:{USERS_CAN_MESSAGE:true}})}function i(j,k){__p&&__p();return c("AdsGraphAPI").get(f.id).object("page",j).edge("settings").get({access_token:k}).then(function(l){__p&&__p();var m=void 0;if(l.data)l.data.some(function(n){if(n.setting==="USERS_CAN_MESSAGE"){m=n;return true}});if(!m)return c("Promise").reject();return c("Promise").resolve(m.value)})}f.exports={enableMessaging:h,isMessagingEnabled:i}}),null);
__d("ProductAppContextActions",["AdsDataAtom","ProductsActionTypes"],(function a(b,c,d,e,f,g){"use strict";var h={set:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({data:j,type:c("ProductsActionTypes").CONTEXT.SET})}};f.exports=h}),null);
__d("ProductCatalogActions",["AdsDataAtom","ProductCatalogBusinessEventName","ProductCatalogBusinessEventsLoggerHelper","ProductsActionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={createCatalog:function i(j,k){c("ProductCatalogBusinessEventsLoggerHelper").getCatalogCreationLogger().setEvent(k.parent_catalog_id?c("ProductCatalogBusinessEventName").CATALOG_SEGMENT_CREATE_SUBMIT:c("ProductCatalogBusinessEventName").CATALOG_CREATE_SUBMIT).setActionData(k).log();c("AdsDataAtom").handleUpdateFromViewAction({clientID:j,data:k,type:c("ProductsActionTypes").CATALOG.CREATE})},catalogCreated:function i(j){__p&&__p();for(var k=j.values(),l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=k.length)break;n=k[m++]}else{m=k.next();if(m.done)break;n=m.value}var o=n;c("ProductCatalogBusinessEventsLoggerHelper").getCatalogCreationLogger().setEvent(c("ProductCatalogBusinessEventName").CATALOG_CREATE_SUCCESS).setCatalogID(o.id).log()}c("AdsDataAtom").handleUpdateFromServerResponse({catalogs:j,type:c("ProductsActionTypes").CATALOG.CREATED})},catalogBatchLoaded:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({catalogs:j,type:c("ProductsActionTypes").CATALOG.BATCH_LOADED})},catalogBatchLoadError:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({errors:j,type:c("ProductsActionTypes").CATALOG.BATCH_LOAD_ERROR})},addExternalEventSources:function i(j,k){c("AdsDataAtom").handleUpdateFromViewAction({productCatalogID:j,externalEventSources:k,type:c("ProductsActionTypes").CATALOG.ADD_EXTERNAL_EVENT_SOURCES})},deleteExternalEventSources:function i(j,k){c("AdsDataAtom").handleUpdateFromViewAction({productCatalogID:j,externalEventSources:k,type:c("ProductsActionTypes").CATALOG.DELETE_EXTERNAL_EVENT_SOURCES})},catalogExternalEventSourcesUpdated:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({productCatalogID:j,type:c("ProductsActionTypes").CATALOG.EXTERNAL_EVENT_SOURCE_LIST_UPDATED})},reloadFeedPreview:function i(j,k){c("AdsDataAtom").handleUpdateFromViewAction({productCatalogID:j,fileMeta:k,type:c("ProductsActionTypes").CATALOG.PREVIEW.RELOAD})},feedPreviewLoaded:function i(j,k){c("AdsDataAtom").handleUpdateFromServerResponse({id:j,response:k,type:c("ProductsActionTypes").CATALOG.PREVIEW.LOADED})},feedPreviewLoadError:function i(j,k){c("AdsDataAtom").handleUpdateFromServerResponse({id:j,error:k,type:c("ProductsActionTypes").CATALOG.PREVIEW.ERROR})},catalogEventStatsLoaded:function i(j,k){c("AdsDataAtom").handleUpdateFromServerResponse({key:j,eventStats:k,type:c("ProductsActionTypes").EVENT_STATS.LOADED})},catalogEventStatsLoadError:function i(j,k){c("AdsDataAtom").handleUpdateFromServerResponse({key:j,error:k,type:c("ProductsActionTypes").EVENT_STATS.LOAD_ERROR})},catalogEventSamplesLoaded:function i(j,k,l,m){c("AdsDataAtom").handleUpdateFromServerResponse({eventName:j,sourceID:k,eventSamples:l,datePreset:m,type:c("ProductsActionTypes").EVENT_SAMPLES.LOADED})},catalogEventSamplesLoadError:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({error:j,type:c("ProductsActionTypes").EVENT_SAMPLES.LOAD_ERROR})},loadEventSamples:function i(j){c("AdsDataAtom").handleUpdateFromViewAction(babelHelpers["extends"]({},j,{type:c("ProductsActionTypes").EVENT_SAMPLES.LOAD}))},reload:function i(j){c("AdsDataAtom").handleUpdateFromViewAction({productCatalogID:j,type:c("ProductsActionTypes").CATALOG.RELOAD})},partialReload:function i(j){c("AdsDataAtom").handleUpdateFromViewAction({productCatalogID:j,type:c("ProductsActionTypes").CATALOG.PARTIAL_RELOAD})},update:function i(j,k){c("AdsDataAtom").handleUpdateFromViewAction({data:k,productCatalogID:j,type:c("ProductsActionTypes").CATALOG.UPDATE})},attachToBusiness:function i(j,k){c("ProductCatalogBusinessEventsLoggerHelper").getCatalogSettingsLogger().setEvent(c("ProductCatalogBusinessEventName").CATALOG_SETTINGS_ATTACH_TO_BUSINESS).setActionData({busines_id:k}).setCatalogID(j).log();c("AdsDataAtom").handleUpdateFromViewAction({productCatalogID:j,businessID:k,type:c("ProductsActionTypes").CATALOG.ATTACH_TO_BUSINESS})},attachToPage:function i(j,k){c("AdsDataAtom").handleUpdateFromViewAction({productCatalogID:j,pageID:k,type:c("ProductsActionTypes").CATALOG.ATTACH_TO_PAGE})},"delete":function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({productCatalogID:j,type:c("ProductsActionTypes").CATALOG.DELETE_BATCH})},closeExternalEventSourceAssociationDialog:function i(j){c("AdsDataAtom").handleUpdateFromViewAction({productCatalogID:j,type:c("ProductsActionTypes").EXTERNAL_EVENT_SOURCE.ASSOCIATION_DIALOG.CLOSE})},openExternalEventSourceAssociationDialog:function i(){c("AdsDataAtom").handleUpdateFromViewAction({type:c("ProductsActionTypes").EXTERNAL_EVENT_SOURCE.ASSOCIATION_DIALOG.OPEN})},externalEventSourceAssociationDialogAutoOpened:function i(){c("AdsDataAtom").handleUpdateFromViewAction({type:c("ProductsActionTypes").EXTERNAL_EVENT_SOURCE.ASSOCIATION_DIALOG.AUTO_OPEN})},someExternalEventSourceHasNoSignal:function i(){c("AdsDataAtom").handleUpdateFromViewAction({type:c("ProductsActionTypes").EXTERNAL_EVENT_SOURCE.NO_SIGNAL})},sendQualityReport:function i(j,k){c("AdsDataAtom").handleUpdateFromViewAction({productCatalogID:j,data:k,type:c("ProductsActionTypes").CATALOG.SEND_QUALITY_REPORT})},populateFromEventData:function i(j,k){c("AdsDataAtom").handleUpdateFromViewAction({productCatalogID:j,data:k,type:c("ProductsActionTypes").CATALOG.POPULATE_FROM_EVENT_DATA})}};f.exports=h}),null);
__d("ProductsErrorActions",["AdsDataAtom","ProductsActionTypes"],(function a(b,c,d,e,f,g){"use strict";var h={set:function i(j){c("AdsDataAtom").handleUpdateFromServerResponse({error:j,type:c("ProductsActionTypes").ERROR.SET})},clear:function i(){c("AdsDataAtom").handleUpdateFromServerResponse({type:c("ProductsActionTypes").ERROR.CLEAR})}};f.exports=h}),null);
__d("DynamicItemsPluralCapitalized$FbtEnum",[],(function a(b,c,d,e,f,g){"use strict";var h={auto_offers:"Auto Offers",commerce:"Products",destinations:"Destinations",flights:"Flights",home_listings:"Home Listings",home_service_providers:"Home service providers",hotels:"Hotels",vehicle_offers:"Vehicle Offers",vehicles:"Vehicles"};f.exports=h}),null);
__d("ProductCatalogDataManagerHelpers",["fbt","immutable","DynamicItemsPluralCapitalized$FbtEnum"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("immutable").fromJS,j={parseObject:function k(l){return i(l).toMap().mapEntries(function(m){return[m[1].get("key"),m[1].get("value")]}).toObject()},getDefaultProductSetName:function k(l){return h._({"auto_offers":"All Auto Offers","commerce":"All Products","destinations":"All Destinations","flights":"All Flights","home_listings":"All Home Listings","home_service_providers":"All Home service providers","hotels":"All Hotels","vehicle_offers":"All Vehicle Offers","vehicles":"All Vehicles"},[h["enum"](l,c("DynamicItemsPluralCapitalized$FbtEnum"))])}};f.exports=j}),null);
__d("ProductsDataManager",["AdsBaseDataManager","ProductsErrorActions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AdsBaseDataManager"));i=h&&h.prototype;j.prototype.__onBatchProductsError=function(k){__p&&__p();for(var l=k.values(),m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=l.length)break;o=l[n++]}else{n=l.next();if(n.done)break;o=n.value}var p=o;c("ProductsErrorActions").set(p);return}};j.prototype.__onBatchCreateError=function(k){this.__onBatchProductsError(k)};j.prototype.__onBatchDeleteError=function(k){this.__onBatchProductsError(k)};j.prototype.__onBatchUpdateError=function(k){this.__onBatchProductsError(k)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("ProductCatalogDataManager",["fbt","AdsProductSetActions","Bootloader","DynamicItemsPluralCapitalized$FbtEnum","GraphAPI","ProductAppContextActions","ProductCatalogActions","ProductCatalogDataManagerHelpers","ProductCatalogField","ProductCatalogAPIParams","ProductsAPIConfig","ProductsDataManager","ProductCatalogDataManagerUtils","AdsProductSetStore"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("ProductCatalogAPIParams").fields.concat([c("ProductCatalogField").PRODUCT_COUNT]);i=babelHelpers.inherits(l,c("ProductsDataManager"));j=i&&i.prototype;l.prototype.loadAll=function(n){n.forEach(function(o){return this.load(o)}.bind(this))};l.prototype.loadWithFields=function(n,o){var p=arguments.length<=2||arguments[2]===undefined?true:arguments[2];c("ProductCatalogDataManagerUtils").loadWithFields(n,o).done(this.__handleSuccess.bind(this,["load"],n,null),function(q){if(p)this.retryLoad(n);else this.__handleError(["load"],n,null,q)}.bind(this))};l.prototype.load=function(n){this.loadWithFields(n,k,true)};l.prototype.loadFeedPreview=function(n,o){c("GraphAPI")(c("ProductsAPIConfig").version).object("product_catalog",n).edge("feed_previews").post({file_meta:o}).done(function(p){return this.__onFeedPreviewLoaded(n+o,p)}.bind(this),function(p){return this.__onFeedPreviewLoadError(n+o,p)}.bind(this))};l.prototype.createProductCatalog=function(n,o){c("ProductCatalogDataManagerUtils").createCatalog(o).done(function(p){return this.__handleSuccess(["create"],n,null,{id:p.id,parent_catalog_id:o.parent_catalog_id,vertical:o.vertical,externalEventSources:o.externalEventSources})}.bind(this),this.__handleError.bind(this,["create"],n,null))};l.prototype.update=function(n,o){c("GraphAPI")(c("ProductsAPIConfig").version).object("product_catalog",n).batched().post(o).done(function(p){return this.__handleSuccess(["update"],n,null,{productCatalogID:n,data:o})}.bind(this),function(p){return this.__handleError(["update"],n,null,p)}.bind(this))};l.prototype.attachToBusiness=function(n,o){this.update(n,{business_id:o})};l.prototype.attachToPage=function(n,o){this.update(n,{page_id:o})};l.prototype.addExternalEventSources=function(n,o){c("GraphAPI")(c("ProductsAPIConfig").version).object("product_catalog",n).edge("external_event_sources").post({external_event_sources:o}).done(function(p){return this.$ProductCatalogDataManagerClass1(n)}.bind(this),function(p){return this.__handleError(["update"],n,null,p)}.bind(this))};l.prototype.deleteExternalEventSources=function(n,o){c("GraphAPI")(c("ProductsAPIConfig").version).object("product_catalog",n).edge("external_event_sources").remove({external_event_sources:o}).done(function(p){return this.$ProductCatalogDataManagerClass1(n)}.bind(this),function(p){return this.__handleError(["update"],n,null,p)}.bind(this))};l.prototype["delete"]=function(n){c("GraphAPI")(c("ProductsAPIConfig").version).object("product_catalog",n).batched().remove().done(this.__handleSuccess.bind(this,["delete"],n,null),this.__handleError.bind(this,["delete"],n,null))};l.prototype.sendQualityReport=function(n,o){c("GraphAPI")(c("ProductsAPIConfig").version).object("product_catalog",n).edge("email_quality_report").post(o).done(function(p){return this.__handleSuccess(["update"],n,null,{productCatalogID:n})}.bind(this),function(p){return this.__handleError(["update"],n,null,p)}.bind(this))};l.prototype.retryLoad=function(n){this.loadWithFields(n,c("ProductCatalogAPIParams").fields,false)};l.prototype.populateFromEventData=function(n,o){c("GraphAPI")(c("ProductsAPIConfig").version).object("product_catalog",n).edge("populate_from_event_data").post(o).done(function(){},function(p){return this.__handleError(["update"],n,null,p)}.bind(this))};l.prototype.__onBatchDeleted=function(n){c("ProductAppContextActions").set({catalogID:null,ownerID:null,ownerType:null})};l.prototype.$ProductCatalogDataManagerClass1=function(n){c("ProductCatalogActions").catalogExternalEventSourcesUpdated(n);c("ProductCatalogActions").partialReload(n)};l.prototype.__onFeedPreviewLoaded=function(n,o){c("ProductCatalogActions").feedPreviewLoaded(n,o)};l.prototype.__onFeedPreviewLoadError=function(n,o){c("ProductCatalogActions").feedPreviewLoadError(n,o)};l.prototype.__onBatchCreated=function(n){__p&&__p();c("AdsProductSetStore");n.forEach(function(o,p){var q=c("ProductCatalogDataManagerHelpers").getDefaultProductSetName(o[c("ProductCatalogField").VERTICAL]);c("AdsProductSetActions").createProductSet(o.id,{name:q.toString()});if(o.externalEventSources&&o.externalEventSources.length>0)c("ProductCatalogActions").addExternalEventSources(o.id,o.externalEventSources);if(o.parent_catalog_id)c("Bootloader").loadModules(["CatalogSegmentActions"],function(r){r.catalogSegmentCreated(o)},"ProductCatalogDataManager")});c("ProductCatalogActions").catalogCreated(n)};l.prototype.__onBatchLoaded=function(n){c("ProductCatalogActions").catalogBatchLoaded(n)};l.prototype.__onBatchLoadError=function(n){c("ProductCatalogActions").catalogBatchLoadError(n)};l.prototype.__onBatchUpdated=function(n){var o=n.keys().next().value;if(o)c("ProductCatalogActions").reload(o)};l.prototype.__getObjectTypeLabel=function(){return h._("Product Catalog")};function l(){i.apply(this,arguments)}var m=new l();f.exports=m}),null);
__d("ProductCatalogExpensiveStore",["AdsBaseDataStore","AdsLoadState_LEGACY","ImmutableObject","Map","ProductsActionTypes","ProductCatalogDataManager"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AdsBaseDataStore"));i=h&&h.prototype;j.prototype.getDataManager=function(){return c("ProductCatalogDataManager")};j.prototype.__onDispatch=function(l){__p&&__p();var m=l.action;switch(m.actionType){case c("ProductsActionTypes").CATALOG.CREATE:c("ProductCatalogDataManager").createProductCatalog(m.clientID,m.data);break;case c("ProductsActionTypes").CATALOG.CREATED:this.__handleData(m.catalogs,c("AdsLoadState_LEGACY").LOADED);break;case c("ProductsActionTypes").CATALOG.UPDATE:this.$ProductCatalogExpensiveStoreClass1(m.productCatalogID,m.data);break;case c("ProductsActionTypes").CATALOG.BATCH_LOADED:this.__handleData(m.catalogs,c("AdsLoadState_LEGACY").LOADED);break;case c("ProductsActionTypes").CATALOG.BATCH_LOAD_ERROR:this.__handleData(m.errors,c("AdsLoadState_LEGACY").ERROR);break;case c("ProductsActionTypes").CATALOG.ADD_EXTERNAL_EVENT_SOURCES:c("ProductCatalogDataManager").addExternalEventSources(m.productCatalogID,m.externalEventSources);break;case c("ProductsActionTypes").CATALOG.DELETE_EXTERNAL_EVENT_SOURCES:c("ProductCatalogDataManager").deleteExternalEventSources(m.productCatalogID,m.externalEventSources);break;case c("ProductsActionTypes").CATALOG.DELETE_BATCH:c("ProductCatalogDataManager")["delete"](m.productCatalogID);break;case c("ProductsActionTypes").FEED.CREATED:if(this.__invalidate(m.productCatalogID))this.__emitChange();break;case c("ProductsActionTypes").CATALOG.ATTACH_TO_BUSINESS:c("ProductCatalogDataManager").attachToBusiness(m.productCatalogID,m.businessID);break;case c("ProductsActionTypes").CATALOG.ATTACH_TO_PAGE:c("ProductCatalogDataManager").attachToPage(m.productCatalogID,m.pageID);break;case c("ProductsActionTypes").CATALOG.PARTIAL_RELOAD:c("ProductCatalogDataManager").load(m.productCatalogID);break;case c("ProductsActionTypes").CATALOG.RELOAD:case c("ProductsActionTypes").FEED.BATCH_DELETED:if(this.__invalidate(m.productCatalogID))this.__emitChange();break;case c("ProductsActionTypes").CATALOG.SEND_QUALITY_REPORT:c("ProductCatalogDataManager").sendQualityReport(m.productCatalogID,m.data);break;case c("ProductsActionTypes").CATALOG.POPULATE_FROM_EVENT_DATA:c("ProductCatalogDataManager").populateFromEventData(m.productCatalogID,m.data);break}};j.prototype.$ProductCatalogExpensiveStoreClass1=function(l,m){var n=this.getCached(l);this.__handleData(new(c("Map"))([[l,c("ImmutableObject").set(n,m)]]),c("AdsLoadState_LEGACY").LOADED);c("ProductCatalogDataManager").update(l,m)};function j(){h.apply(this,arguments)}var k=new j();f.exports=k}),null);
__d("AdsAPICampaignGroupType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DEFAULT:"default",SPLIT_TEST:"split_test"})}),null);